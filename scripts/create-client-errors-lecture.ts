import { PrismaClient } from '@prisma/client';
import { PrismaPg } from '@prisma/adapter-pg';
import { Pool } from 'pg';
import dotenv from 'dotenv';

dotenv.config();

const pool = new Pool({ connectionString: process.env.DATABASE_URL });
const adapter = new PrismaPg(pool);
const prisma = new PrismaClient({ adapter });

const lectureContent = `# HTTP –°—Ç–∞—Ç—É—Å –∫–æ–¥—ã: –û—à–∏–±–∫–∏ –∫–ª–∏–µ–Ω—Ç–∞ (4xx)

## –í–≤–µ–¥–µ–Ω–∏–µ: –ß—Ç–æ —Ç–∞–∫–æ–µ –æ—à–∏–±–∫–∏ –∫–ª–∏–µ–Ω—Ç–∞?

–ü—Ä–µ–¥—Å—Ç–∞–≤—å—Ç–µ, —á—Ç–æ –≤—ã –ø—Ä–∏—à–ª–∏ –≤ –±–∏–±–ª–∏–æ—Ç–µ–∫—É:
- –í—ã –ø—Ä–æ—Å–∏—Ç–µ –∫–Ω–∏–≥—É, –∫–æ—Ç–æ—Ä–æ–π **–Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç** ‚Üí –±–∏–±–ª–∏–æ—Ç–µ–∫–∞—Ä—å –≥–æ–≤–æ—Ä–∏—Ç: "–¢–∞–∫–æ–π –∫–Ω–∏–≥–∏ –Ω–µ—Ç" (404)
- –í—ã –ø—ã—Ç–∞–µ—Ç–µ—Å—å –≤–æ–π—Ç–∏ –≤ **–∑–∞–∫—Ä—ã—Ç—ã–π –∑–∞–ª –±–µ–∑ –ø—Ä–æ–ø—É—Å–∫–∞** ‚Üí –æ—Ö—Ä–∞–Ω–Ω–∏–∫: "–ü—Ä–µ–¥—ä—è–≤–∏—Ç–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã" (401)
- –£ –≤–∞—Å –µ—Å—Ç—å –ø—Ä–æ–ø—É—Å–∫, –Ω–æ –≤—ã –ø—ã—Ç–∞–µ—Ç–µ—Å—å –ø–æ–ø–∞—Å—Ç—å –≤ **–∞—Ä—Ö–∏–≤ –¥–ª—è —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤** ‚Üí "–î–æ—Å—Ç—É–ø –∑–∞–ø—Ä–µ—â—ë–Ω" (403)
- –í—ã –ø—Ä–æ—Å–∏—Ç–µ **–∏—Å–ø–æ—Ä—Ç–∏—Ç—å –∫–Ω–∏–≥—É** ‚Üí –±–∏–±–ª–∏–æ—Ç–µ–∫–∞—Ä—å: "–Ø –Ω–µ –º–æ–≥—É —ç—Ç–æ —Å–¥–µ–ª–∞—Ç—å" (405 Method Not Allowed)

**HTTP —Å—Ç–∞—Ç—É—Å –∫–æ–¥—ã 4xx** ‚Äî —ç—Ç–æ —Å–ø–æ—Å–æ–± —Å–µ—Ä–≤–µ—Ä–∞ —Å–∫–∞–∑–∞—Ç—å:
> "–ü—Ä–æ–±–ª–µ–º–∞ –≤ **–≤–∞—à–µ–º** –∑–∞–ø—Ä–æ—Å–µ. –í—ã —á—Ç–æ-—Ç–æ —Å–¥–µ–ª–∞–ª–∏ –Ω–µ —Ç–∞–∫, –∏ —è –Ω–µ –º–æ–≥—É –µ–≥–æ –≤—ã–ø–æ–ª–Ω–∏—Ç—å."

---

## –î–∏–∞–ø–∞–∑–æ–Ω 4xx: –û—à–∏–±–∫–∏ –Ω–∞ —Å—Ç–æ—Ä–æ–Ω–µ –∫–ª–∏–µ–Ω—Ç–∞

### –û–±—â–∞—è —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∞

–ö–æ–¥—ã **4xx (400-499)** –æ–∑–Ω–∞—á–∞—é—Ç, —á—Ç–æ:
- ‚ùå –ó–∞–ø—Ä–æ—Å **–Ω–µ–≤–µ—Ä–Ω—ã–π** –∏–ª–∏ **–Ω–µ–≤—ã–ø–æ–ª–Ω–∏–º—ã–π**
- ‚ùå –û—à–∏–±–∫–∞ –Ω–∞ **—Å—Ç–æ—Ä–æ–Ω–µ –∫–ª–∏–µ–Ω—Ç–∞** (–Ω–µ —Å–µ—Ä–≤–µ—Ä–∞!)
- ‚úÖ –ö–ª–∏–µ–Ω—Ç –¥–æ–ª–∂–µ–Ω **–∏—Å–ø—Ä–∞–≤–∏—Ç—å** –∑–∞–ø—Ä–æ—Å –∏ –ø–æ–≤—Ç–æ—Ä–∏—Ç—å
- ‚úÖ –ü–æ–≤—Ç–æ—Ä–Ω—ã–π **–∏–¥–µ–Ω—Ç–∏—á–Ω—ã–π** –∑–∞–ø—Ä–æ—Å –ø—Ä–∏–≤–µ–¥—ë—Ç –∫ —Ç–æ–π –∂–µ –æ—à–∏–±–∫–µ

### –ö—Ç–æ –≤–∏–Ω–æ–≤–∞—Ç?

| –î–∏–∞–ø–∞–∑–æ–Ω | –í–∏–Ω–æ–≤–Ω–∏–∫ | –ß—Ç–æ –¥–µ–ª–∞—Ç—å |
|----------|----------|------------|
| **4xx** | **–ö–ª–∏–µ–Ω—Ç** | –ò—Å–ø—Ä–∞–≤–∏—Ç—å –∑–∞–ø—Ä–æ—Å |
| **5xx** | **–°–µ—Ä–≤–µ—Ä** | –ü–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å –ø–æ–∑–∂–µ –∏–ª–∏ –æ–±—Ä–∞—Ç–∏—Ç—å—Å—è –∫ –∞–¥–º–∏–Ω—É |

---

## 400 Bad Request ‚Äî –ù–µ–≤–µ—Ä–Ω—ã–π –∑–∞–ø—Ä–æ—Å

### –û–ø–∏—Å–∞–Ω–∏–µ

**400 Bad Request** ‚Äî —Å–∞–º—ã–π –æ–±—â–∏–π –∫–æ–¥ –æ—à–∏–±–∫–∏ –∫–ª–∏–µ–Ω—Ç–∞.

> "–í–∞—à –∑–∞–ø—Ä–æ—Å **—Å–∏–Ω—Ç–∞–∫—Å–∏—á–µ—Å–∫–∏ –Ω–µ–≤–µ—Ä–Ω—ã–π** –∏–ª–∏ —è –Ω–µ –º–æ–≥—É –µ–≥–æ –ø–æ–Ω—è—Ç—å."

### –ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å

- ‚úÖ –ù–µ–≤–∞–ª–∏–¥–Ω—ã–π JSON (—Å–∏–Ω—Ç–∞–∫—Å–∏—á–µ—Å–∫–∞—è –æ—à–∏–±–∫–∞)
- ‚úÖ –û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π –∑–∞–≥–æ–ª–æ–≤–æ–∫ (–∫—Ä–æ–º–µ —Å–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã—Ö —Å–ª—É—á–∞–µ–≤)
- ‚úÖ –ù–µ–≤–µ—Ä–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç –¥–∞–Ω–Ω—ã—Ö
- ‚úÖ –ù–∞—Ä—É—à–µ–Ω–∏–µ –æ–±—â–∏—Ö –ø—Ä–∞–≤–∏–ª HTTP

### –ü—Ä–∏–º–µ—Ä—ã

**–ù–µ–≤–∞–ª–∏–¥–Ω—ã–π JSON**:

\`\`\`http
POST /api/users
Content-Type: application/json

{ "name": "Ivan", }  ‚Üê –ª–∏—à–Ω—è—è –∑–∞–ø—è—Ç–∞—è
\`\`\`

**–û—Ç–≤–µ—Ç**:
\`\`\`http
HTTP/1.1 400 Bad Request
Content-Type: application/json

{
  "error": "Invalid JSON",
  "message": "Unexpected token } in JSON at position 18"
}
\`\`\`

**–û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π –∑–∞–≥–æ–ª–æ–≤–æ–∫**:

\`\`\`http
POST /api/users
[–Ω–µ—Ç Content-Type]

{"name": "Ivan"}
\`\`\`

**–û—Ç–≤–µ—Ç**:
\`\`\`http
HTTP/1.1 400 Bad Request
Content-Type: application/json

{
  "error": "Missing required header: Content-Type"
}
\`\`\`

### 400 vs 422

**–í–æ–ø—Ä–æ—Å**: –ö–æ–≥–¥–∞ 400, –∞ –∫–æ–≥–¥–∞ 422?

**400 Bad Request**:
- –°–∏–Ω—Ç–∞–∫—Å–∏—á–µ—Å–∫–∞—è –æ—à–∏–±–∫–∞ (–Ω–µ–≤–∞–ª–∏–¥–Ω—ã–π JSON, XML)
- –ù–∞—Ä—É—à–µ–Ω–∏–µ –ø—Ä–æ—Ç–æ–∫–æ–ª–∞ HTTP
- –ù–µ–≤–µ—Ä–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç –∑–∞–ø—Ä–æ—Å–∞

**422 Unprocessable Entity**:
- JSON –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π, –Ω–æ **–±–∏–∑–Ω–µ—Å-–≤–∞–ª–∏–¥–∞—Ü–∏—è –Ω–µ –ø—Ä–æ—à–ª–∞**
- –î–∞–Ω–Ω—ã–µ —Å–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∏ –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã
- –ù–∞—Ä—É—à–µ–Ω–∏–µ –ø—Ä–∞–≤–∏–ª –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

**–ü—Ä–∏–º–µ—Ä**:

\`\`\`json
// 400 Bad Request - –Ω–µ–≤–∞–ª–∏–¥–Ω—ã–π JSON
{ "age": "abc" }  ‚Üê age –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å —á–∏—Å–ª–æ–º –≤ JSON

// 422 Unprocessable Entity - –≤–∞–ª–∏–¥–Ω—ã–π JSON, –Ω–æ –Ω–µ–≤–µ—Ä–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ
{ "age": -5 }  ‚Üê age –Ω–µ –º–æ–∂–µ—Ç –±—ã—Ç—å –æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω—ã–º
\`\`\`

---

## 401 Unauthorized ‚Äî –¢—Ä–µ–±—É–µ—Ç—Å—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è

### –û–ø–∏—Å–∞–Ω–∏–µ

**401 Unauthorized** (–Ω–∞ —Å–∞–º–æ–º –¥–µ–ª–µ "Unauthenticated") –æ–∑–Ω–∞—á–∞–µ—Ç:

> "–í—ã **–Ω–µ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω—ã**. –ü—Ä–µ–¥—Å—Ç–∞–≤—å—Ç–µ—Å—å, –ø–æ–∂–∞–ª—É–π—Å—Ç–∞!"

### –ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å

- ‚úÖ –¢–æ–∫–µ–Ω –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç
- ‚úÖ –¢–æ–∫–µ–Ω **–∏—Å—Ç—ë–∫**
- ‚úÖ –¢–æ–∫–µ–Ω **–Ω–µ–≤–∞–ª–∏–¥–Ω—ã–π**
- ‚úÖ –ù–µ–≤–µ—Ä–Ω—ã–µ –ª–æ–≥–∏–Ω/–ø–∞—Ä–æ–ª—å

### –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π –∑–∞–≥–æ–ª–æ–≤–æ–∫

**WWW-Authenticate** ‚Äî —Å–µ—Ä–≤–µ—Ä –¥–æ–ª–∂–µ–Ω —É–∫–∞–∑–∞—Ç—å, –∫–∞–∫ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞—Ç—å—Å—è.

\`\`\`http
HTTP/1.1 401 Unauthorized
WWW-Authenticate: Bearer realm="api"
\`\`\`

### –ü—Ä–∏–º–µ—Ä—ã

**–û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç —Ç–æ–∫–µ–Ω**:

\`\`\`http
GET /api/users/me
[–Ω–µ—Ç Authorization –∑–∞–≥–æ–ª–æ–≤–∫–∞]
\`\`\`

**–û—Ç–≤–µ—Ç**:
\`\`\`http
HTTP/1.1 401 Unauthorized
WWW-Authenticate: Bearer realm="api"
Content-Type: application/json

{
  "error": "Authentication required",
  "message": "Please provide a valid access token"
}
\`\`\`

**–ò—Å—Ç—ë–∫ —Ç–æ–∫–µ–Ω**:

\`\`\`http
GET /api/users/me
Authorization: Bearer expired_token_abc123
\`\`\`

**–û—Ç–≤–µ—Ç**:
\`\`\`http
HTTP/1.1 401 Unauthorized
WWW-Authenticate: Bearer realm="api", error="invalid_token", error_description="Token expired"
Content-Type: application/json

{
  "error": "Token expired",
  "message": "Your access token has expired. Please refresh."
}
\`\`\`

**–ù–µ–≤–µ—Ä–Ω—ã–π –ª–æ–≥–∏–Ω/–ø–∞—Ä–æ–ª—å**:

\`\`\`http
POST /api/auth/login
Content-Type: application/json

{
  "email": "user@example.com",
  "password": "wrong_password"
}
\`\`\`

**–û—Ç–≤–µ—Ç**:
\`\`\`http
HTTP/1.1 401 Unauthorized
Content-Type: application/json

{
  "error": "Invalid credentials",
  "message": "Email or password is incorrect"
}
\`\`\`

---

## 403 Forbidden ‚Äî –î–æ—Å—Ç—É–ø –∑–∞–ø—Ä–µ—â—ë–Ω

### –û–ø–∏—Å–∞–Ω–∏–µ

**403 Forbidden** –æ–∑–Ω–∞—á–∞–µ—Ç:

> "–í—ã **–∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω—ã**, –Ω–æ **–Ω–µ –∏–º–µ–µ—Ç–µ –ø—Ä–∞–≤** –Ω–∞ —ç—Ç–æ—Ç —Ä–µ—Å—É—Ä—Å."

### –ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å

- ‚úÖ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω, –Ω–æ **–Ω–µ—Ç –ø—Ä–∞–≤** (authorization)
- ‚úÖ –†–æ–ª—å –Ω–µ –ø–æ–¥—Ö–æ–¥–∏—Ç (admin-only endpoint)
- ‚úÖ CSRF —Ç–æ–∫–µ–Ω –Ω–µ —Å–æ–≤–ø–∞–¥–∞–µ—Ç
- ‚úÖ IP –∞–¥—Ä–µ—Å –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω
- ‚úÖ –ü–æ–ø—ã—Ç–∫–∞ –∏–∑–º–µ–Ω–∏—Ç—å –Ω–µ–∏–∑–º–µ–Ω—è–µ–º—ã–π —Ä–µ—Å—É—Ä—Å

### –ü—Ä–∏–º–µ—Ä—ã

**–ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –ø—Ä–∞–≤**:

\`\`\`http
DELETE /api/users/123
Authorization: Bearer valid_token_for_user_456
\`\`\`

**–û—Ç–≤–µ—Ç**:
\`\`\`http
HTTP/1.1 403 Forbidden
Content-Type: application/json

{
  "error": "Forbidden",
  "message": "You can only delete your own account"
}
\`\`\`

**–¢—Ä–µ–±—É–µ—Ç—Å—è —Ä–æ–ª—å admin**:

\`\`\`http
GET /api/admin/users
Authorization: Bearer valid_token_role_user
\`\`\`

**–û—Ç–≤–µ—Ç**:
\`\`\`http
HTTP/1.1 403 Forbidden
Content-Type: application/json

{
  "error": "Insufficient permissions",
  "message": "Admin role required"
}
\`\`\`

**CSRF —Ç–æ–∫–µ–Ω –Ω–µ —Å–æ–≤–ø–∞–¥–∞–µ—Ç**:

\`\`\`http
POST /api/users/123/delete
Authorization: Bearer valid_token
X-CSRF-Token: invalid_csrf_token
\`\`\`

**–û—Ç–≤–µ—Ç**:
\`\`\`http
HTTP/1.1 403 Forbidden
Content-Type: application/json

{
  "error": "CSRF validation failed",
  "message": "Invalid CSRF token"
}
\`\`\`

**–ü–æ–ø—ã—Ç–∫–∞ –∏–∑–º–µ–Ω–∏—Ç—å –Ω–µ–∏–∑–º–µ–Ω—è–µ–º—ã–π —Ä–µ—Å—É—Ä—Å**:

\`\`\`http
PATCH /api/users/123/email
Authorization: Bearer valid_token

{ "email": "new@example.com" }
\`\`\`

**–û—Ç–≤–µ—Ç** (–µ—Å–ª–∏ email –Ω–µ–ª—å–∑—è –º–µ–Ω—è—Ç—å):
\`\`\`http
HTTP/1.1 403 Forbidden
Content-Type: application/json

{
  "error": "Operation not allowed",
  "message": "Email cannot be changed once set"
}
\`\`\`

---

## 401 vs 403 ‚Äî –ö–ª—é—á–µ–≤–æ–µ —Ä–∞–∑–ª–∏—á–∏–µ

### –†–∞–∑–Ω–∏—Ü–∞

| –ö—Ä–∏—Ç–µ—Ä–∏–π | 401 Unauthorized | 403 Forbidden |
|----------|------------------|---------------|
| **–ó–Ω–∞—á–µ–Ω–∏–µ** | –ù–µ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω | –ù–µ—Ç –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø–∞ |
| **–ü—Ä–æ–±–ª–µ–º–∞** | "–ö—Ç–æ —Ç—ã?" | "–Ø –∑–Ω–∞—é –∫—Ç–æ —Ç—ã, –Ω–æ —Ç–µ–±–µ –Ω–µ–ª—å–∑—è" |
| **–†–µ—à–µ–Ω–∏–µ** | –í–æ–π—Ç–∏ –≤ —Å–∏—Å—Ç–µ–º—É | –ó–∞–ø—Ä–æ—Å–∏—Ç—å –ø—Ä–∞–≤–∞ / –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥—Ä—É–≥–æ–π –∞–∫–∫–∞—É–Ω—Ç |
| **WWW-Authenticate** | –û–±—è–∑–∞—Ç–µ–ª–µ–Ω | –ù–µ –Ω—É–∂–µ–Ω |
| **–ü–æ–≤—Ç–æ—Ä–Ω—ã–π –∑–∞–ø—Ä–æ—Å** | –° –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º–∏ credentials | –ù–µ –ø–æ–º–æ–∂–µ—Ç –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏—è –ø—Ä–∞–≤ |

### –ê–Ω–∞–ª–æ–≥–∏—è

**401 Unauthorized**:
> –û—Ö—Ä–∞–Ω–Ω–∏–∫: "–ü—Ä–µ–¥—ä—è–≤–∏—Ç–µ –ø—Ä–æ–ø—É—Å–∫!" (–≤—ã –Ω–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–∏–ª–∏—Å—å)

**403 Forbidden**:
> –û—Ö—Ä–∞–Ω–Ω–∏–∫: "–í–∞—à –ø—Ä–æ–ø—É—Å–∫ –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª–µ–Ω, –Ω–æ –≤–∞–º —Å—é–¥–∞ –Ω–µ–ª—å–∑—è" (—É –≤–∞—Å –Ω–µ—Ç –ø—Ä–∞–≤)

### –ü—Ä–∏–º–µ—Ä—ã —Ä–µ—à–µ–Ω–∏–π

**–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø–æ–ª—É—á–∏–ª 401**:
1. –í–æ–π—Ç–∏ –≤ —Å–∏—Å—Ç–µ–º—É (–ø—Ä–µ–¥–æ—Å—Ç–∞–≤–∏—Ç—å –ª–æ–≥–∏–Ω/–ø–∞—Ä–æ–ª—å)
2. –û–±–Ω–æ–≤–∏—Ç—å —Ç–æ–∫–µ–Ω (refresh token)
3. –ü–æ–ª—É—á–∏—Ç—å –Ω–æ–≤—ã–π —Ç–æ–∫–µ–Ω

**–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø–æ–ª—É—á–∏–ª 403**:
1. –û–±—Ä–∞—Ç–∏—Ç—å—Å—è –∫ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—É –∑–∞ –ø—Ä–∞–≤–∞–º–∏
2. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∞–∫–∫–∞—É–Ω—Ç —Å –Ω—É–∂–Ω—ã–º–∏ –ø—Ä–∞–≤–∞–º–∏
3. –ü–æ–Ω—è—Ç—å, —á—Ç–æ —ç—Ç–æ—Ç —Ä–µ—Å—É—Ä—Å –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω

---

## 404 Not Found ‚Äî –†–µ—Å—É—Ä—Å –Ω–µ –Ω–∞–π–¥–µ–Ω

### –û–ø–∏—Å–∞–Ω–∏–µ

**404 Not Found** ‚Äî —Å–∞–º—ã–π –∏–∑–≤–µ—Å—Ç–Ω—ã–π —Å—Ç–∞—Ç—É—Å –∫–æ–¥.

> "–ó–∞–ø—Ä–æ—à–µ–Ω–Ω—ã–π —Ä–µ—Å—É—Ä—Å **–Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç** –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ."

### –ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å

- ‚úÖ URL –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç
- ‚úÖ –†–µ—Å—É—Ä—Å —Å —Ç–∞–∫–∏–º ID –Ω–µ –Ω–∞–π–¥–µ–Ω
- ‚úÖ Endpoint –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç

### –ü—Ä–∏–º–µ—Ä—ã

**–†–µ—Å—É—Ä—Å –Ω–µ –Ω–∞–π–¥–µ–Ω**:

\`\`\`http
GET /api/users/99999
\`\`\`

**–û—Ç–≤–µ—Ç**:
\`\`\`http
HTTP/1.1 404 Not Found
Content-Type: application/json

{
  "error": "Not Found",
  "message": "User with ID 99999 not found"
}
\`\`\`

**Endpoint –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç**:

\`\`\`http
GET /api/non-existent-endpoint
\`\`\`

**–û—Ç–≤–µ—Ç**:
\`\`\`http
HTTP/1.1 404 Not Found
Content-Type: application/json

{
  "error": "Not Found",
  "message": "Endpoint does not exist"
}
\`\`\`

---

## 405 Method Not Allowed ‚Äî –ú–µ—Ç–æ–¥ –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è

### –û–ø–∏—Å–∞–Ω–∏–µ

**405 Method Not Allowed** –æ–∑–Ω–∞—á–∞–µ—Ç:

> "–≠—Ç–æ—Ç endpoint —Å—É—â–µ—Å—Ç–≤—É–µ—Ç, –Ω–æ **–Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç** —É–∫–∞–∑–∞–Ω–Ω—ã–π HTTP –º–µ—Ç–æ–¥."

### –ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å

- ‚úÖ Endpoint —Å—É—â–µ—Å—Ç–≤—É–µ—Ç, –Ω–æ –º–µ—Ç–æ–¥ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π
- ‚úÖ –ù–∞–ø—Ä–∏–º–µ—Ä: GET –Ω–∞ /users —Ä–∞–±–æ—Ç–∞–µ—Ç, –Ω–æ POST ‚Äî –Ω–µ—Ç

### –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π –∑–∞–≥–æ–ª–æ–≤–æ–∫: Allow

**Allow** ‚Äî —Å–µ—Ä–≤–µ—Ä –î–û–õ–ñ–ï–ù —É–∫–∞–∑–∞—Ç—å, –∫–∞–∫–∏–µ –º–µ—Ç–æ–¥—ã –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç—Å—è.

\`\`\`http
HTTP/1.1 405 Method Not Allowed
Allow: GET, PUT, DELETE
\`\`\`

### –ü—Ä–∏–º–µ—Ä—ã

**POST –Ω–∞ read-only endpoint**:

\`\`\`http
POST /api/users/123
\`\`\`

**–û—Ç–≤–µ—Ç**:
\`\`\`http
HTTP/1.1 405 Method Not Allowed
Allow: GET, PUT, PATCH, DELETE
Content-Type: application/json

{
  "error": "Method Not Allowed",
  "message": "POST is not supported on this endpoint",
  "allowedMethods": ["GET", "PUT", "PATCH", "DELETE"]
}
\`\`\`

**DELETE –Ω–∞ –Ω–µ—É–¥–∞–ª—è–µ–º—ã–π —Ä–µ—Å—É—Ä—Å**:

\`\`\`http
DELETE /api/system/settings
\`\`\`

**–û—Ç–≤–µ—Ç**:
\`\`\`http
HTTP/1.1 405 Method Not Allowed
Allow: GET, PUT
Content-Type: application/json

{
  "error": "Method Not Allowed",
  "message": "System settings cannot be deleted"
}
\`\`\`

### 405 vs 403

| –ö–æ–¥ | –ó–Ω–∞—á–µ–Ω–∏–µ | –ü—Ä–∏–º–µ—Ä |
|-----|----------|--------|
| **405** | –ú–µ—Ç–æ–¥ –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è endpoint'–æ–º | DELETE –Ω–∞ read-only —Ä–µ—Å—É—Ä—Å |
| **403** | –ú–µ—Ç–æ–¥ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è, –Ω–æ —É –≤–∞—Å –Ω–µ—Ç –ø—Ä–∞–≤ | DELETE –µ—Å—Ç—å, –Ω–æ –≤–∞—à–∞ —Ä–æ–ª—å –Ω–µ –º–æ–∂–µ—Ç —É–¥–∞–ª—è—Ç—å |

---

## 406 Not Acceptable ‚Äî –ù–µ –º–æ–≥—É –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–∏—Ç—å —Ç—Ä–µ–±—É–µ–º—ã–π —Ñ–æ—Ä–º–∞—Ç

### –û–ø–∏—Å–∞–Ω–∏–µ

**406 Not Acceptable** –æ–∑–Ω–∞—á–∞–µ—Ç:

> "–Ø –Ω–µ –º–æ–≥—É –≤–µ—Ä–Ω—É—Ç—å –¥–∞–Ω–Ω—ã–µ –≤ —Ñ–æ—Ä–º–∞—Ç–µ, –∫–æ—Ç–æ—Ä—ã–π –≤—ã –∑–∞–ø—Ä–æ—Å–∏–ª–∏ –≤ \`Accept\` –∑–∞–≥–æ–ª–æ–≤–∫–µ."

### –ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å

- ‚úÖ –ö–ª–∏–µ–Ω—Ç –∑–∞–ø—Ä–æ—Å–∏–ª —Ñ–æ—Ä–º–∞—Ç, –∫–æ—Ç–æ—Ä—ã–π —Å–µ—Ä–≤–µ—Ä –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç
- ‚úÖ –ù–µ–ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º–∞—è –≤–µ—Ä—Å–∏—è API –≤ Accept

### –ü—Ä–∏–º–µ—Ä—ã

**–ö–ª–∏–µ–Ω—Ç –ø—Ä–æ—Å–∏—Ç XML, —Å–µ—Ä–≤–µ—Ä —Ç–æ–ª—å–∫–æ JSON**:

\`\`\`http
GET /api/users
Accept: application/xml
\`\`\`

**–û—Ç–≤–µ—Ç**:
\`\`\`http
HTTP/1.1 406 Not Acceptable
Content-Type: application/json

{
  "error": "Not Acceptable",
  "message": "Server only supports application/json",
  "supportedFormats": ["application/json"]
}
\`\`\`

**–ù–µ–ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º–∞—è –≤–µ—Ä—Å–∏—è API**:

\`\`\`http
GET /api/users
Accept: application/vnd.myapi.v5+json
\`\`\`

**–û—Ç–≤–µ—Ç**:
\`\`\`http
HTTP/1.1 406 Not Acceptable
Content-Type: application/json

{
  "error": "API version not supported",
  "message": "Supported versions: v1, v2, v3",
  "requestedVersion": "v5"
}
\`\`\`

---

## 409 Conflict ‚Äî –ö–æ–Ω—Ñ–ª–∏–∫—Ç —Å–æ—Å—Ç–æ—è–Ω–∏—è —Ä–µ—Å—É—Ä—Å–∞

### –û–ø–∏—Å–∞–Ω–∏–µ

**409 Conflict** –æ–∑–Ω–∞—á–∞–µ—Ç:

> "–ó–∞–ø—Ä–æ—Å –∫–æ–Ω—Ñ–ª–∏–∫—Ç—É–µ—Ç —Å **—Ç–µ–∫—É—â–∏–º —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º** —Ä–µ—Å—É—Ä—Å–∞."

### –ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å (–≤—Å–µ –ø–µ—Ä–µ—á–∏—Å–ª–µ–Ω–Ω–æ–µ!)

- ‚úÖ –ü–æ–ø—ã—Ç–∫–∞ —Å–æ–∑–¥–∞—Ç—å **–¥—É–±–ª–∏–∫–∞—Ç** (—É–∂–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç)
- ‚úÖ **–ö–æ–Ω—Ñ–ª–∏–∫—Ç –≤–µ—Ä—Å–∏–π** (optimistic locking)
- ‚úÖ –ù–∞—Ä—É—à–µ–Ω–∏–µ **–±–∏–∑–Ω–µ—Å-–ø—Ä–∞–≤–∏–ª**
- ‚úÖ –ù–∞—Ä—É—à–µ–Ω–∏–µ **—É–Ω–∏–∫–∞–ª—å–Ω–æ–≥–æ –∫–ª—é—á–∞** –ë–î

### –ü—Ä–∏–º–µ—Ä—ã

**–î—É–±–ª–∏–∫–∞—Ç email**:

\`\`\`http
POST /api/users
Content-Type: application/json

{
  "email": "existing@example.com",
  "password": "secret"
}
\`\`\`

**–û—Ç–≤–µ—Ç**:
\`\`\`http
HTTP/1.1 409 Conflict
Content-Type: application/json

{
  "error": "Conflict",
  "message": "User with this email already exists",
  "field": "email"
}
\`\`\`

**–ö–æ–Ω—Ñ–ª–∏–∫—Ç –≤–µ—Ä—Å–∏–π (optimistic locking)**:

\`\`\`http
PUT /api/documents/123
If-Match: "version-1"
Content-Type: application/json

{
  "content": "Updated content"
}
\`\`\`

**–û—Ç–≤–µ—Ç** (–µ—Å–ª–∏ –≤–µ—Ä—Å–∏—è —É–∂–µ "version-2"):
\`\`\`http
HTTP/1.1 409 Conflict
ETag: "version-2"
Content-Type: application/json

{
  "error": "Version conflict",
  "message": "Document was modified by another user",
  "currentVersion": "version-2",
  "yourVersion": "version-1"
}
\`\`\`

**–ù–∞—Ä—É—à–µ–Ω–∏–µ –±–∏–∑–Ω–µ—Å-–ø—Ä–∞–≤–∏–ª–∞**:

\`\`\`http
POST /api/orders/123/cancel
\`\`\`

**–û—Ç–≤–µ—Ç** (–µ—Å–ª–∏ –∑–∞–∫–∞–∑ —É–∂–µ –¥–æ—Å—Ç–∞–≤–ª–µ–Ω):
\`\`\`http
HTTP/1.1 409 Conflict
Content-Type: application/json

{
  "error": "Cannot cancel order",
  "message": "Order has already been delivered",
  "orderStatus": "delivered"
}
\`\`\`

**–ù–∞—Ä—É—à–µ–Ω–∏–µ —É–Ω–∏–∫–∞–ª—å–Ω–æ–≥–æ –∫–ª—é—á–∞ –ë–î**:

\`\`\`http
POST /api/products
Content-Type: application/json

{
  "sku": "PROD-123",
  "name": "Product"
}
\`\`\`

**–û—Ç–≤–µ—Ç** (–µ—Å–ª–∏ SKU —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç):
\`\`\`http
HTTP/1.1 409 Conflict
Content-Type: application/json

{
  "error": "Duplicate SKU",
  "message": "Product with SKU 'PROD-123' already exists"
}
\`\`\`

---

## 410 Gone ‚Äî –†–µ—Å—É—Ä—Å —É–¥–∞–ª—ë–Ω –Ω–∞–≤—Å–µ–≥–¥–∞

### –û–ø–∏—Å–∞–Ω–∏–µ

**410 Gone** –æ–∑–Ω–∞—á–∞–µ—Ç:

> "–†–µ—Å—É—Ä—Å **—Å—É—â–µ—Å—Ç–≤–æ–≤–∞–ª**, –Ω–æ –±—ã–ª **–Ω–∞–º–µ—Ä–µ–Ω–Ω–æ –∏ –Ω–∞–≤—Å–µ–≥–¥–∞ —É–¥–∞–ª—ë–Ω**."

### –ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å

- ‚úÖ –†–µ—Å—É—Ä—Å –±—ã–ª —É–¥–∞–ª—ë–Ω –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–º
- ‚úÖ –ö–æ–Ω—Ç–µ–Ω—Ç –±—ã–ª —É–¥–∞–ª—ë–Ω –ø–æ –∏—Å—Ç–µ—á–µ–Ω–∏—é —Å—Ä–æ–∫–∞
- ‚úÖ –ê–∫–∫–∞—É–Ω—Ç –±—ã–ª –¥–µ–∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω –Ω–∞–≤—Å–µ–≥–¥–∞

### 410 vs 404

| –ö–æ–¥ | –ó–Ω–∞—á–µ–Ω–∏–µ | –ü—Ä–∏–º–µ—Ä |
|-----|----------|--------|
| **404** | –ù–µ –Ω–∞–π–¥–µ–Ω (–º–æ–∂–µ—Ç –Ω–∏–∫–æ–≥–¥–∞ –Ω–µ —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–ª) | \`/api/users/99999\` |
| **410** | –°—É—â–µ—Å—Ç–≤–æ–≤–∞–ª, –Ω–æ **—É–¥–∞–ª—ë–Ω –Ω–∞–≤—Å–µ–≥–¥–∞** | \`/api/posts/123\` (–ø–æ—Å—Ç –±—ã–ª —É–¥–∞–ª—ë–Ω –º–æ–¥–µ—Ä–∞—Ç–æ—Ä–æ–º) |

### –ü—Ä–∏–º–µ—Ä—ã

**–£–¥–∞–ª—ë–Ω–Ω—ã–π –ø–æ—Å—Ç**:

\`\`\`http
GET /api/posts/123
\`\`\`

**–û—Ç–≤–µ—Ç**:
\`\`\`http
HTTP/1.1 410 Gone
Content-Type: application/json

{
  "error": "Gone",
  "message": "This post was permanently deleted",
  "deletedAt": "2024-01-10T10:00:00Z"
}
\`\`\`

**–î–µ–∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∞–∫–∫–∞—É–Ω—Ç**:

\`\`\`http
GET /api/users/456
\`\`\`

**–û—Ç–≤–µ—Ç**:
\`\`\`http
HTTP/1.1 410 Gone
Content-Type: application/json

{
  "error": "Account deactivated",
  "message": "This account has been permanently deactivated"
}
\`\`\`

> üí° **–ü–æ–¥—Å–∫–∞–∑–∫–∞**: 410 –ø–æ–ª–µ–∑–µ–Ω –¥–ª—è SEO ‚Äî –ø–æ–∏—Å–∫–æ–≤–∏–∫–∏ —É–¥–∞–ª—è—Ç —Å—Ç—Ä–∞–Ω–∏—Ü—É –∏–∑ –∏–Ω–¥–µ–∫—Å–∞. 404 –º–æ–≥—É—Ç –ø–µ—Ä–µ–∏–Ω–¥–µ–∫—Å–∏—Ä–æ–≤–∞—Ç—å.

---

## 411 Length Required ‚Äî –¢—Ä–µ–±—É–µ—Ç—Å—è Content-Length

### –û–ø–∏—Å–∞–Ω–∏–µ

**411 Length Required** –æ–∑–Ω–∞—á–∞–µ—Ç:

> "–î–ª—è —ç—Ç–æ–≥–æ –∑–∞–ø—Ä–æ—Å–∞ **–æ–±—è–∑–∞—Ç–µ–ª–µ–Ω** –∑–∞–≥–æ–ª–æ–≤–æ–∫ \`Content-Length\`."

### –ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å

- ‚úÖ POST/PUT –∑–∞–ø—Ä–æ—Å –±–µ–∑ Content-Length
- ‚úÖ –°–µ—Ä–≤–µ—Ä –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç chunked encoding

### –ü—Ä–∏–º–µ—Ä

**POST –±–µ–∑ Content-Length**:

\`\`\`http
POST /api/users
Content-Type: application/json

{"name": "Ivan"}
\`\`\`

**–û—Ç–≤–µ—Ç**:
\`\`\`http
HTTP/1.1 411 Length Required
Content-Type: application/json

{
  "error": "Length Required",
  "message": "Content-Length header is required"
}
\`\`\`

---

## 412 Precondition Failed ‚Äî –£—Å–ª–æ–≤–∏–µ –Ω–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–æ

### –û–ø–∏—Å–∞–Ω–∏–µ

**412 Precondition Failed** –æ–∑–Ω–∞—á–∞–µ—Ç:

> "–£—Å–ª–æ–≤–Ω—ã–µ –∑–∞–≥–æ–ª–æ–≤–∫–∏ (\`If-*\`) **–Ω–µ –≤—ã–ø–æ–ª–Ω–µ–Ω—ã**."

### –ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å

- ‚úÖ \`If-Match\` –Ω–µ —Å–æ–≤–ø–∞–¥–∞–µ—Ç —Å \`ETag\`
- ‚úÖ \`If-Unmodified-Since\` –Ω–µ –≤—ã–ø–æ–ª–Ω–µ–Ω
- ‚úÖ \`If-None-Match\` –Ω–µ –≤—ã–ø–æ–ª–Ω–µ–Ω (–¥–ª—è –Ω–µ-GET)

### –ü—Ä–∏–º–µ—Ä—ã

**If-Match –Ω–µ —Å–æ–≤–ø–∞–¥–∞–µ—Ç**:

\`\`\`http
PUT /api/documents/123
If-Match: "old-etag"
Content-Type: application/json

{ "content": "New content" }
\`\`\`

**–û—Ç–≤–µ—Ç** (–µ—Å–ª–∏ ETag –∏–∑–º–µ–Ω–∏–ª—Å—è):
\`\`\`http
HTTP/1.1 412 Precondition Failed
ETag: "new-etag"
Content-Type: application/json

{
  "error": "Precondition Failed",
  "message": "Document was modified. Please fetch the latest version.",
  "currentETag": "new-etag"
}
\`\`\`

---

## 413 Payload Too Large ‚Äî –¢–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞ —Å–ª–∏—à–∫–æ–º –±–æ–ª—å—à–æ–µ

### –û–ø–∏—Å–∞–Ω–∏–µ

**413 Payload Too Large** –æ–∑–Ω–∞—á–∞–µ—Ç:

> "–¢–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞ –ø—Ä–µ–≤—ã—à–∞–µ—Ç **–ª–∏–º–∏—Ç —Å–µ—Ä–≤–µ—Ä–∞**."

### –ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å (–≤—Å–µ –ø–µ—Ä–µ—á–∏—Å–ª–µ–Ω–Ω–æ–µ!)

- ‚úÖ **–§–∞–π–ª** —Å–ª–∏—à–∫–æ–º –±–æ–ª—å—à–æ–π
- ‚úÖ **JSON** –ø—Ä–µ–≤—ã—à–∞–µ—Ç –ª–∏–º–∏—Ç
- ‚úÖ **–ó–∞–ø—Ä–æ—Å** –ø—Ä–µ–≤—ã—à–∞–µ—Ç –æ–±—â–∏–π —Ä–∞–∑–º–µ—Ä

### –ü—Ä–∏–º–µ—Ä—ã

**–°–ª–∏—à–∫–æ–º –±–æ–ª—å—à–æ–π —Ñ–∞–π–ª**:

\`\`\`http
POST /api/upload
Content-Type: multipart/form-data
Content-Length: 52428800  # 50 MB

[—Ñ–∞–π–ª 50 MB]
\`\`\`

**–û—Ç–≤–µ—Ç** (–µ—Å–ª–∏ –ª–∏–º–∏—Ç 10 MB):
\`\`\`http
HTTP/1.1 413 Payload Too Large
Content-Type: application/json

{
  "error": "File too large",
  "message": "Maximum file size is 10 MB",
  "maxSize": 10485760,
  "receivedSize": 52428800
}
\`\`\`

**–°–ª–∏—à–∫–æ–º –±–æ–ª—å—à–æ–π JSON**:

\`\`\`http
POST /api/batch
Content-Type: application/json

{
  "items": [... 10000 —ç–ª–µ–º–µ–Ω—Ç–æ–≤ ...]
}
\`\`\`

**–û—Ç–≤–µ—Ç**:
\`\`\`http
HTTP/1.1 413 Payload Too Large
Content-Type: application/json

{
  "error": "Too many items",
  "message": "Maximum 1000 items per batch request",
  "maxItems": 1000,
  "receivedItems": 10000
}
\`\`\`

---

## 414 URI Too Long ‚Äî URL —Å–ª–∏—à–∫–æ–º –¥–ª–∏–Ω–Ω—ã–π

### –û–ø–∏—Å–∞–Ω–∏–µ

**414 URI Too Long** –æ–∑–Ω–∞—á–∞–µ—Ç:

> "URL –ø—Ä–µ–≤—ã—à–∞–µ—Ç **–º–∞–∫—Å–∏–º–∞–ª—å–Ω—É—é –¥–ª–∏–Ω—É**, –∫–æ—Ç–æ—Ä—É—é –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç —Å–µ—Ä–≤–µ—Ä."

### –ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å (–≤—Å–µ –ø–µ—Ä–µ—á–∏—Å–ª–µ–Ω–Ω–æ–µ!)

- ‚úÖ **URL** –ø—Ä–µ–≤—ã—à–∞–µ—Ç –ª–∏–º–∏—Ç (~2048 —Å–∏–º–≤–æ–ª–æ–≤)
- ‚úÖ **Query string** —Å–ª–∏—à–∫–æ–º –¥–ª–∏–Ω–Ω—ã–π
- ‚úÖ **–ü—É—Ç—å** —Å–ª–∏—à–∫–æ–º –¥–ª–∏–Ω–Ω—ã–π

### –ü—Ä–∏–º–µ—Ä—ã

**–°–ª–∏—à–∫–æ–º –º–Ω–æ–≥–æ ID –≤ query**:

\`\`\`http
GET /api/users?id=1&id=2&id=3...[1000 ID]...
\`\`\`

**–û—Ç–≤–µ—Ç**:
\`\`\`http
HTTP/1.1 414 URI Too Long
Content-Type: application/json

{
  "error": "URI too long",
  "message": "Use POST /api/users/search for large queries",
  "maxLength": 2048,
  "receivedLength": 15000
}
\`\`\`

**–†–µ—à–µ–Ω–∏–µ**: –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ POST –≤–º–µ—Å—Ç–æ GET:

\`\`\`http
POST /api/users/search
Content-Type: application/json

{
  "ids": [1, 2, 3, ..., 1000]
}
\`\`\`

---

## 415 Unsupported Media Type ‚Äî –ù–µ–ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–π Content-Type

### –û–ø–∏—Å–∞–Ω–∏–µ

**415 Unsupported Media Type** –æ–∑–Ω–∞—á–∞–µ—Ç:

> "–Ø –Ω–µ –º–æ–≥—É –æ–±—Ä–∞–±–æ—Ç–∞—Ç—å –¥–∞–Ω–Ω—ã–µ –≤ —Ñ–æ—Ä–º–∞—Ç–µ, —É–∫–∞–∑–∞–Ω–Ω–æ–º –≤ \`Content-Type\`."

### –ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å

- ‚úÖ –ö–ª–∏–µ–Ω—Ç –æ—Ç–ø—Ä–∞–≤–∏–ª XML, —Å–µ—Ä–≤–µ—Ä –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç —Ç–æ–ª—å–∫–æ JSON
- ‚úÖ –ù–µ–≤–µ—Ä–Ω—ã–π Content-Type –¥–ª—è endpoint'–∞

### –ü—Ä–∏–º–µ—Ä—ã

**XML –≤–º–µ—Å—Ç–æ JSON**:

\`\`\`http
POST /api/users
Content-Type: application/xml

<user><name>Ivan</name></user>
\`\`\`

**–û—Ç–≤–µ—Ç**:
\`\`\`http
HTTP/1.1 415 Unsupported Media Type
Content-Type: application/json

{
  "error": "Unsupported Media Type",
  "message": "Server only accepts application/json",
  "receivedType": "application/xml",
  "supportedTypes": ["application/json"]
}
\`\`\`

---

## 416 Range Not Satisfiable ‚Äî –î–∏–∞–ø–∞–∑–æ–Ω –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω

### –û–ø–∏—Å–∞–Ω–∏–µ

**416 Range Not Satisfiable** –æ–∑–Ω–∞—á–∞–µ—Ç:

> "–ó–∞–ø—Ä–æ—à–µ–Ω–Ω—ã–π \`Range\` –≤—ã—Ö–æ–¥–∏—Ç –∑–∞ –ø—Ä–µ–¥–µ–ª—ã —Ä–µ—Å—É—Ä—Å–∞."

### –ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å

- ‚úÖ –ö–ª–∏–µ–Ω—Ç –∑–∞–ø—Ä–æ—Å–∏–ª –±–∞–π—Ç—ã 1000-2000, –Ω–æ —Ñ–∞–π–ª —Ç–æ–ª—å–∫–æ 500 –±–∞–π—Ç

### –ü—Ä–∏–º–µ—Ä

**–ó–∞–ø—Ä–æ—Å**:

\`\`\`http
GET /api/files/video.mp4
Range: bytes=10000000-20000000
\`\`\`

**–û—Ç–≤–µ—Ç** (–µ—Å–ª–∏ —Ñ–∞–π–ª 5 MB = 5242880 –±–∞–π—Ç):
\`\`\`http
HTTP/1.1 416 Range Not Satisfiable
Content-Range: bytes */5242880
Content-Type: application/json

{
  "error": "Range not satisfiable",
  "message": "Requested range exceeds file size",
  "fileSize": 5242880,
  "requestedRange": "10000000-20000000"
}
\`\`\`

---

## 417 Expectation Failed ‚Äî –û–∂–∏–¥–∞–Ω–∏–µ –Ω–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–æ

### –û–ø–∏—Å–∞–Ω–∏–µ

**417 Expectation Failed** –æ–∑–Ω–∞—á–∞–µ—Ç:

> "–°–µ—Ä–≤–µ—Ä –Ω–µ –º–æ–∂–µ—Ç –≤—ã–ø–æ–ª–Ω–∏—Ç—å —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–µ –∏–∑ –∑–∞–≥–æ–ª–æ–≤–∫–∞ \`Expect\`."

### –ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å

- ‚úÖ –ö–ª–∏–µ–Ω—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª \`Expect: 100-continue\`, –Ω–æ —Å–µ—Ä–≤–µ—Ä –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç

### –ü—Ä–∏–º–µ—Ä

**–ó–∞–ø—Ä–æ—Å**:

\`\`\`http
POST /api/upload
Expect: 100-continue
Content-Length: 52428800

[–∂–¥—ë—Ç 100 Continue...]
\`\`\`

**–û—Ç–≤–µ—Ç** (–µ—Å–ª–∏ —Å–µ—Ä–≤–µ—Ä –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç):
\`\`\`http
HTTP/1.1 417 Expectation Failed
Content-Type: application/json

{
  "error": "Expectation Failed",
  "message": "Server does not support 100-continue"
}
\`\`\`

---

## 418 I'm a teapot ‚Äî –Ø —á–∞–π–Ω–∏–∫

### –û–ø–∏—Å–∞–Ω–∏–µ

**418 I'm a teapot** ‚Äî **—à—É—Ç–æ—á–Ω—ã–π** —Å—Ç–∞—Ç—É—Å –∫–æ–¥ –∏–∑ RFC 2324 (HTCPCP - Hyper Text Coffee Pot Control Protocol).

> "–Ø —á–∞–π–Ω–∏–∫, —è –Ω–µ –º–æ–≥—É –≤–∞—Ä–∏—Ç—å –∫–æ—Ñ–µ!"

### –ò—Å—Ç–æ—Ä–∏—è

- –°–æ–∑–¥–∞–Ω 1 –∞–ø—Ä–µ–ª—è 1998 –≥–æ–¥–∞ –∫–∞–∫ –ø–µ—Ä–≤–æ–∞–ø—Ä–µ–ª—å—Å–∫–∞—è —à—É—Ç–∫–∞
- –û—Ñ–∏—Ü–∏–∞–ª—å–Ω–æ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –≤ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–∞—Ö
- **–ù–ï –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è** –≤ —Ä–µ–∞–ª—å–Ω—ã—Ö API (–Ω–æ –∏–Ω–æ–≥–¥–∞ –¥–ª—è –ø–∞—Å—Ö–∞–ª–æ–∫)

### –ü—Ä–∏–º–µ—Ä (—à—É—Ç–∫–∞)

\`\`\`http
POST /api/brew-coffee
\`\`\`

**–û—Ç–≤–µ—Ç**:
\`\`\`http
HTTP/1.1 418 I'm a teapot
Content-Type: text/plain

I'm a teapot, not a coffee pot!
\`\`\`

> üí° **–í–∞–∂–Ω–æ**: –ù–µ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ 418 –≤ production API! –≠—Ç–æ —à—É—Ç–∫–∞.

---

## 422 Unprocessable Entity ‚Äî –í–∞–ª–∏–¥–∞—Ü–∏—è –Ω–µ –ø—Ä–æ–π–¥–µ–Ω–∞

### –û–ø–∏—Å–∞–Ω–∏–µ

**422 Unprocessable Entity** –æ–∑–Ω–∞—á–∞–µ—Ç:

> "–ó–∞–ø—Ä–æ—Å —Å–∏–Ω—Ç–∞–∫—Å–∏—á–µ—Å–∫–∏ –∫–æ—Ä—Ä–µ–∫—Ç–µ–Ω, –Ω–æ **—Å–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∏ –Ω–µ–≤–µ—Ä–µ–Ω** (–±–∏–∑–Ω–µ—Å-–≤–∞–ª–∏–¥–∞—Ü–∏—è)."

### –ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å

- ‚úÖ JSON –≤–∞–ª–∏–¥–Ω—ã–π, –Ω–æ –¥–∞–Ω–Ω—ã–µ –Ω–µ –ø—Ä–æ—à–ª–∏ –≤–∞–ª–∏–¥–∞—Ü–∏—é
- ‚úÖ –ù–∞—Ä—É—à–µ–Ω—ã –±–∏–∑–Ω–µ—Å-–ø—Ä–∞–≤–∏–ª–∞
- ‚úÖ –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ª—è –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç
- ‚úÖ –ó–Ω–∞—á–µ–Ω–∏—è –≤–Ω–µ –¥–æ–ø—É—Å—Ç–∏–º–æ–≥–æ –¥–∏–∞–ø–∞–∑–æ–Ω–∞

### 400 vs 422

| –ö–æ–¥ | –ü—Ä–æ–±–ª–µ–º–∞ | –ü—Ä–∏–º–µ—Ä |
|-----|----------|--------|
| **400** | –°–∏–Ω—Ç–∞–∫—Å–∏—á–µ—Å–∫–∞—è –æ—à–∏–±–∫–∞ | –ù–µ–≤–∞–ª–∏–¥–Ω—ã–π JSON |
| **422** | –°–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∞—è –æ—à–∏–±–∫–∞ | JSON –≤–∞–ª–∏–¥–Ω—ã–π, –Ω–æ \`age: -5\` |

### –ü—Ä–∏–º–µ—Ä—ã

**–í–∞–ª–∏–¥–∞—Ü–∏—è –Ω–µ –ø—Ä–æ–π–¥–µ–Ω–∞**:

\`\`\`http
POST /api/users
Content-Type: application/json

{
  "name": "",
  "email": "invalid-email",
  "age": -5
}
\`\`\`

**–û—Ç–≤–µ—Ç**:
\`\`\`http
HTTP/1.1 422 Unprocessable Entity
Content-Type: application/json

{
  "error": "Validation failed",
  "errors": [
    {
      "field": "name",
      "message": "Name is required"
    },
    {
      "field": "email",
      "message": "Invalid email format"
    },
    {
      "field": "age",
      "message": "Age must be between 0 and 150"
    }
  ]
}
\`\`\`

**–û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–µ –ø–æ–ª–µ**:

\`\`\`http
POST /api/orders
Content-Type: application/json

{
  "items": []
}
\`\`\`

**–û—Ç–≤–µ—Ç**:
\`\`\`http
HTTP/1.1 422 Unprocessable Entity
Content-Type: application/json

{
  "error": "Validation failed",
  "message": "Order must contain at least one item"
}
\`\`\`

---

## 426 Upgrade Required ‚Äî –¢—Ä–µ–±—É–µ—Ç—Å—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–æ—Ç–æ–∫–æ–ª–∞

### –û–ø–∏—Å–∞–Ω–∏–µ

**426 Upgrade Required** –æ–∑–Ω–∞—á–∞–µ—Ç:

> "–°–µ—Ä–≤–µ—Ä —Ç—Ä–µ–±—É–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å **–¥—Ä—É–≥–æ–π –ø—Ä–æ—Ç–æ–∫–æ–ª**."

### –ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å

- ‚úÖ –¢—Ä–µ–±—É–µ—Ç—Å—è –ø–µ—Ä–µ—Ö–æ–¥ —Å HTTP –Ω–∞ HTTPS
- ‚úÖ –¢—Ä–µ–±—É–µ—Ç—Å—è WebSocket –≤–º–µ—Å—Ç–æ HTTP
- ‚úÖ –¢—Ä–µ–±—É–µ—Ç—Å—è HTTP/2

### –ü—Ä–∏–º–µ—Ä

**HTTP –≤–º–µ—Å—Ç–æ HTTPS**:

\`\`\`http
GET http://api.example.com/users
\`\`\`

**–û—Ç–≤–µ—Ç**:
\`\`\`http
HTTP/1.1 426 Upgrade Required
Upgrade: TLS/1.3
Content-Type: application/json

{
  "error": "Upgrade Required",
  "message": "This API requires HTTPS",
  "upgradeUrl": "https://api.example.com/users"
}
\`\`\`

---

## 428 Precondition Required ‚Äî –¢—Ä–µ–±—É–µ—Ç—Å—è —É—Å–ª–æ–≤–∏–µ

### –û–ø–∏—Å–∞–Ω–∏–µ

**428 Precondition Required** –æ–∑–Ω–∞—á–∞–µ—Ç:

> "–≠—Ç–æ—Ç –∑–∞–ø—Ä–æ—Å –¥–æ–ª–∂–µ–Ω —Å–æ–¥–µ—Ä–∂–∞—Ç—å **—É—Å–ª–æ–≤–Ω—ã–π –∑–∞–≥–æ–ª–æ–≤–æ–∫** (\`If-Match\`, \`If-None-Match\`)."

### –ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å

- ‚úÖ –°–µ—Ä–≤–µ—Ä —Ç—Ä–µ–±—É–µ—Ç optimistic locking
- ‚úÖ –ó–∞—â–∏—Ç–∞ –æ—Ç lost updates

### –ü—Ä–∏–º–µ—Ä

**PUT –±–µ–∑ If-Match**:

\`\`\`http
PUT /api/documents/123
Content-Type: application/json

{ "content": "Updated" }
\`\`\`

**–û—Ç–≤–µ—Ç**:
\`\`\`http
HTTP/1.1 428 Precondition Required
Content-Type: application/json

{
  "error": "Precondition Required",
  "message": "If-Match header is required for updates",
  "requiredHeaders": ["If-Match"]
}
\`\`\`

---

## 429 Too Many Requests ‚Äî –ü—Ä–µ–≤—ã—à–µ–Ω –ª–∏–º–∏—Ç –∑–∞–ø—Ä–æ—Å–æ–≤

### –û–ø–∏—Å–∞–Ω–∏–µ

**429 Too Many Requests** –æ–∑–Ω–∞—á–∞–µ—Ç:

> "–í—ã –æ—Ç–ø—Ä–∞–≤–∏–ª–∏ **—Å–ª–∏—à–∫–æ–º –º–Ω–æ–≥–æ –∑–∞–ø—Ä–æ—Å–æ–≤** –∑–∞ –∫–æ—Ä–æ—Ç–∫–∏–π –ø–µ—Ä–∏–æ–¥ (rate limiting)."

### –ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å

- ‚úÖ –ü—Ä–µ–≤—ã—à–µ–Ω rate limit
- ‚úÖ DDoS –∑–∞—â–∏—Ç–∞
- ‚úÖ API quota –∏—Å—á–µ—Ä–ø–∞–Ω

### –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π –∑–∞–≥–æ–ª–æ–≤–æ–∫: Retry-After

\`\`\`http
HTTP/1.1 429 Too Many Requests
Retry-After: 60
\`\`\`

### –ü—Ä–∏–º–µ—Ä—ã

**–ü—Ä–µ–≤—ã—à–µ–Ω rate limit**:

\`\`\`http
GET /api/users
\`\`\`

**–û—Ç–≤–µ—Ç** (–ø–æ—Å–ª–µ 100 –∑–∞–ø—Ä–æ—Å–æ–≤ –∑–∞ –º–∏–Ω—É—Ç—É):
\`\`\`http
HTTP/1.1 429 Too Many Requests
Retry-After: 60
X-RateLimit-Limit: 100
X-RateLimit-Remaining: 0
X-RateLimit-Reset: 1705327800
Content-Type: application/json

{
  "error": "Too Many Requests",
  "message": "Rate limit exceeded. Try again in 60 seconds.",
  "limit": 100,
  "resetAt": "2024-01-15T10:30:00Z"
}
\`\`\`

---

## –°—Ä–∞–≤–Ω–∏—Ç–µ–ª—å–Ω–∞—è —Ç–∞–±–ª–∏—Ü–∞ –∫–æ–¥–æ–≤ 4xx

| –ö–æ–¥ | –ù–∞–∑–≤–∞–Ω–∏–µ | –ó–Ω–∞—á–µ–Ω–∏–µ | –ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å |
|-----|----------|----------|-------------------|
| **400** | Bad Request | –ù–µ–≤–µ—Ä–Ω—ã–π –∑–∞–ø—Ä–æ—Å | –°–∏–Ω—Ç–∞–∫—Å–∏—á–µ—Å–∫–∞—è –æ—à–∏–±–∫–∞, –Ω–µ–≤–∞–ª–∏–¥–Ω—ã–π JSON |
| **401** | Unauthorized | –¢—Ä–µ–±—É–µ—Ç—Å—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è | –ù–µ—Ç —Ç–æ–∫–µ–Ω–∞, —Ç–æ–∫–µ–Ω –∏—Å—Ç—ë–∫ |
| **403** | Forbidden | –î–æ—Å—Ç—É–ø –∑–∞–ø—Ä–µ—â—ë–Ω | –ï—Å—Ç—å —Ç–æ–∫–µ–Ω, –Ω–æ –Ω–µ—Ç –ø—Ä–∞–≤ |
| **404** | Not Found | –ù–µ –Ω–∞–π–¥–µ–Ω–æ | –†–µ—Å—É—Ä—Å –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç |
| **405** | Method Not Allowed | –ú–µ—Ç–æ–¥ –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è | GET —Ä–∞–±–æ—Ç–∞–µ—Ç, POST ‚Äî –Ω–µ—Ç |
| **406** | Not Acceptable | –§–æ—Ä–º–∞—Ç –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω | –ö–ª–∏–µ–Ω—Ç –ø—Ä–æ—Å–∏—Ç XML, —Å–µ—Ä–≤–µ—Ä —Ç–æ–ª—å–∫–æ JSON |
| **409** | Conflict | –ö–æ–Ω—Ñ–ª–∏–∫—Ç | –î—É–±–ª–∏–∫–∞—Ç, –∫–æ–Ω—Ñ–ª–∏–∫—Ç –≤–µ—Ä—Å–∏–π |
| **410** | Gone | –£–¥–∞–ª–µ–Ω–æ –Ω–∞–≤—Å–µ–≥–¥–∞ | –†–µ—Å—É—Ä—Å —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–ª, –Ω–æ —É–¥–∞–ª—ë–Ω |
| **411** | Length Required | –ù—É–∂–µ–Ω Content-Length | POST –±–µ–∑ Content-Length |
| **412** | Precondition Failed | –£—Å–ª–æ–≤–∏–µ –Ω–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–æ | If-Match –Ω–µ —Å–æ–≤–ø–∞–¥–∞–µ—Ç |
| **413** | Payload Too Large | –°–ª–∏—à–∫–æ–º –±–æ–ª—å—à–æ–π –∑–∞–ø—Ä–æ—Å | –§–∞–π–ª > –ª–∏–º–∏—Ç–∞ |
| **414** | URI Too Long | URL —Å–ª–∏—à–∫–æ–º –¥–ª–∏–Ω–Ω—ã–π | Query string > 2048 —Å–∏–º–≤–æ–ª–æ–≤ |
| **415** | Unsupported Media Type | –ù–µ–ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–π Content-Type | –û—Ç–ø—Ä–∞–≤–∏–ª–∏ XML, –Ω—É–∂–µ–Ω JSON |
| **416** | Range Not Satisfiable | –î–∏–∞–ø–∞–∑–æ–Ω –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω | Range –≤—ã—Ö–æ–¥–∏—Ç –∑–∞ –ø—Ä–µ–¥–µ–ª—ã —Ñ–∞–π–ª–∞ |
| **417** | Expectation Failed | –û–∂–∏–¥–∞–Ω–∏–µ –Ω–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–æ | Expect: 100-continue –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è |
| **418** | I'm a teapot | –Ø —á–∞–π–Ω–∏–∫ | –®—É—Ç–∫–∞ (–Ω–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å!) |
| **422** | Unprocessable Entity | –í–∞–ª–∏–¥–∞—Ü–∏—è –Ω–µ –ø—Ä–æ–π–¥–µ–Ω–∞ | JSON –≤–∞–ª–∏–¥–Ω—ã–π, –Ω–æ –¥–∞–Ω–Ω—ã–µ –Ω–µ–≤–µ—Ä–Ω—ã |
| **426** | Upgrade Required | –ù—É–∂–Ω–æ –æ–±–Ω–æ–≤–∏—Ç—å –ø—Ä–æ—Ç–æ–∫–æ–ª | –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ HTTPS |
| **428** | Precondition Required | –¢—Ä–µ–±—É–µ—Ç—Å—è —É—Å–ª–æ–≤–∏–µ | –ù—É–∂–µ–Ω If-Match |
| **429** | Too Many Requests | –ü—Ä–µ–≤—ã—à–µ–Ω –ª–∏–º–∏—Ç | Rate limiting |

---

## –†–µ—à–µ–Ω–∏–µ —Ç–∏–ø–∏—á–Ω—ã—Ö –∑–∞–¥–∞—á

### –ó–∞–¥–∞—á–∞ 1: –ù–µ–≤–µ—Ä–Ω—ã–π –∑–∞–ø—Ä–æ—Å ‚Äî –∫–∞–∫–æ–π –∫–æ–¥?

**–û—Ç–≤–µ—Ç**: **400 Bad Request**

### –ó–∞–¥–∞—á–∞ 2: –¢—Ä–µ–±—É–µ—Ç—Å—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è ‚Äî –∫–∞–∫–æ–π –∫–æ–¥?

**–û—Ç–≤–µ—Ç**: **401 Unauthorized**

### –ó–∞–¥–∞—á–∞ 3: –î–æ—Å—Ç—É–ø –∑–∞–ø—Ä–µ—â—ë–Ω ‚Äî –∫–∞–∫–æ–π –∫–æ–¥?

**–û—Ç–≤–µ—Ç**: **403 Forbidden**

### –ó–∞–¥–∞—á–∞ 4: –†–µ—Å—É—Ä—Å –Ω–µ –Ω–∞–π–¥–µ–Ω ‚Äî –∫–∞–∫–æ–π –∫–æ–¥?

**–û—Ç–≤–µ—Ç**: **404 Not Found**

### –ó–∞–¥–∞—á–∞ 5: –í–∞–ª–∏–¥–∞—Ü–∏—è –Ω–µ –ø—Ä–æ–π–¥–µ–Ω–∞ ‚Äî 400 –∏–ª–∏ 422?

**–û—Ç–≤–µ—Ç**: **422 Unprocessable Entity** (JSON –∫–æ—Ä—Ä–µ–∫—Ç–µ–Ω, –Ω–æ –¥–∞–Ω–Ω—ã–µ –Ω–µ–≤–∞–ª–∏–¥–Ω—ã)

### –ó–∞–¥–∞—á–∞ 6: –ù–µ–≤–∞–ª–∏–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –≤ –∑–∞–ø—Ä–æ—Å–µ ‚Äî –∫–∞–∫–æ–π –∫–æ–¥?

**–û—Ç–≤–µ—Ç**: **422 Unprocessable Entity** (–¥–ª—è –±–∏–∑–Ω–µ—Å-–≤–∞–ª–∏–¥–∞—Ü–∏–∏)

### –ó–∞–¥–∞—á–∞ 7: –ß—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç 401?

**–û—Ç–≤–µ—Ç**: **–¢—Ä–µ–±—É–µ—Ç—Å—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è** (–Ω–µ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω)

### –ó–∞–¥–∞—á–∞ 8: –†–∞–∑–Ω–∏—Ü–∞ –º–µ–∂–¥—É 401 –∏ 403?

**–û—Ç–≤–µ—Ç**:
- **401**: –ù–µ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω ("–ö—Ç–æ —Ç—ã?")
- **403**: –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω, –Ω–æ –Ω–µ—Ç –ø—Ä–∞–≤ ("–¢–µ–±–µ –Ω–µ–ª—å–∑—è")

### –ó–∞–¥–∞—á–∞ 9: –û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π –∑–∞–≥–æ–ª–æ–≤–æ–∫ ‚Äî –∫–∞–∫–æ–π –∫–æ–¥?

**–û—Ç–≤–µ—Ç**: **400 Bad Request** (–æ–±—â–∏–π —Å–ª—É—á–∞–π)

### –ó–∞–¥–∞—á–∞ 10: –ß—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç 409 Conflict?

**–û—Ç–≤–µ—Ç**: **–í—Å–µ –ø–µ—Ä–µ—á–∏—Å–ª–µ–Ω–Ω–æ–µ** ‚Äî –¥—É–±–ª–∏–∫–∞—Ç, –∫–æ–Ω—Ñ–ª–∏–∫—Ç –≤–µ—Ä—Å–∏–π, –Ω–∞—Ä—É—à–µ–Ω–∏–µ –±–∏–∑–Ω–µ—Å-–ø—Ä–∞–≤–∏–ª

### –ó–∞–¥–∞—á–∞ 11: –ü—Ä–µ–≤—ã—à–µ–Ω rate limit ‚Äî –∫–∞–∫–æ–π –∫–æ–¥?

**–û—Ç–≤–µ—Ç**: **429 Too Many Requests**

### –ó–∞–¥–∞—á–∞ 12: –†–µ—Å—É—Ä—Å —É–¥–∞–ª—ë–Ω –Ω–∞–≤—Å–µ–≥–¥–∞ ‚Äî 404 –∏–ª–∏ 410?

**–û—Ç–≤–µ—Ç**: **410 Gone** (–±—ã–ª, –Ω–æ —É–¥–∞–ª—ë–Ω –Ω–∞–≤—Å–µ–≥–¥–∞)

### –ó–∞–¥–∞—á–∞ 13: –ù–µ–ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–π Content-Type ‚Äî –∫–∞–∫–æ–π –∫–æ–¥?

**–û—Ç–≤–µ—Ç**: **415 Unsupported Media Type**

### –ó–∞–¥–∞—á–∞ 14: –ù–µ–≤–µ—Ä–Ω—ã–π HTTP –º–µ—Ç–æ–¥ ‚Äî –∫–∞–∫–æ–π –∫–æ–¥?

**–û—Ç–≤–µ—Ç**: **405 Method Not Allowed**

### –ó–∞–¥–∞—á–∞ 15: –ß—Ç–æ –¥–æ–ª–∂–µ–Ω —Å–æ–¥–µ—Ä–∂–∞—Ç—å –æ—Ç–≤–µ—Ç 405?

**–û—Ç–≤–µ—Ç**: **Allow –∑–∞–≥–æ–ª–æ–≤–æ–∫** —Å –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–º–∏ –º–µ—Ç–æ–¥–∞–º–∏

### –ó–∞–¥–∞—á–∞ 16: –ò—Å—Ç—ë–∫ auth —Ç–æ–∫–µ–Ω ‚Äî –∫–∞–∫–æ–π –∫–æ–¥?

**–û—Ç–≤–µ—Ç**: **401 Unauthorized**

### –ó–∞–¥–∞—á–∞ 17: –ß—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç 412?

**–û—Ç–≤–µ—Ç**: **–£—Å–ª–æ–≤–Ω—ã–µ –∑–∞–≥–æ–ª–æ–≤–∫–∏ (If-*) –Ω–µ –≤—ã–ø–æ–ª–Ω–µ–Ω—ã**

### –ó–∞–¥–∞—á–∞ 18: POST –±–µ–∑ Content-Length ‚Äî –∫–∞–∫–æ–π –∫–æ–¥?

**–û—Ç–≤–µ—Ç**: **411 Length Required**

### –ó–∞–¥–∞—á–∞ 19: –°–ª–∏—à–∫–æ–º –±–æ–ª—å—à–æ–π —Ñ–∞–π–ª ‚Äî –∫–∞–∫–æ–π –∫–æ–¥?

**–û—Ç–≤–µ—Ç**: **413 Payload Too Large**

### –ó–∞–¥–∞—á–∞ 20: –ù–µ–ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º–∞—è –≤–µ—Ä—Å–∏—è API ‚Äî –∫–∞–∫–æ–π –∫–æ–¥?

**–û—Ç–≤–µ—Ç**: **406 Not Acceptable**

### –ó–∞–¥–∞—á–∞ 21: URL —Å–ª–∏—à–∫–æ–º –¥–ª–∏–Ω–Ω—ã–π ‚Äî —á—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç?

**–û—Ç–≤–µ—Ç**: **–í—Å–µ –ø–µ—Ä–µ—á–∏—Å–ª–µ–Ω–Ω–æ–µ** ‚Äî URL, query string, –ø—É—Ç—å

### –ó–∞–¥–∞—á–∞ 22: –î—É–±–ª–∏–∫–∞—Ç –∑–∞–ø–∏—Å–∏ ‚Äî –∫–∞–∫–æ–π –∫–æ–¥?

**–û—Ç–≤–µ—Ç**: **409 Conflict**

### –ó–∞–¥–∞—á–∞ 23: Range –≤–Ω–µ —Ñ–∞–π–ª–∞ ‚Äî –∫–∞–∫–æ–π –∫–æ–¥?

**–û—Ç–≤–µ—Ç**: **416 Range Not Satisfiable**

### –ó–∞–¥–∞—á–∞ 24: CSRF —Ç–æ–∫–µ–Ω –Ω–µ —Å–æ–≤–ø–∞–¥–∞–µ—Ç ‚Äî –∫–∞–∫–æ–π –∫–æ–¥?

**–û—Ç–≤–µ—Ç**: **403 Forbidden**

### –ó–∞–¥–∞—á–∞ 25: –ß—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç 417?

**–û—Ç–≤–µ—Ç**: **–°–µ—Ä–≤–µ—Ä –Ω–µ –º–æ–∂–µ—Ç –≤—ã–ø–æ–ª–Ω–∏—Ç—å Expect –∑–∞–≥–æ–ª–æ–≤–æ–∫**

### –ó–∞–¥–∞—á–∞ 26: –ù–∞—Ä—É—à–µ–Ω–∏–µ —É–Ω–∏–∫–∞–ª—å–Ω–æ–≥–æ –∫–ª—é—á–∞ –ë–î ‚Äî –∫–∞–∫–æ–π –∫–æ–¥?

**–û—Ç–≤–µ—Ç**: **409 Conflict**

### –ó–∞–¥–∞—á–∞ 27: –ß—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç 418?

**–û—Ç–≤–µ—Ç**: **–®—É—Ç–æ—á–Ω—ã–π –∫–æ–¥ –∏–∑ RFC (HTCPCP)** ‚Äî –Ω–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å!

### –ó–∞–¥–∞—á–∞ 28: –ü–æ–ø—ã—Ç–∫–∞ –∏–∑–º–µ–Ω–∏—Ç—å –Ω–µ–∏–∑–º–µ–Ω—è–µ–º—ã–π —Ä–µ—Å—É—Ä—Å ‚Äî –∫–∞–∫–æ–π –∫–æ–¥?

**–û—Ç–≤–µ—Ç**: **403 Forbidden**

### –ó–∞–¥–∞—á–∞ 29: –ß—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç 426?

**–û—Ç–≤–µ—Ç**: **–¢—Ä–µ–±—É–µ—Ç—Å—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–æ—Ç–æ–∫–æ–ª–∞** (–Ω–∞–ø—Ä–∏–º–µ—Ä, HTTPS)

---

## Best Practices ‚Äî –õ—É—á—à–∏–µ –ø—Ä–∞–∫—Ç–∏–∫–∏

### 1. –í–æ–∑–≤—Ä–∞—â–∞–π—Ç–µ –¥–µ—Ç–∞–ª—å–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –æ–± –æ—à–∏–±–∫–∞—Ö

‚úÖ **–•–æ—Ä–æ—à–æ**:
\`\`\`json
{
  "error": "Validation failed",
  "errors": [
    {"field": "email", "message": "Invalid format"},
    {"field": "age", "message": "Must be 18+"}
  ]
}
\`\`\`

‚ùå **–ü–ª–æ—Ö–æ**:
\`\`\`json
{
  "error": "Bad request"
}
\`\`\`

### 2. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –∫–æ–¥ –¥–ª—è –∫–∞–∂–¥–æ–π —Å–∏—Ç—É–∞—Ü–∏–∏

‚ùå **–ü–ª–æ—Ö–æ** (–≤—Å–µ –æ—à–∏–±–∫–∏ = 400):
\`\`\`http
HTTP/1.1 400 Bad Request
{"error": "User not found"}  ‚Üê –î–æ–ª–∂–Ω–æ –±—ã—Ç—å 404!
\`\`\`

‚úÖ **–•–æ—Ä–æ—à–æ**:
\`\`\`http
HTTP/1.1 404 Not Found
{"error": "User not found"}
\`\`\`

### 3. –î–æ–±–∞–≤–ª—è–π—Ç–µ WWW-Authenticate –ø—Ä–∏ 401

‚úÖ **–ü—Ä–∞–≤–∏–ª—å–Ω–æ**:
\`\`\`http
HTTP/1.1 401 Unauthorized
WWW-Authenticate: Bearer realm="api"
\`\`\`

### 4. –î–æ–±–∞–≤–ª—è–π—Ç–µ Allow –ø—Ä–∏ 405

‚úÖ **–ü—Ä–∞–≤–∏–ª—å–Ω–æ**:
\`\`\`http
HTTP/1.1 405 Method Not Allowed
Allow: GET, PUT, DELETE
\`\`\`

### 5. –î–æ–±–∞–≤–ª—è–π—Ç–µ Retry-After –ø—Ä–∏ 429

‚úÖ **–ü—Ä–∞–≤–∏–ª—å–Ω–æ**:
\`\`\`http
HTTP/1.1 429 Too Many Requests
Retry-After: 60
X-RateLimit-Reset: 1705327800
\`\`\`

### 6. –†–∞–∑–ª–∏—á–∞–π—Ç–µ 400 –∏ 422

- **400**: –°–∏–Ω—Ç–∞–∫—Å–∏—á–µ—Å–∫–∞—è –æ—à–∏–±–∫–∞ (–Ω–µ–≤–∞–ª–∏–¥–Ω—ã–π JSON)
- **422**: –°–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∞—è –æ—à–∏–±–∫–∞ (–≤–∞–ª–∏–¥–Ω—ã–π JSON, –Ω–µ–≤–µ—Ä–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ)

### 7. –ù–µ —Å–∫—Ä—ã–≤–∞–π—Ç–µ –¥–µ—Ç–∞–ª–∏ –≤ production

‚ùå **–ü–ª–æ—Ö–æ** (—Å–∫—Ä—ã–≤–∞–µ—Ç –ø–æ–ª–µ–∑–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é):
\`\`\`json
{"error": "An error occurred"}
\`\`\`

‚úÖ **–•–æ—Ä–æ—à–æ** (–ø–æ–º–æ–≥–∞–µ—Ç —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫—É):
\`\`\`json
{
  "error": "Validation failed",
  "field": "email",
  "message": "Email is required"
}
\`\`\`

‚ö†Ô∏è **–ù–æ –Ω–µ —Ä–∞—Å–∫—Ä—ã–≤–∞–π—Ç–µ sensitive –¥–∞–Ω–Ω—ã–µ** (SQL –∑–∞–ø—Ä–æ—Å—ã, stack traces)!

### 8. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ —Ñ–æ—Ä–º–∞—Ç—ã –æ—à–∏–±–æ–∫

**JSON:API format**:
\`\`\`json
{
  "errors": [
    {
      "status": "422",
      "source": {"pointer": "/data/attributes/email"},
      "title": "Invalid email",
      "detail": "Email must be a valid format"
    }
  ]
}
\`\`\`

**RFC 7807 (Problem Details)**:
\`\`\`json
{
  "type": "https://api.example.com/errors/validation",
  "title": "Validation failed",
  "status": 422,
  "detail": "Email is invalid",
  "instance": "/api/users"
}
\`\`\`

---

## –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

**HTTP —Å—Ç–∞—Ç—É—Å –∫–æ–¥—ã 4xx** ‚Äî —ç—Ç–æ —Å–ø–æ—Å–æ–± —Å–µ—Ä–≤–µ—Ä–∞ —Å–æ–æ–±—â–∏—Ç—å –∫–ª–∏–µ–Ω—Ç—É:
> "–ü—Ä–æ–±–ª–µ–º–∞ –≤ **–≤–∞—à–µ–º** –∑–∞–ø—Ä–æ—Å–µ. –ò—Å–ø—Ä–∞–≤—å—Ç–µ –µ–≥–æ –∏ –ø–æ–ø—Ä–æ–±—É–π—Ç–µ —Å–Ω–æ–≤–∞."

**–ó–∞–ø–æ–º–Ω–∏—Ç–µ –≥–ª–∞–≤–Ω–æ–µ**:

1. **400 Bad Request** ‚Äî —Å–∏–Ω—Ç–∞–∫—Å–∏—á–µ—Å–∫–∞—è –æ—à–∏–±–∫–∞ (–Ω–µ–≤–∞–ª–∏–¥–Ω—ã–π JSON)
2. **401 Unauthorized** ‚Äî –Ω–µ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω (–Ω—É–∂–µ–Ω —Ç–æ–∫–µ–Ω)
3. **403 Forbidden** ‚Äî –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω, –Ω–æ –Ω–µ—Ç –ø—Ä–∞–≤
4. **404 Not Found** ‚Äî —Ä–µ—Å—É—Ä—Å –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç
5. **405 Method Not Allowed** ‚Äî –º–µ—Ç–æ–¥ –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è (+ Allow –∑–∞–≥–æ–ª–æ–≤–æ–∫)
6. **409 Conflict** ‚Äî –¥—É–±–ª–∏–∫–∞—Ç, –∫–æ–Ω—Ñ–ª–∏–∫—Ç –≤–µ—Ä—Å–∏–π, –Ω–∞—Ä—É—à–µ–Ω–∏–µ –±–∏–∑–Ω–µ—Å-–ø—Ä–∞–≤–∏–ª
7. **422 Unprocessable Entity** ‚Äî –≤–∞–ª–∏–¥–∞—Ü–∏—è –Ω–µ –ø—Ä–æ–π–¥–µ–Ω–∞
8. **429 Too Many Requests** ‚Äî rate limiting (+ Retry-After)

**401 vs 403**:
- 401 = "–ö—Ç–æ —Ç—ã?" (—Ç—Ä–µ–±—É–µ—Ç—Å—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è)
- 403 = "–¢–µ–±–µ –Ω–µ–ª—å–∑—è" (–Ω–µ—Ç –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø–∞)

**400 vs 422**:
- 400 = –°–∏–Ω—Ç–∞–∫—Å–∏—á–µ—Å–∫–∞—è –æ—à–∏–±–∫–∞ (–Ω–µ–≤–∞–ª–∏–¥–Ω—ã–π JSON)
- 422 = –°–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∞—è –æ—à–∏–±–∫–∞ (JSON –≤–∞–ª–∏–¥–Ω—ã–π, –¥–∞–Ω–Ω—ã–µ –Ω–µ–≤–µ—Ä–Ω—ã)

**404 vs 410**:
- 404 = –ù–µ –Ω–∞–π–¥–µ–Ω (–º–æ–∂–µ—Ç –Ω–∏–∫–æ–≥–¥–∞ –Ω–µ —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–ª)
- 410 = –ë—ã–ª, –Ω–æ —É–¥–∞–ª—ë–Ω –Ω–∞–≤—Å–µ–≥–¥–∞

–ü—Ä–∞–≤–∏–ª—å–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∫–æ–¥–æ–≤ 4xx –ø–æ–º–æ–≥–∞–µ—Ç –∫–ª–∏–µ–Ω—Ç–∞–º **–±—ã—Å—Ç—Ä–æ –ø–æ–Ω—è—Ç—å –ø—Ä–æ–±–ª–µ–º—É** –∏ **–∏—Å–ø—Ä–∞–≤–∏—Ç—å** —Å–≤–æ–∏ –∑–∞–ø—Ä–æ—Å—ã!
`;

async function createLecture() {
  try {
    console.log('üéì –°–æ–∑–¥–∞–Ω–∏–µ –ª–µ–∫—Ü–∏–∏ –ø–æ —Å—Ç–∞—Ç—É—Å –∫–æ–¥–∞–º 4xx...\n');

    const test = await prisma.test.findFirst({
      where: {
        title: '–°—Ç–∞—Ç—É—Å –∫–æ–¥—ã: –æ—à–∏–±–∫–∏ –∫–ª–∏–µ–Ω—Ç–∞',
      },
      include: {
        questions: {
          include: {
            question: true,
          },
          orderBy: {
            order: 'asc',
          },
        },
      },
    });

    if (!test) {
      console.error('‚ùå –¢–µ—Å—Ç "–°—Ç–∞—Ç—É—Å –∫–æ–¥—ã: –æ—à–∏–±–∫–∏ –∫–ª–∏–µ–Ω—Ç–∞" –Ω–µ –Ω–∞–π–¥–µ–Ω!');
      return;
    }

    console.log(`‚úÖ –ù–∞–π–¥–µ–Ω —Ç–µ—Å—Ç: ${test.title}`);
    console.log(`üìä –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –≤–æ–ø—Ä–æ—Å–æ–≤: ${test.questions.length}\n`);

    console.log('üìù –°–æ–∑–¥–∞–Ω–∏–µ –ª–µ–∫—Ü–∏–∏...');
    const lecture = await prisma.lecture.create({
      data: {
        title: 'HTTP –°—Ç–∞—Ç—É—Å –∫–æ–¥—ã: –û—à–∏–±–∫–∏ –∫–ª–∏–µ–Ω—Ç–∞ (4xx)',
        topic: 'HTTP —Å—Ç–∞—Ç—É—Å –∫–æ–¥—ã',
        content: lectureContent,
      },
    });

    console.log(`‚úÖ –õ–µ–∫—Ü–∏—è —Å–æ–∑–¥–∞–Ω–∞ —Å ID: ${lecture.id}\n`);

    console.log('üîó –ü—Ä–∏–≤—è–∑–∫–∞ –ª–µ–∫—Ü–∏–∏ –∫ –≤–æ–ø—Ä–æ—Å–∞–º —Ç–µ—Å—Ç–∞...');
    const questionIds = test.questions.map((tq) => tq.questionId);

    let linkedCount = 0;
    for (const questionId of questionIds) {
      await prisma.question.update({
        where: { id: questionId },
        data: { lectureId: lecture.id },
      });
      linkedCount++;
    }

    console.log(`‚úÖ –õ–µ–∫—Ü–∏—è –ø—Ä–∏–≤—è–∑–∞–Ω–∞ –∫ ${linkedCount} –≤–æ–ø—Ä–æ—Å–∞–º\n`);

    console.log('üéâ –ì–æ—Ç–æ–≤–æ!');
    console.log(`\nüìö –õ–µ–∫—Ü–∏—è "${lecture.title}" —É—Å–ø–µ—à–Ω–æ —Å–æ–∑–¥–∞–Ω–∞ –∏ –ø—Ä–∏–≤—è–∑–∞–Ω–∞ –∫ —Ç–µ—Å—Ç—É "${test.title}"`);
  } catch (error) {
    console.error('‚ùå –û—à–∏–±–∫–∞ –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –ª–µ–∫—Ü–∏–∏:', error);
    throw error;
  } finally {
    await prisma.$disconnect();
  }
}

createLecture();
