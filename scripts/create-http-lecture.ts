import { PrismaClient } from '@prisma/client';
import { PrismaPg } from '@prisma/adapter-pg';
import { Pool } from 'pg';
import dotenv from 'dotenv';

dotenv.config();

const pool = new Pool({ connectionString: process.env.DATABASE_URL });
const adapter = new PrismaPg(pool);
const prisma = new PrismaClient({ adapter });

const lectureContent = `# HTTP –º–µ—Ç–æ–¥—ã –∏ –æ—Å–Ω–æ–≤—ã REST API

## –ß—Ç–æ —Ç–∞–∫–æ–µ HTTP?

**HTTP (HyperText Transfer Protocol)** ‚Äî —ç—Ç–æ –ø—Ä–æ—Ç–æ–∫–æ–ª –ø–µ—Ä–µ–¥–∞—á–∏ –¥–∞–Ω–Ω—ã—Ö –≤ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–µ. –ü—Ä–µ–¥—Å—Ç–∞–≤—å—Ç–µ –µ–≥–æ –∫–∞–∫ —è–∑—ã–∫, –Ω–∞ –∫–æ—Ç–æ—Ä–æ–º –æ–±—â–∞—é—Ç—Å—è –±—Ä–∞—É–∑–µ—Ä –∏ —Å–µ—Ä–≤–µ—Ä.

### –ê–Ω–∞–ª–æ–≥–∏—è —Å —Ä–µ—Å—Ç–æ—Ä–∞–Ω–æ–º üçΩÔ∏è

–ü—Ä–µ–¥—Å—Ç–∞–≤—å—Ç–µ, —á—Ç–æ –≤—ã –≤ —Ä–µ—Å—Ç–æ—Ä–∞–Ω–µ:
- **–í—ã (–∫–ª–∏–µ–Ω—Ç)** ‚Äî —ç—Ç–æ –±—Ä–∞—É–∑–µ—Ä –∏–ª–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
- **–û—Ñ–∏—Ü–∏–∞–Ω—Ç** ‚Äî —ç—Ç–æ HTTP –ø—Ä–æ—Ç–æ–∫–æ–ª
- **–ö—É—Ö–Ω—è (—Å–µ—Ä–≤–µ—Ä)** ‚Äî —ç—Ç–æ —Å–µ—Ä–≤–µ—Ä —Å –¥–∞–Ω–Ω—ã–º–∏

–í—ã –≥–æ–≤–æ—Ä–∏—Ç–µ –æ—Ñ–∏—Ü–∏–∞–Ω—Ç—É —á—Ç–æ —Ö–æ—Ç–∏—Ç–µ, –æ—Ñ–∏—Ü–∏–∞–Ω—Ç –ø–µ—Ä–µ–¥–∞–µ—Ç –∑–∞–∫–∞–∑ –Ω–∞ –∫—É—Ö–Ω—é, –∫—É—Ö–Ω—è –≥–æ—Ç–æ–≤–∏—Ç –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –±–ª—é–¥–æ —á–µ—Ä–µ–∑ –æ—Ñ–∏—Ü–∏–∞–Ω—Ç–∞ –æ–±—Ä–∞—Ç–Ω–æ –≤–∞–º.

---

## HTTP –ú–µ—Ç–æ–¥—ã (–≥–ª–∞–≥–æ–ª—ã)

HTTP –º–µ—Ç–æ–¥—ã —É–∫–∞–∑—ã–≤–∞—é—Ç **—á—Ç–æ –º—ã —Ö–æ—Ç–∏–º —Å–¥–µ–ª–∞—Ç—å** —Å –¥–∞–Ω–Ω—ã–º–∏. –≠—Ç–æ –∫–∞–∫ –≥–ª–∞–≥–æ–ª—ã –≤ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–∏.

### 1. GET ‚Äî –ü–æ–ª—É—á–∏—Ç—å –¥–∞–Ω–Ω—ã–µ üìñ

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –ó–∞–ø—Ä–æ—Å–∏—Ç—å –¥–∞–Ω–Ω—ã–µ —Å —Å–µ—Ä–≤–µ—Ä–∞, –Ω–µ –∏–∑–º–µ–Ω—è—è –∏—Ö.

**–ê–Ω–∞–ª–æ–≥–∏—è:** –í—ã —Å–º–æ—Ç—Ä–∏—Ç–µ –º–µ–Ω—é –≤ —Ä–µ—Å—Ç–æ—Ä–∞–Ω–µ ‚Äî –ø—Ä–æ—Å—Ç–æ —á–∏—Ç–∞–µ—Ç–µ, –Ω–∏—á–µ–≥–æ –Ω–µ –º–µ–Ω—è–µ—Ç–µ.

**–ü—Ä–∏–º–µ—Ä—ã:**
\`\`\`http
GET /users
‚Üí –ü–æ–ª—É—á–∏—Ç—å —Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

GET /users/123
‚Üí –ü–æ–ª—É—á–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —Å ID 123

GET /posts?category=tech&limit=10
‚Üí –ü–æ–ª—É—á–∏—Ç—å 10 –ø–æ—Å—Ç–æ–≤ –∏–∑ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ "tech"
\`\`\`

**–•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏:**
- ‚úÖ **–ò–¥–µ–º–ø–æ—Ç–µ–Ω—Ç–Ω—ã–π** ‚Äî –º–æ–∂–Ω–æ –≤—ã–∑—ã–≤–∞—Ç—å –º–Ω–æ–≥–æ —Ä–∞–∑, —Ä–µ–∑—É–ª—å—Ç–∞—Ç –æ–¥–∏–Ω
- ‚úÖ **–ë–µ–∑–æ–ø–∞—Å–Ω—ã–π** ‚Äî –Ω–µ –∏–∑–º–µ–Ω—è–µ—Ç –¥–∞–Ω–Ω—ã–µ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ
- ‚úÖ **–ö—ç—à–∏—Ä—É–µ–º—ã–π** ‚Äî –±—Ä–∞—É–∑–µ—Ä –º–æ–∂–µ—Ç —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç

---

### 2. POST ‚Äî –°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ ‚ûï

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –û—Ç–ø—Ä–∞–≤–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –Ω–∞ —Å–µ—Ä–≤–µ—Ä –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –Ω–æ–≤–æ–≥–æ —Ä–µ—Å—É—Ä—Å–∞.

**–ê–Ω–∞–ª–æ–≥–∏—è:** –í—ã –¥–µ–ª–∞–µ—Ç–µ –Ω–æ–≤—ã–π –∑–∞–∫–∞–∑ –≤ —Ä–µ—Å—Ç–æ—Ä–∞–Ω–µ ‚Äî —Å–æ–∑–¥–∞–µ—Ç–µ —á—Ç–æ-—Ç–æ –Ω–æ–≤–æ–µ.

**–ü—Ä–∏–º–µ—Ä—ã:**
\`\`\`http
POST /users
Body: {
  "name": "–ò–≤–∞–Ω",
  "email": "ivan@example.com"
}
‚Üí –°–æ–∑–¥–∞—Ç—å –Ω–æ–≤–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

POST /posts
Body: {
  "title": "–ú–æ—è –ø–µ—Ä–≤–∞—è —Å—Ç–∞—Ç—å—è",
  "content": "..."
}
‚Üí –°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–π –ø–æ—Å—Ç
\`\`\`

**–•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏:**
- ‚ùå **–ù–ï –∏–¥–µ–º–ø–æ—Ç–µ–Ω—Ç–Ω—ã–π** ‚Äî –∫–∞–∂–¥—ã–π –≤—ã–∑–æ–≤ —Å–æ–∑–¥–∞–µ—Ç –Ω–æ–≤—ã–π —Ä–µ—Å—É—Ä—Å
- ‚ùå **–ù–ï –±–µ–∑–æ–ø–∞—Å–Ω—ã–π** ‚Äî –∏–∑–º–µ–Ω—è–µ—Ç –¥–∞–Ω–Ω—ã–µ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ
- ‚úÖ **–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å–æ–∑–¥–∞–Ω–Ω—ã–π —Ä–µ—Å—É—Ä—Å** (–æ–±—ã—á–Ω–æ —Å–æ —Å—Ç–∞—Ç—É—Å–æ–º 201)

---

### 3. PUT ‚Äî –ü–æ–ª–Ω–æ—Å—Ç—å—é –∑–∞–º–µ–Ω–∏—Ç—å –¥–∞–Ω–Ω—ã–µ üîÑ

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –ó–∞–º–µ–Ω–∏—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π —Ä–µ—Å—É—Ä—Å —Ü–µ–ª–∏–∫–æ–º –Ω–æ–≤—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏.

**–ê–Ω–∞–ª–æ–≥–∏—è:** –í—ã –∑–∞–º–µ–Ω—è–µ—Ç–µ –≤–µ—Å—å –∑–∞–∫–∞–∑ —Ü–µ–ª–∏–∫–æ–º –Ω–∞ –Ω–æ–≤—ã–π.

**–ü—Ä–∏–º–µ—Ä—ã:**
\`\`\`http
PUT /users/123
Body: {
  "name": "–ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤",
  "email": "ivan@example.com",
  "age": 25
}
‚Üí –ó–∞–º–µ–Ω–∏—Ç—å –í–°–ï –¥–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è 123
\`\`\`

**‚ö†Ô∏è –í–∞–∂–Ω–æ:** PUT –∑–∞–º–µ–Ω—è–µ—Ç **–≤–µ—Å—å** —Ä–µ—Å—É—Ä—Å. –ï—Å–ª–∏ –Ω–µ –ø–µ—Ä–µ–¥–∞—Ç—å –ø–æ–ª–µ, –æ–Ω–æ –º–æ–∂–µ—Ç –±—ã—Ç—å —É–¥–∞–ª–µ–Ω–æ!

**–•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏:**
- ‚úÖ **–ò–¥–µ–º–ø–æ—Ç–µ–Ω—Ç–Ω—ã–π** ‚Äî –ø–æ–≤—Ç–æ—Ä–Ω—ã–µ –≤—ã–∑–æ–≤—ã –¥–∞—é—Ç —Ç–æ—Ç –∂–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç
- ‚ùå **–ù–ï –±–µ–∑–æ–ø–∞—Å–Ω—ã–π** ‚Äî –∏–∑–º–µ–Ω—è–µ—Ç –¥–∞–Ω–Ω—ã–µ

---

### 4. PATCH ‚Äî –ß–∞—Å—Ç–∏—á–Ω–æ –æ–±–Ω–æ–≤–∏—Ç—å –¥–∞–Ω–Ω—ã–µ ‚úèÔ∏è

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –û–±–Ω–æ–≤–∏—Ç—å —Ç–æ–ª—å–∫–æ –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ –ø–æ–ª—è —Ä–µ—Å—É—Ä—Å–∞.

**–ê–Ω–∞–ª–æ–≥–∏—è:** –í—ã –ø—Ä–æ—Å–∏—Ç–µ –∏–∑–º–µ–Ω–∏—Ç—å —Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω –∏–Ω–≥—Ä–µ–¥–∏–µ–Ω—Ç –≤ —É–∂–µ —Å–¥–µ–ª–∞–Ω–Ω–æ–º –∑–∞–∫–∞–∑–µ.

**–ü—Ä–∏–º–µ—Ä—ã:**
\`\`\`http
PATCH /users/123
Body: {
  "age": 26
}
‚Üí –û–±–Ω–æ–≤–∏—Ç—å —Ç–æ–ª—å–∫–æ –≤–æ–∑—Ä–∞—Å—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è 123
\`\`\`

**–†–∞–∑–Ω–∏—Ü–∞ –º–µ–∂–¥—É PUT –∏ PATCH:**
- **PUT:** "–í–æ—Ç –Ω–æ–≤—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Ü–µ–ª–∏–∫–æ–º!" (–∑–∞–º–µ–Ω–∞ –≤—Å–µ–≥–æ)
- **PATCH:** "–ò–∑–º–µ–Ω–∏ —Ç–æ–ª—å–∫–æ –≤–æ–∑—Ä–∞—Å—Ç!" (—á–∞—Å—Ç–∏—á–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ)

**–•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏:**
- ‚ö†Ô∏è **–ú–æ–∂–µ—Ç –±—ã—Ç—å –∏–¥–µ–º–ø–æ—Ç–µ–Ω—Ç–Ω—ã–º** (–∑–∞–≤–∏—Å–∏—Ç –æ—Ç —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏)
- ‚ùå **–ù–ï –±–µ–∑–æ–ø–∞—Å–Ω—ã–π** ‚Äî –∏–∑–º–µ–Ω—è–µ—Ç –¥–∞–Ω–Ω—ã–µ

---

### 5. DELETE ‚Äî –£–¥–∞–ª–∏—Ç—å –¥–∞–Ω–Ω—ã–µ üóëÔ∏è

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –£–¥–∞–ª–∏—Ç—å —Ä–µ—Å—É—Ä—Å —Å —Å–µ—Ä–≤–µ—Ä–∞.

**–ê–Ω–∞–ª–æ–≥–∏—è:** –í—ã –æ—Ç–º–µ–Ω—è–µ—Ç–µ –∑–∞–∫–∞–∑ –≤ —Ä–µ—Å—Ç–æ—Ä–∞–Ω–µ.

**–ü—Ä–∏–º–µ—Ä—ã:**
\`\`\`http
DELETE /users/123
‚Üí –£–¥–∞–ª–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —Å ID 123

DELETE /posts/456
‚Üí –£–¥–∞–ª–∏—Ç—å –ø–æ—Å—Ç —Å ID 456
\`\`\`

**–•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏:**
- ‚úÖ **–ò–¥–µ–º–ø–æ—Ç–µ–Ω—Ç–Ω—ã–π** ‚Äî –ø–æ–≤—Ç–æ—Ä–Ω–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ –Ω–µ –º–µ–Ω—è–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç
- ‚ùå **–ù–ï –±–µ–∑–æ–ø–∞—Å–Ω—ã–π** ‚Äî –∏–∑–º–µ–Ω—è–µ—Ç –¥–∞–Ω–Ω—ã–µ
- ‚úÖ **–û–±—ã—á–Ω–æ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç 204 No Content** (—É—Å–ø–µ—à–Ω–æ —É–¥–∞–ª–µ–Ω–æ, –Ω–µ—Ç –¥–∞–Ω–Ω—ã—Ö –≤ –æ—Ç–≤–µ—Ç–µ)

---

## HTTP –°—Ç–∞—Ç—É—Å –∫–æ–¥—ã

–°—Ç–∞—Ç—É—Å –∫–æ–¥—ã —Å–æ–æ–±—â–∞—é—Ç **—Ä–µ–∑—É–ª—å—Ç–∞—Ç** –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∑–∞–ø—Ä–æ—Å–∞.

### –ì—Ä—É–ø–ø—ã —Å—Ç–∞—Ç—É—Å –∫–æ–¥–æ–≤:

#### 2xx ‚Äî –£—Å–ø–µ—Ö ‚úÖ
- **200 OK** ‚Äî –ó–∞–ø—Ä–æ—Å –≤—ã–ø–æ–ª–Ω–µ–Ω —É—Å–ø–µ—à–Ω–æ
- **201 Created** ‚Äî –†–µ—Å—É—Ä—Å —É—Å–ø–µ—à–Ω–æ —Å–æ–∑–¥–∞–Ω (–æ–±—ã—á–Ω–æ –ø–æ—Å–ª–µ POST)
- **204 No Content** ‚Äî –£—Å–ø–µ—Ö, –Ω–æ –Ω–µ—Ç –¥–∞–Ω–Ω—ã—Ö –¥–ª—è –≤–æ–∑–≤—Ä–∞—Ç–∞ (—á–∞—Å—Ç–æ –ø–æ—Å–ª–µ DELETE)

#### 3xx ‚Äî –ü–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ ‚Ü™Ô∏è
- **301 Moved Permanently** ‚Äî –†–µ—Å—É—Ä—Å –ø–µ—Ä–µ–º–µ—â–µ–Ω –Ω–∞–≤—Å–µ–≥–¥–∞
- **302 Found** ‚Äî –í—Ä–µ–º–µ–Ω–Ω–æ–µ –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ

#### 4xx ‚Äî –û—à–∏–±–∫–∞ –∫–ª–∏–µ–Ω—Ç–∞ ‚ùå
- **400 Bad Request** ‚Äî –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –∑–∞–ø—Ä–æ—Å (–Ω–∞–ø—Ä–∏–º–µ—Ä, –Ω–µ–≤–∞–ª–∏–¥–Ω—ã–π JSON)
- **401 Unauthorized** ‚Äî –ù–µ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω (–Ω—É–∂–Ω–∞ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è)
- **403 Forbidden** ‚Äî –î–æ—Å—Ç—É–ø –∑–∞–ø—Ä–µ—â–µ–Ω (–¥–∞–∂–µ —Å –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–µ–π)
- **404 Not Found** ‚Äî –†–µ—Å—É—Ä—Å –Ω–µ –Ω–∞–π–¥–µ–Ω
- **409 Conflict** ‚Äî –ö–æ–Ω—Ñ–ª–∏–∫—Ç (–Ω–∞–ø—Ä–∏–º–µ—Ä, email —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç)

#### 5xx ‚Äî –û—à–∏–±–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞ üí•
- **500 Internal Server Error** ‚Äî –û—à–∏–±–∫–∞ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ
- **502 Bad Gateway** ‚Äî –°–µ—Ä–≤–µ—Ä –ø–æ–ª—É—á–∏–ª –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π –æ—Ç–≤–µ—Ç –æ—Ç –¥—Ä—É–≥–æ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞
- **503 Service Unavailable** ‚Äî –°–µ—Ä–≤–∏—Å –≤—Ä–µ–º–µ–Ω–Ω–æ –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω

---

## Content-Type –∑–∞–≥–æ–ª–æ–≤–æ–∫

**Content-Type** —É–∫–∞–∑—ã–≤–∞–µ—Ç **—Ñ–æ—Ä–º–∞—Ç –¥–∞–Ω–Ω—ã—Ö** –≤ –∑–∞–ø—Ä–æ—Å–µ –∏–ª–∏ –æ—Ç–≤–µ—Ç–µ.

### –û—Å–Ω–æ–≤–Ω—ã–µ —Ç–∏–ø—ã:

\`\`\`http
Content-Type: application/json
‚Üí –î–∞–Ω–Ω—ã–µ –≤ —Ñ–æ—Ä–º–∞—Ç–µ JSON (—Å–∞–º—ã–π –ø–æ–ø—É–ª—è—Ä–Ω—ã–π –¥–ª—è API)

Content-Type: application/xml
‚Üí –î–∞–Ω–Ω—ã–µ –≤ —Ñ–æ—Ä–º–∞—Ç–µ XML

Content-Type: text/html
‚Üí HTML —Å—Ç—Ä–∞–Ω–∏—Ü–∞

Content-Type: multipart/form-data
‚Üí –î–∞–Ω–Ω—ã–µ —Ñ–æ—Ä–º—ã —Å —Ñ–∞–π–ª–∞–º–∏
\`\`\`

**–ü—Ä–∏–º–µ—Ä —Å JSON:**
\`\`\`http
POST /users
Content-Type: application/json

{
  "name": "–ê–Ω–Ω–∞",
  "email": "anna@example.com"
}
\`\`\`

---

## URL —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –≤ REST API

### –ü—Ä–∞–≤–∏–ª—å–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ URL:

\`\`\`
https://api.example.com/v1/users/123/posts?status=published&limit=10
  ‚Üì         ‚Üì          ‚Üì   ‚Üì     ‚Üì    ‚Üì             ‚Üì
–ø—Ä–æ—Ç–æ–∫–æ–ª  –¥–æ–º–µ–Ω     –≤–µ—Ä—Å–∏—è —Ä–µ—Å—É—Ä—Å ID  –ø–æ–¥—Ä–µ—Å—É—Ä—Å   query –ø–∞—Ä–∞–º–µ—Ç—Ä—ã
\`\`\`

### –õ—É—á—à–∏–µ –ø—Ä–∞–∫—Ç–∏–∫–∏ –∏–º–µ–Ω–æ–≤–∞–Ω–∏—è:

‚úÖ **–•–æ—Ä–æ—à–æ:**
- \`GET /users\` ‚Äî –∫–æ–ª–ª–µ–∫—Ü–∏—è (–º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω–æ–µ —á–∏—Å–ª–æ)
- \`GET /users/123\` ‚Äî –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π —Ä–µ—Å—É—Ä—Å
- \`GET /users/123/posts\` ‚Äî –≤–ª–æ–∂–µ–Ω–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã
- \`POST /users\` ‚Äî —Å–æ–∑–¥–∞–Ω–∏–µ
- \`PUT /users/123\` ‚Äî –ø–æ–ª–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ
- \`DELETE /users/123\` ‚Äî —É–¥–∞–ª–µ–Ω–∏–µ

‚ùå **–ü–ª–æ—Ö–æ:**
- \`GET /getUsers\` ‚Äî –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–π –≥–ª–∞–≥–æ–ª—ã –≤ URL
- \`POST /user/create\` ‚Äî –≥–ª–∞–≥–æ–ª—ã –Ω–µ –Ω—É–∂–Ω—ã, –º–µ—Ç–æ–¥ HTTP —É–∂–µ —É–∫–∞–∑—ã–≤–∞–µ—Ç –¥–µ–π—Å—Ç–≤–∏–µ
- \`GET /User\` ‚Äî –∏—Å–ø–æ–ª—å–∑—É–π lowercase
- \`GET /users/deleteUser/123\` ‚Äî –≥–ª–∞–≥–æ–ª –≤ URL –∏–∑–ª–∏—à–µ–Ω

---

## Query Parameters (–ø–∞—Ä–∞–º–µ—Ç—Ä—ã –∑–∞–ø—Ä–æ—Å–∞)

Query –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –¥–ª—è **—Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏, —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏, –ø–∞–≥–∏–Ω–∞—Ü–∏–∏**.

### –ü—Ä–∏–º–µ—Ä—ã:

**–§–∏–ª—å—Ç—Ä–∞—Ü–∏—è:**
\`\`\`http
GET /products?category=electronics&price_max=1000
‚Üí –¢–æ–≤–∞—Ä—ã –∏–∑ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ electronics –¥–µ—à–µ–≤–ª–µ 1000
\`\`\`

**–°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞:**
\`\`\`http
GET /users?sort=name&order=asc
‚Üí –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏, –æ—Ç—Å–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –ø–æ –∏–º–µ–Ω–∏ (–ø–æ –≤–æ–∑—Ä–∞—Å—Ç–∞–Ω–∏—é)
\`\`\`

**–ü–∞–≥–∏–Ω–∞—Ü–∏—è:**
\`\`\`http
GET /posts?page=2&limit=20
‚Üí –í—Ç–æ—Ä–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞, –ø–æ 20 –ø–æ—Å—Ç–æ–≤ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ
\`\`\`

**–ü–æ–∏—Å–∫:**
\`\`\`http
GET /users?search=–∏–≤–∞–Ω
‚Üí –ü–æ–∏—Å–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –ø–æ –∏–º–µ–Ω–∏ "–∏–≤–∞–Ω"
\`\`\`

---

## CRUD –æ–ø–µ—Ä–∞—Ü–∏–∏

**CRUD** ‚Äî —ç—Ç–æ –∞–±–±—Ä–µ–≤–∏–∞—Ç—É—Ä–∞ –±–∞–∑–æ–≤—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π —Å –¥–∞–Ω–Ω—ã–º–∏:

| –û–ø–µ—Ä–∞—Ü–∏—è | HTTP –º–µ—Ç–æ–¥ | –ü—Ä–∏–º–µ—Ä URL | –û–ø–∏—Å–∞–Ω–∏–µ |
|----------|-----------|------------|----------|
| **C**reate | POST | \`POST /users\` | –°–æ–∑–¥–∞—Ç—å –Ω–æ–≤–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è |
| **R**ead | GET | \`GET /users\` –∏–ª–∏ \`GET /users/123\` | –ü–æ–ª—É—á–∏—Ç—å –¥–∞–Ω–Ω—ã–µ |
| **U**pdate | PUT/PATCH | \`PUT /users/123\` | –û–±–Ω–æ–≤–∏—Ç—å –¥–∞–Ω–Ω—ã–µ |
| **D**elete | DELETE | \`DELETE /users/123\` | –£–¥–∞–ª–∏—Ç—å –¥–∞–Ω–Ω—ã–µ |

---

## –ò–¥–µ–º–ø–æ—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å

**–ò–¥–µ–º–ø–æ—Ç–µ–Ω—Ç–Ω—ã–π** –º–µ—Ç–æ–¥ ‚Äî —ç—Ç–æ –º–µ—Ç–æ–¥, –∫–æ—Ç–æ—Ä—ã–π –º–æ–∂–Ω–æ –≤—ã–∑—ã–≤–∞—Ç—å –º–Ω–æ–≥–æ —Ä–∞–∑ —Å –æ–¥–∏–Ω–∞–∫–æ–≤—ã–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–º.

### –ü—Ä–∏–º–µ—Ä—ã:

‚úÖ **–ò–¥–µ–º–ø–æ—Ç–µ–Ω—Ç–Ω—ã–µ:**
- **GET** ‚Äî —á—Ç–µ–Ω–∏–µ –Ω–µ –∏–∑–º–µ–Ω—è–µ—Ç –¥–∞–Ω–Ω—ã–µ
- **PUT** ‚Äî –∑–∞–º–µ–Ω–∞ –≤—Å–µ–≥–¥–∞ –ø—Ä–∏–≤–æ–¥–∏—Ç –∫ –æ–¥–Ω–æ–º—É —Å–æ—Å—Ç–æ—è–Ω–∏—é
- **DELETE** ‚Äî –ø–æ–≤—Ç–æ—Ä–Ω–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ –Ω–µ –º–µ–Ω—è–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç (—É–∂–µ —É–¥–∞–ª–µ–Ω–æ)

‚ùå **–ù–ï –∏–¥–µ–º–ø–æ—Ç–µ–Ω—Ç–Ω—ã–π:**
- **POST** ‚Äî –∫–∞–∂–¥—ã–π –≤—ã–∑–æ–≤ —Å–æ–∑–¥–∞–µ—Ç –Ω–æ–≤—ã–π —Ä–µ—Å—É—Ä—Å

**–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–π –ø—Ä–∏–º–µ—Ä:**

\`\`\`javascript
// PUT ‚Äî –∏–¥–µ–º–ø–æ—Ç–µ–Ω—Ç–Ω—ã–π
PUT /users/123
{ "age": 30 }
// –†–µ–∑—É–ª—å—Ç–∞—Ç: age = 30

PUT /users/123  // –ø–æ–≤—Ç–æ—Ä–Ω—ã–π –≤—ã–∑–æ–≤
{ "age": 30 }
// –†–µ–∑—É–ª—å—Ç–∞—Ç: age = 30 (—Ç–æ—Ç –∂–µ!)

// POST ‚Äî –ù–ï –∏–¥–µ–º–ø–æ—Ç–µ–Ω—Ç–Ω—ã–π
POST /users
{ "name": "–ò–≤–∞–Ω" }
// –°–æ–∑–¥–∞–ª—Å—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å ID 1

POST /users  // –ø–æ–≤—Ç–æ—Ä–Ω—ã–π –≤—ã–∑–æ–≤
{ "name": "–ò–≤–∞–Ω" }
// –°–æ–∑–¥–∞–ª—Å—è –µ—â–µ –æ–¥–∏–Ω –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å ID 2 (—Ä–∞–∑–Ω—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç!)
\`\`\`

---

## Authorization header

**Authorization** –∑–∞–≥–æ–ª–æ–≤–æ–∫ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è **–ø–µ—Ä–µ–¥–∞—á–∏ –¥–∞–Ω–Ω—ã—Ö –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏**.

### –¢–∏–ø—ã:

**1. Bearer Token (—Å–∞–º—ã–π –ø–æ–ø—É–ª—è—Ä–Ω—ã–π –¥–ª—è JWT):**
\`\`\`http
GET /users/me
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...
\`\`\`

**2. Basic Auth:**
\`\`\`http
GET /users
Authorization: Basic dXNlcm5hbWU6cGFzc3dvcmQ=
\`\`\`
(base64 –∫–æ–¥–∏—Ä–æ–≤–∫–∞ "username:password")

**3. API Key:**
\`\`\`http
GET /data
Authorization: ApiKey abc123xyz456
\`\`\`

---

## –ü–∞–≥–∏–Ω–∞—Ü–∏—è (Pagination)

–ü–∞–≥–∏–Ω–∞—Ü–∏—è –Ω—É–∂–Ω–∞ –¥–ª—è **—Ä–∞–∑–±–∏–µ–Ω–∏—è –±–æ–ª—å—à–∏—Ö –¥–∞–Ω–Ω—ã—Ö –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—ã**.

### –°–ø–æ—Å–æ–±—ã —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏:

**1. Offset-based (–Ω–∞ –æ—Å–Ω–æ–≤–µ —Å–º–µ—â–µ–Ω–∏—è):**
\`\`\`http
GET /users?limit=20&offset=40
‚Üí –ü—Ä–æ–ø—É—Å—Ç–∏—Ç—å 40, –≤–∑—è—Ç—å 20 (—Å—Ç—Ä–∞–Ω–∏—Ü–∞ 3)
\`\`\`

**2. Page-based (–Ω–∞ –æ—Å–Ω–æ–≤–µ –Ω–æ–º–µ—Ä–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—ã):**
\`\`\`http
GET /users?page=3&per_page=20
‚Üí –°—Ç—Ä–∞–Ω–∏—Ü–∞ 3, –ø–æ 20 –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ
\`\`\`

**3. Cursor-based (–Ω–∞ –æ—Å–Ω–æ–≤–µ –∫—É—Ä—Å–æ—Ä–∞, –¥–ª—è –±–æ–ª—å—à–∏—Ö –¥–∞–Ω–Ω—ã—Ö):**
\`\`\`http
GET /users?cursor=eyJpZCI6MTAwfQ&limit=20
‚Üí –°–ª–µ–¥—É—é—â–∏–µ 20 –ø–æ—Å–ª–µ –∫—É—Ä—Å–æ—Ä–∞
\`\`\`

**–ü—Ä–∏–º–µ—Ä –æ—Ç–≤–µ—Ç–∞ —Å –º–µ—Ç–∞-–∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π:**
\`\`\`json
{
  "data": [ /* –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ */ ],
  "pagination": {
    "total": 100,
    "page": 3,
    "per_page": 20,
    "total_pages": 5
  }
}
\`\`\`

---

## –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –∏ —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞

### –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è:

\`\`\`http
GET /products?category=electronics&inStock=true&price[gte]=100&price[lte]=500
‚Üí –¢–æ–≤–∞—Ä—ã —ç–ª–µ–∫—Ç—Ä–æ–Ω–∏–∫–∏ –≤ –Ω–∞–ª–∏—á–∏–∏, —Ü–µ–Ω–∞ –æ—Ç 100 –¥–æ 500
\`\`\`

**–û–ø–µ—Ä–∞—Ç–æ—Ä—ã —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏:**
- \`gte\` ‚Äî greater than or equal (–±–æ–ª—å—à–µ –∏–ª–∏ —Ä–∞–≤–Ω–æ)
- \`lte\` ‚Äî less than or equal (–º–µ–Ω—å—à–µ –∏–ª–∏ —Ä–∞–≤–Ω–æ)
- \`gt\` ‚Äî greater than (–±–æ–ª—å—à–µ)
- \`lt\` ‚Äî less than (–º–µ–Ω—å—à–µ)

### –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞:

\`\`\`http
GET /users?sort=-createdAt,name
‚Üí –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞: —Å–Ω–∞—á–∞–ª–∞ –ø–æ –¥–∞—Ç–µ —Å–æ–∑–¥–∞–Ω–∏—è (—É–±—ã–≤–∞–Ω–∏–µ), –ø–æ—Ç–æ–º –ø–æ –∏–º–µ–Ω–∏ (–≤–æ–∑—Ä–∞—Å—Ç–∞–Ω–∏–µ)
\`\`\`

**–°–æ–≥–ª–∞—à–µ–Ω–∏–µ:**
- \`sort=name\` ‚Äî –ø–æ –≤–æ–∑—Ä–∞—Å—Ç–∞–Ω–∏—é (ascending)
- \`sort=-name\` ‚Äî –ø–æ —É–±—ã–≤–∞–Ω–∏—é (descending)

---

## –†–µ–∑—é–º–µ: –õ—É—á—à–∏–µ –ø—Ä–∞–∫—Ç–∏–∫–∏ REST API

1. ‚úÖ –ò—Å–ø–æ–ª—å–∑—É–π –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ HTTP –º–µ—Ç–æ–¥—ã –ø–æ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏—é
2. ‚úÖ –í–æ–∑–≤—Ä–∞—â–∞–π –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ —Å—Ç–∞—Ç—É—Å –∫–æ–¥—ã
3. ‚úÖ –ò—Å–ø–æ–ª—å–∑—É–π —Å—É—â–µ—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã–µ –≤–æ –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω–æ–º —á–∏—Å–ª–µ –¥–ª—è –∫–æ–ª–ª–µ–∫—Ü–∏–π (\`/users\`, –Ω–µ \`/user\`)
4. ‚úÖ –ò—Å–ø–æ–ª—å–∑—É–π –≤–ª–æ–∂–µ–Ω–Ω–æ—Å—Ç—å –¥–ª—è —Å–≤—è–∑–∞–Ω–Ω—ã—Ö —Ä–µ—Å—É—Ä—Å–æ–≤ (\`/users/123/posts\`)
5. ‚úÖ –í–µ—Ä—Å–∏–æ–Ω–∏—Ä—É–π API (\`/v1/users\`)
6. ‚úÖ –ò—Å–ø–æ–ª—å–∑—É–π query –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –¥–ª—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏, —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏, –ø–∞–≥–∏–Ω–∞—Ü–∏–∏
7. ‚úÖ –í–æ–∑–≤—Ä–∞—â–∞–π –ø–æ–Ω—è—Ç–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –æ–± –æ—à–∏–±–∫–∞—Ö
8. ‚úÖ –ò—Å–ø–æ–ª—å–∑—É–π HTTPS –¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
9. ‚úÖ –î–æ–∫—É–º–µ–Ω—Ç–∏—Ä—É–π —Å–≤–æ–π API (Swagger/OpenAPI)

---

## –ü—Ä–∏–º–µ—Ä—ã –ø–æ–ª–Ω—ã—Ö HTTP –∑–∞–ø—Ä–æ—Å–æ–≤

### –°–æ–∑–¥–∞–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:
\`\`\`http
POST /api/v1/users HTTP/1.1
Host: example.com
Content-Type: application/json
Authorization: Bearer token123

{
  "name": "–ú–∞—Ä–∏—è –ü–µ—Ç—Ä–æ–≤–∞",
  "email": "maria@example.com",
  "age": 28
}

‚Üí –û—Ç–≤–µ—Ç:
HTTP/1.1 201 Created
Content-Type: application/json

{
  "id": "456",
  "name": "–ú–∞—Ä–∏—è –ü–µ—Ç—Ä–æ–≤–∞",
  "email": "maria@example.com",
  "age": 28,
  "createdAt": "2024-01-15T10:30:00Z"
}
\`\`\`

### –ü–æ–ª—É—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ —Å —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–µ–π:
\`\`\`http
GET /api/v1/posts?status=published&author=123&page=1&limit=10 HTTP/1.1
Host: example.com
Authorization: Bearer token123

‚Üí –û—Ç–≤–µ—Ç:
HTTP/1.1 200 OK
Content-Type: application/json

{
  "data": [
    {
      "id": "1",
      "title": "–ü–µ—Ä–≤—ã–π –ø–æ—Å—Ç",
      "status": "published",
      "authorId": "123"
    }
  ],
  "pagination": {
    "page": 1,
    "limit": 10,
    "total": 45
  }
}
\`\`\`

### –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö:
\`\`\`http
PATCH /api/v1/users/456 HTTP/1.1
Host: example.com
Content-Type: application/json
Authorization: Bearer token123

{
  "age": 29
}

‚Üí –û—Ç–≤–µ—Ç:
HTTP/1.1 200 OK
Content-Type: application/json

{
  "id": "456",
  "name": "–ú–∞—Ä–∏—è –ü–µ—Ç—Ä–æ–≤–∞",
  "email": "maria@example.com",
  "age": 29,
  "updatedAt": "2024-01-16T14:20:00Z"
}
\`\`\`

### –£–¥–∞–ª–µ–Ω–∏–µ:
\`\`\`http
DELETE /api/v1/users/456 HTTP/1.1
Host: example.com
Authorization: Bearer token123

‚Üí –û—Ç–≤–µ—Ç:
HTTP/1.1 204 No Content
\`\`\`

---

## üéØ –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

HTTP –∏ REST API ‚Äî —ç—Ç–æ —Ñ—É–Ω–¥–∞–º–µ–Ω—Ç —Å–æ–≤—Ä–µ–º–µ–Ω–Ω–æ–π –≤–µ–±-—Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏. –ü–æ–Ω–∏–º–∞—è —ç—Ç–∏ –∫–æ–Ω—Ü–µ–ø—Ü–∏–∏, –≤—ã —Å–º–æ–∂–µ—Ç–µ:

- ‚úÖ –°–æ–∑–¥–∞–≤–∞—Ç—å –ø–æ–Ω—è—Ç–Ω—ã–µ –∏ –ø—Ä–µ–¥—Å–∫–∞–∑—É–µ–º—ã–µ API
- ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å HTTP –º–µ—Ç–æ–¥—ã –∏ —Å—Ç–∞—Ç—É—Å –∫–æ–¥—ã
- ‚úÖ –°—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞—Ç—å URL –ª–æ–≥–∏—á–Ω–æ –∏ –∫–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ
- ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤—ã–≤–∞—Ç—å —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—é, —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫—É –∏ –ø–∞–≥–∏–Ω–∞—Ü–∏—é
- ‚úÖ –û–±–µ—Å–ø–µ—á–∏–≤–∞—Ç—å –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å —á–µ—Ä–µ–∑ –ø—Ä–∞–≤–∏–ª—å–Ω—É—é –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—é

**–ü—Ä–∞–∫—Ç–∏–∫—É–π—Ç–µ—Å—å, —Å–æ–∑–¥–∞–≤–∞–π—Ç–µ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–µ API, –∏ —ç—Ç–∏ –∑–Ω–∞–Ω–∏—è —Å—Ç–∞–Ω—É—Ç –≤–∞—à–µ–π –≤—Ç–æ—Ä–æ–π –Ω–∞—Ç—É—Ä–æ–π!** üöÄ
`;

async function createLecture() {
  try {
    console.log('üìö –°–æ–∑–¥–∞–Ω–∏–µ –ª–µ–∫—Ü–∏–∏ –ø–æ HTTP –º–µ—Ç–æ–¥–∞–º –∏ –æ—Å–Ω–æ–≤–∞–º...');

    // –°–æ–∑–¥–∞–µ–º –ª–µ–∫—Ü–∏—é
    const lecture = await prisma.lecture.create({
      data: {
        title: 'HTTP –º–µ—Ç–æ–¥—ã –∏ –æ—Å–Ω–æ–≤—ã REST API',
        topic: 'HTTP',
        content: lectureContent,
      },
    });

    console.log('‚úÖ –õ–µ–∫—Ü–∏—è —Å–æ–∑–¥–∞–Ω–∞ —É—Å–ø–µ—à–Ω–æ!');
    console.log(`üìù ID –ª–µ–∫—Ü–∏–∏: ${lecture.id}`);

    // –¢–µ–ø–µ—Ä—å –ø—Ä–∏–≤—è–∂–µ–º –≤—Å–µ –≤–æ–ø—Ä–æ—Å—ã, —Å–≤—è–∑–∞–Ω–Ω—ã–µ —Å HTTP —Ç–µ–º–æ–π –∫ —ç—Ç–æ–π –ª–µ–∫—Ü–∏–∏
    // –ü–æ–ª—É—á–∞–µ–º –≤—Å–µ —Ç–µ—Å—Ç—ã –ø–æ HTTP —Ç–µ–º–µ
    const httpTests = await prisma.test.findMany({
      where: {
        OR: [
          { title: { contains: 'HTTP', mode: 'insensitive' } },
          { title: { contains: 'REST', mode: 'insensitive' } },
          { title: { contains: '—Å—Ç–∞—Ç—É—Å', mode: 'insensitive' } },
          { title: { contains: 'CRUD', mode: 'insensitive' } },
          { description: { contains: 'HTTP', mode: 'insensitive' } },
        ],
      },
      include: {
        questions: {
          include: {
            question: true,
          },
        },
      },
    });

    // –°–æ–±–∏—Ä–∞–µ–º —É–Ω–∏–∫–∞–ª—å–Ω—ã–µ ID –≤–æ–ø—Ä–æ—Å–æ–≤
    const questionIds = new Set<string>();
    for (const test of httpTests) {
      for (const tq of test.questions) {
        questionIds.add(tq.questionId);
      }
    }

    console.log(`üîó –ù–∞–π–¥–µ–Ω–æ –≤–æ–ø—Ä–æ—Å–æ–≤ –¥–ª—è –ø—Ä–∏–≤—è–∑–∫–∏: ${questionIds.size}`);

    // –û–±–Ω–æ–≤–ª—è–µ–º –≤—Å–µ –≤–æ–ø—Ä–æ—Å—ã, –¥–æ–±–∞–≤–ª—è—è —Å–≤—è–∑—å —Å –ª–µ–∫—Ü–∏–µ–π
    let updated = 0;
    for (const questionId of questionIds) {
      await prisma.question.update({
        where: { id: questionId },
        data: { lectureId: lecture.id },
      });
      updated++;
    }

    console.log(`‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω–æ –≤–æ–ø—Ä–æ—Å–æ–≤: ${updated}`);
    console.log('üéâ –í—Å–µ –≥–æ—Ç–æ–≤–æ!');
  } catch (error) {
    console.error('‚ùå –û—à–∏–±–∫–∞ –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –ª–µ–∫—Ü–∏–∏:', error);
    throw error;
  } finally {
    await prisma.$disconnect();
  }
}

createLecture();
