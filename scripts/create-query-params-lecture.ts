import { PrismaClient } from '@prisma/client';
import { PrismaPg } from '@prisma/adapter-pg';
import { Pool } from 'pg';
import dotenv from 'dotenv';

dotenv.config();

const pool = new Pool({ connectionString: process.env.DATABASE_URL });
const adapter = new PrismaPg(pool);
const prisma = new PrismaClient({ adapter });

const lectureContent = `# Query Parameters: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –∑–∞–ø—Ä–æ—Å–∞ –≤ REST API

## –í–≤–µ–¥–µ–Ω–∏–µ: –ß—Ç–æ —Ç–∞–∫–æ–µ Query –ø–∞—Ä–∞–º–µ—Ç—Ä—ã?

–ü—Ä–µ–¥—Å—Ç–∞–≤—å—Ç–µ, —á—Ç–æ –≤—ã –≤ –æ–≥—Ä–æ–º–Ω–æ–º –º–∞–≥–∞–∑–∏–Ω–µ –∏—â–µ—Ç–µ –∫–Ω–∏–≥—É. –í—ã –≥–æ–≤–æ—Ä–∏—Ç–µ –ø—Ä–æ–¥–∞–≤—Ü—É:
- "–ü–æ–∫–∞–∂–∏—Ç–µ –º–Ω–µ –∫–Ω–∏–≥–∏ **–ø—Ä–æ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ**" (—Ñ–∏–ª—å—Ç—Ä)
- "–û—Ç—Å–æ—Ä—Ç–∏—Ä—É–π—Ç–µ –∏—Ö **–ø–æ —Ü–µ–Ω–µ**" (—Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞)
- "–ü–æ–∫–∞–∂–∏—Ç–µ —Ç–æ–ª—å–∫–æ **–ø–µ—Ä–≤—ã–µ 10**" (–ø–∞–≥–∏–Ω–∞—Ü–∏—è)
- "–î–µ—à–µ–≤–ª–µ **1000 —Ä—É–±–ª–µ–π**" (–¥–∏–∞–ø–∞–∑–æ–Ω)

**Query –ø–∞—Ä–∞–º–µ—Ç—Ä—ã** ‚Äî —ç—Ç–æ –∏–º–µ–Ω–Ω–æ —Ç–∞–∫–∏–µ "—É—Ç–æ—á–Ω–µ–Ω–∏—è" –∫ –≤–∞—à–µ–º—É –∑–∞–ø—Ä–æ—Å—É –≤ API:

\`\`\`http
GET /books?category=programming&sort=price&limit=10&maxPrice=1000
\`\`\`

> Query –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –ø–æ–∑–≤–æ–ª—è—é—Ç **—Ñ–∏–ª—å—Ç—Ä–æ–≤–∞—Ç—å**, **—Å–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å**, **–æ–≥—Ä–∞–Ω–∏—á–∏–≤–∞—Ç—å** –∏ **–Ω–∞—Å—Ç—Ä–∞–∏–≤–∞—Ç—å** –¥–∞–Ω–Ω—ã–µ, –∫–æ—Ç–æ—Ä—ã–µ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç API, –Ω–µ –∏–∑–º–µ–Ω—è—è —Å–∞–º URL —Ä–µ—Å—É—Ä—Å–∞.

---

## –°–∏–Ω—Ç–∞–∫—Å–∏—Å Query –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤

### –ë–∞–∑–æ–≤–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞

\`\`\`
/resource?param1=value1&param2=value2&param3=value3
          ^              ^              ^
          |              |              |
     –ù–∞—á–∞–ª–æ (?)    –†–∞–∑–¥–µ–ª–∏—Ç–µ–ª—å (&)  –°–ª–µ–¥—É—é—â–∏–π –ø–∞—Ä–∞–º–µ—Ç—Ä
\`\`\`

### –°–∏–º–≤–æ–ª "?" ‚Äî –Ω–∞—á–∞–ª–æ query –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤

**?** (–∑–Ω–∞–∫ –≤–æ–ø—Ä–æ—Å–∞) –æ—Ç–¥–µ–ª—è–µ—Ç –ø—É—Ç—å URL –æ—Ç query –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤.

\`\`\`http
GET /users?sort=name
           ^
           –ù–∞—á–∞–ª–æ query –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤
\`\`\`

### –°–∏–º–≤–æ–ª "&" ‚Äî —Ä–∞–∑–¥–µ–ª–∏—Ç–µ–ª—å –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤

**&** (–∞–º–ø–µ—Ä—Å–∞–Ω–¥) —Ä–∞–∑–¥–µ–ª—è–µ—Ç –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã.

\`\`\`http
GET /users?sort=name&order=asc&limit=10
                    ^         ^
                    –†–∞–∑–¥–µ–ª–∏—Ç–µ–ª–∏
\`\`\`

### –§–æ—Ä–º–∞—Ç: –∫–ª—é—á=–∑–Ω–∞—á–µ–Ω–∏–µ

–ö–∞–∂–¥—ã–π –ø–∞—Ä–∞–º–µ—Ç—Ä –∏–º–µ–µ—Ç —Ñ–æ—Ä–º–∞—Ç \`–∫–ª—é—á=–∑–Ω–∞—á–µ–Ω–∏–µ\`.

\`\`\`http
GET /products?category=electronics&minPrice=1000
              ^        ^           ^        ^
              –∫–ª—é—á   –∑–Ω–∞—á–µ–Ω–∏–µ      –∫–ª—é—á   –∑–Ω–∞—á–µ–Ω–∏–µ
\`\`\`

### –ü—Ä–∏–º–µ—Ä—ã

**–û–¥–∏–Ω –ø–∞—Ä–∞–º–µ—Ç—Ä**:
\`\`\`http
GET /users?sort=name
\`\`\`

**–ù–µ—Å–∫–æ–ª—å–∫–æ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤**:
\`\`\`http
GET /users?sort=name&order=asc&limit=20&offset=40
\`\`\`

**–ë–µ–∑ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤** (–ø—Ä–æ—Å—Ç–æ —Ä–µ—Å—É—Ä—Å):
\`\`\`http
GET /users
\`\`\`

---

## –û—Å–Ω–æ–≤–Ω—ã–µ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è Query –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤

### 1. –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è

**–¶–µ–ª—å**: –ü–æ–ª—É—á–∏—Ç—å —Ç–æ–ª—å–∫–æ —Ç–µ —Ä–µ—Å—É—Ä—Å—ã, –∫–æ—Ç–æ—Ä—ã–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—Ç –∫—Ä–∏—Ç–µ—Ä–∏—è–º.

**–ü—Ä–∏–º–µ—Ä—ã**:

\`\`\`http
GET /users?role=admin
GET /products?category=electronics&brand=Apple
GET /orders?status=completed&userId=123
\`\`\`

**–û—Ç–≤–µ—Ç** (–æ—Ç—Ñ–∏–ª—å—Ç—Ä–æ–≤–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏):
\`\`\`json
[
  { "id": 5, "name": "Admin User", "role": "admin" },
  { "id": 12, "name": "Super Admin", "role": "admin" }
]
\`\`\`

### 2. –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞

**–¶–µ–ª—å**: –£–ø–æ—Ä—è–¥–æ—á–∏—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –ø–æ –æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω–æ–º—É –ø–æ–ª—é.

**–ë–∞–∑–æ–≤—ã–π —Ñ–æ—Ä–º–∞—Ç**:
\`\`\`http
GET /users?sort=name
GET /products?sort=price
GET /posts?sort=createdAt
\`\`\`

**–° –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ–º —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏**:
\`\`\`http
GET /users?sort=name&order=asc      # –ü–æ –≤–æ–∑—Ä–∞—Å—Ç–∞–Ω–∏—é
GET /products?sort=price&order=desc  # –ü–æ —É–±—ã–≤–∞–Ω–∏—é
\`\`\`

**–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç** (–∑–Ω–∞–∫ + / -):
\`\`\`http
GET /users?sort=+name          # –í–æ–∑—Ä–∞—Å—Ç–∞–Ω–∏–µ
GET /users?sort=-createdAt     # –£–±—ã–≤–∞–Ω–∏–µ
\`\`\`

### 3. –ü–∞–≥–∏–Ω–∞—Ü–∏—è (Pagination)

**–¶–µ–ª—å**: –†–∞–∑–±–∏—Ç—å –±–æ–ª—å—à–æ–π —Å–ø–∏—Å–æ–∫ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—ã.

#### Offset-based –ø–∞–≥–∏–Ω–∞—Ü–∏—è

**–§–æ—Ä–º–∞—Ç**: \`limit\` (–∫–æ–ª–∏—á–µ—Å—Ç–≤–æ) –∏ \`offset\` (–ø—Ä–æ–ø—É—Å–∫)

\`\`\`http
GET /users?limit=10&offset=0    # –°—Ç—Ä–∞–Ω–∏—Ü–∞ 1 (–∑–∞–ø–∏—Å–∏ 1-10)
GET /users?limit=10&offset=10   # –°—Ç—Ä–∞–Ω–∏—Ü–∞ 2 (–∑–∞–ø–∏—Å–∏ 11-20)
GET /users?limit=10&offset=20   # –°—Ç—Ä–∞–Ω–∏—Ü–∞ 3 (–∑–∞–ø–∏—Å–∏ 21-30)
\`\`\`

**–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç**: \`page\` –∏ \`perPage\`

\`\`\`http
GET /users?page=1&perPage=10
GET /users?page=2&perPage=10
\`\`\`

**–ü—Ä–∏–º–µ—Ä –æ—Ç–≤–µ—Ç–∞**:
\`\`\`json
{
  "data": [
    { "id": 1, "name": "User 1" },
    { "id": 2, "name": "User 2" }
  ],
  "pagination": {
    "total": 150,
    "limit": 10,
    "offset": 0,
    "pages": 15,
    "currentPage": 1
  }
}
\`\`\`

#### Cursor-based –ø–∞–≥–∏–Ω–∞—Ü–∏—è

**–ß—Ç–æ —ç—Ç–æ?** –ü–∞–≥–∏–Ω–∞—Ü–∏—è –ø–æ **—É–∫–∞–∑–∞—Ç–µ–ª—é –Ω–∞ –ø–æ–∑–∏—Ü–∏—é**, –∞ –Ω–µ –ø–æ –Ω–æ–º–µ—Ä—É.

**–§–æ—Ä–º–∞—Ç**:
\`\`\`http
GET /users?limit=10
GET /users?limit=10&cursor=eyJpZCI6MTB9
\`\`\`

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞**:
- ‚úÖ –ù–µ—Ç –ø—Ä–æ–ø—É—Å–∫–æ–≤ –ø—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏ –Ω–æ–≤—ã—Ö –∑–∞–ø–∏—Å–µ–π
- ‚úÖ –ë–æ–ª–µ–µ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ –¥–ª—è –±–æ–ª—å—à–∏—Ö –¥–∞—Ç–∞—Å–µ—Ç–æ–≤
- ‚úÖ –ö–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ –¥–∞–Ω–Ω—ã—Ö

**–ü—Ä–∏–º–µ—Ä –æ—Ç–≤–µ—Ç–∞**:
\`\`\`json
{
  "data": [...],
  "pagination": {
    "nextCursor": "eyJpZCI6MjB9",
    "prevCursor": "eyJpZCI6MH0",
    "hasMore": true
  }
}
\`\`\`

**–ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å**:
- Offset-based: –ü—Ä–æ—Å—Ç—ã–µ —Å–ª—É—á–∞–∏, –Ω—É–∂–Ω–∞ –Ω–∞–≤–∏–≥–∞—Ü–∏—è –ø–æ —Å—Ç—Ä–∞–Ω–∏—Ü–∞–º
- Cursor-based: –ë–æ–ª—å—à–∏–µ –¥–∞—Ç–∞—Å–µ—Ç—ã, —Ä–µ–∞–ª—Ç–∞–π–º –ª–µ–Ω—Ç—ã, –±–µ—Å–∫–æ–Ω–µ—á–Ω–∞—è –ø—Ä–æ–∫—Ä—É—Ç–∫–∞

### 4. –ü–æ–∏—Å–∫

**–§–æ—Ä–º–∞—Ç**:
\`\`\`http
GET /products?search=laptop
GET /users?q=John
GET /articles?query=REST+API
\`\`\`

**–ü—Ä–∏–º–µ—Ä**:
\`\`\`http
GET /products?search=MacBook
\`\`\`

**–û—Ç–≤–µ—Ç**:
\`\`\`json
[
  { "id": 1, "name": "MacBook Pro 14", "price": 200000 },
  { "id": 2, "name": "MacBook Air M2", "price": 120000 }
]
\`\`\`

### 5. –í—ã–±–æ—Ä –ø–æ–ª–µ–π (Sparse Fieldsets)

**–ß—Ç–æ —ç—Ç–æ?** –ö–ª–∏–µ–Ω—Ç —É–∫–∞–∑—ã–≤–∞–µ—Ç, –∫–∞–∫–∏–µ –ø–æ–ª—è –µ–º—É –Ω—É–∂–Ω—ã, —Å–µ—Ä–≤–µ—Ä –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ç–æ–ª—å–∫–æ –∏—Ö.

**–§–æ—Ä–º–∞—Ç**:
\`\`\`http
GET /users?fields=id,name,email
GET /products?fields=id,title,price
\`\`\`

**–ë–µ–∑ sparse fieldsets** (–≤—Å–µ –ø–æ–ª—è):
\`\`\`http
GET /users/123
\`\`\`

**–û—Ç–≤–µ—Ç**:
\`\`\`json
{
  "id": 123,
  "name": "–ò–≤–∞–Ω",
  "email": "ivan@example.com",
  "phone": "+7123456789",
  "address": "...",
  "bio": "...",
  "createdAt": "...",
  "updatedAt": "..."
}
\`\`\`

**–°–æ sparse fieldsets**:
\`\`\`http
GET /users/123?fields=id,name,email
\`\`\`

**–û—Ç–≤–µ—Ç** (—Ç–æ–ª—å–∫–æ –∑–∞–ø—Ä–æ—à–µ–Ω–Ω—ã–µ –ø–æ–ª—è):
\`\`\`json
{
  "id": 123,
  "name": "–ò–≤–∞–Ω",
  "email": "ivan@example.com"
}
\`\`\`

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞**:
- ‚úÖ –≠–∫–æ–Ω–æ–º–∏—è —Ç—Ä–∞—Ñ–∏–∫–∞
- ‚úÖ –ë—ã—Å—Ç—Ä–µ–µ –ø–∞—Ä—Å–∏–Ω–≥ –Ω–∞ –∫–ª–∏–µ–Ω—Ç–µ
- ‚úÖ –ú–µ–Ω—å—à–µ –Ω–∞–≥—Ä—É–∑–∫–∞ –Ω–∞ —Å–µ—Ä–≤–µ—Ä

### 6. –í–∫–ª—é—á–µ–Ω–∏–µ —Å–≤—è–∑–∞–Ω–Ω—ã—Ö —Ä–µ—Å—É—Ä—Å–æ–≤ (Eager Loading)

**–ß—Ç–æ —ç—Ç–æ?** –ó–∞–ø—Ä–æ—Å–∏—Ç—å –æ—Å–Ω–æ–≤–Ω–æ–π —Ä–µ—Å—É—Ä—Å + —Å–≤—è–∑–∞–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –≤ –æ–¥–Ω–æ–º –∑–∞–ø—Ä–æ—Å–µ.

**–†–∞–∑–Ω—ã–µ –Ω–∞–∑–≤–∞–Ω–∏—è –ø–∞—Ä–∞–º–µ—Ç—Ä–∞** (–≤—Å–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è):
- \`?include=...\`
- \`?expand=...\`
- \`?embed=...\`

**–ü—Ä–∏–º–µ—Ä—ã**:

\`\`\`http
GET /users/123?include=posts
GET /posts/456?expand=author,comments
GET /orders/789?embed=user,items
\`\`\`

**–ë–µ–∑ include**:
\`\`\`http
GET /posts/456
\`\`\`

\`\`\`json
{
  "id": 456,
  "title": "–ú–æ–π –ø–æ—Å—Ç",
  "authorId": 123
}
\`\`\`

**–° include**:
\`\`\`http
GET /posts/456?include=author
\`\`\`

\`\`\`json
{
  "id": 456,
  "title": "–ú–æ–π –ø–æ—Å—Ç",
  "authorId": 123,
  "author": {
    "id": 123,
    "name": "–ò–≤–∞–Ω –ü–µ—Ç—Ä–æ–≤"
  }
}
\`\`\`

---

## –ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–µ —Ç–µ—Ö–Ω–∏–∫–∏

### –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –ø–æ –Ω–µ—Å–∫–æ–ª—å–∫–∏–º –ø–æ–ª—è–º

**–í—Å–µ –≤–∞—Ä–∏–∞–Ω—Ç—ã –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è**:

**–í–∞—Ä–∏–∞–Ω—Ç 1**: –ß–µ—Ä–µ–∑ –∑–∞–ø—è—Ç—É—é
\`\`\`http
GET /users?sort=lastName,firstName
\`\`\`

**–í–∞—Ä–∏–∞–Ω—Ç 2**: –ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã
\`\`\`http
GET /users?sort=lastName&sort=firstName
\`\`\`

**–í–∞—Ä–∏–∞–Ω—Ç 3**: –ú–∞—Å—Å–∏–≤
\`\`\`http
GET /users?sort[]=lastName&sort[]=firstName
\`\`\`

**–° –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ–º**:
\`\`\`http
GET /users?sort=-createdAt,+name    # –°–Ω–∞—á–∞–ª–∞ –ø–æ –¥–∞—Ç–µ ‚Üì, –ø–æ—Ç–æ–º –ø–æ –∏–º–µ–Ω–∏ ‚Üë
\`\`\`

### –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ –¥–∏–∞–ø–∞–∑–æ–Ω—É

**–í—Å–µ –≤–∞—Ä–∏–∞–Ω—Ç—ã –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è**:

**–í–∞—Ä–∏–∞–Ω—Ç 1**: –û–ø–µ—Ä–∞—Ç–æ—Ä—ã –≤ –∫–≤–∞–¥—Ä–∞—Ç–Ω—ã—Ö —Å–∫–æ–±–∫–∞—Ö
\`\`\`http
GET /products?price[gte]=1000&price[lte]=5000
\`\`\`

**–†–∞—Å—à–∏—Ñ—Ä–æ–≤–∫–∞ –æ–ø–µ—Ä–∞—Ç–æ—Ä–æ–≤**:
- \`gte\` ‚Äî greater than or equal (‚â•)
- \`lte\` ‚Äî less than or equal (‚â§)
- \`gt\` ‚Äî greater than (>)
- \`lt\` ‚Äî less than (<)
- \`eq\` ‚Äî equal (=)
- \`ne\` ‚Äî not equal (‚â†)

**–í–∞—Ä–∏–∞–Ω—Ç 2**: –ü—Ä–µ—Ñ–∏–∫—Å—ã min/max
\`\`\`http
GET /products?price_min=1000&price_max=5000
GET /products?minPrice=1000&maxPrice=5000
\`\`\`

**–í–∞—Ä–∏–∞–Ω—Ç 3**: –ù–æ—Ç–∞—Ü–∏—è –¥–∏–∞–ø–∞–∑–æ–Ω–∞
\`\`\`http
GET /products?price=1000..5000
\`\`\`

### –í—Ä–µ–º–µ–Ω–Ω—ã–µ –∏–Ω—Ç–µ—Ä–≤–∞–ª—ã

**–§–æ—Ä–º–∞—Ç**: \`from\` –∏ \`to\` (–∏–ª–∏ \`start\` / \`end\`)

\`\`\`http
GET /orders?from=2024-01-01&to=2024-01-31
GET /events?startDate=2024-01-15&endDate=2024-01-20
\`\`\`

**–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞** (–≤–ª–æ–∂–µ–Ω–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã):
\`\`\`http
GET /orders?date[from]=2024-01-01&date[to]=2024-01-31
GET /orders?interval[start]=2024-01-01&interval[end]=2024-01-31
\`\`\`

### –°–ª–æ–∂–Ω—ã–µ —Ñ–∏–ª—å—Ç—Ä—ã

**–ö–æ–≥–¥–∞ —Ñ–∏–ª—å—Ç—Ä—ã —Å—Ç–∞–Ω–æ–≤—è—Ç—Å—è —Å–ª–∏—à–∫–æ–º —Å–ª–æ–∂–Ω—ã–º–∏**, –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ **POST** –≤–º–µ—Å—Ç–æ GET!

‚ùå **–ü–ª–æ—Ö–æ** (—Å–ª–∏—à–∫–æ–º –¥–ª–∏–Ω–Ω—ã–π URL):
\`\`\`http
GET /users?filter[and][0][name][contains]=John&filter[and][1][age][gte]=18&filter[or][0][role]=admin&filter[or][1][role]=moderator...
\`\`\`

‚úÖ **–•–æ—Ä–æ—à–æ** (POST –¥–ª—è —Å–ª–æ–∂–Ω—ã—Ö —Ñ–∏–ª—å—Ç—Ä–æ–≤):
\`\`\`http
POST /users/search
Content-Type: application/json

{
  "filter": {
    "and": [
      { "name": { "contains": "John" } },
      { "age": { "gte": 18 } }
    ],
    "or": [
      { "role": "admin" },
      { "role": "moderator" }
    ]
  },
  "sort": ["-createdAt"],
  "limit": 20
}
\`\`\`

> üí° **–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è**: –î–ª—è —Å–ª–æ–∂–Ω—ã—Ö —Ñ–∏–ª—å—Ç—Ä–æ–≤ —Å–æ–∑–¥–∞–π—Ç–µ endpoint \`POST /resource/search\`.

---

## –¢–∏–ø—ã –¥–∞–Ω–Ω—ã—Ö –≤ Query –ø–∞—Ä–∞–º–µ—Ç—Ä–∞—Ö

### –°—Ç—Ä–æ–∫–∏ (strings)

\`\`\`http
GET /users?name=Ivan
GET /products?category=electronics
\`\`\`

### –ß–∏—Å–ª–∞ (numbers)

\`\`\`http
GET /users?age=25
GET /products?price=1000
\`\`\`

### –ë—É–ª–µ–≤—ã –∑–Ω–∞—á–µ–Ω–∏—è (boolean)

**–í—Å–µ –≤–∞—Ä–∏–∞–Ω—Ç—ã –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è**:

\`\`\`http
GET /products?inStock=true       # –Ø–≤–Ω–æ–µ true/false
GET /products?inStock=1          # 1 = true, 0 = false
GET /products?inStock            # –ù–∞–ª–∏—á–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞ = true
GET /products?featured           # featured=true
\`\`\`

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è**: –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ \`true\` / \`false\` –¥–ª—è —è—Å–Ω–æ—Å—Ç–∏.

### Null –∑–Ω–∞—á–µ–Ω–∏—è

**–û—Ç–≤–µ—Ç**: –ó–∞–≤–∏—Å–∏—Ç –æ—Ç API!

**–í–∞—Ä–∏–∞–Ω—Ç—ã**:

\`\`\`http
GET /users?middleName=null       # –Ø–≤–Ω–æ —É–∫–∞–∑–∞—Ç—å null
GET /users?middleName=           # –ü—É—Å—Ç–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ
GET /users                       # –ù–µ –ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä –≤–æ–æ–±—â–µ
\`\`\`

> üí° **–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è**: –î–æ–∫—É–º–µ–Ω—Ç–∏—Ä—É–π—Ç–µ, –∫–∞–∫ –≤–∞—à API –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç null!

### –ú–∞—Å—Å–∏–≤—ã

**–í–∞—Ä–∏–∞–Ω—Ç 1**: –ß–µ—Ä–µ–∑ –∑–∞–ø—è—Ç—É—é
\`\`\`http
GET /products?tags=javascript,react,node
\`\`\`

**–í–∞—Ä–∏–∞–Ω—Ç 2**: –ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã
\`\`\`http
GET /products?tags=javascript&tags=react&tags=node
\`\`\`

**–í–∞—Ä–∏–∞–Ω—Ç 3**: –ö–≤–∞–¥—Ä–∞—Ç–Ω—ã–µ —Å–∫–æ–±–∫–∏
\`\`\`http
GET /products?tags[]=javascript&tags[]=react&tags[]=node
\`\`\`

**–í–∞—Ä–∏–∞–Ω—Ç 4**: –ò–Ω–¥–µ–∫—Å—ã
\`\`\`http
GET /products?tags[0]=javascript&tags[1]=react&tags[2]=node
\`\`\`

---

## URL Encoding (–∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏–µ)

### –ü–æ—á–µ–º—É –Ω—É–∂–Ω–æ –∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏–µ?

–ù–µ–∫–æ—Ç–æ—Ä—ã–µ —Å–∏–º–≤–æ–ª—ã –∏–º–µ—é—Ç **—Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ** –≤ URL –∏ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –∑–∞–∫–æ–¥–∏—Ä–æ–≤–∞–Ω—ã.

### –ü—Ä–æ–±–µ–ª—ã

**–í query –ø–∞—Ä–∞–º–µ—Ç—Ä–∞—Ö**: \`%20\` –∏–ª–∏ \`+\` (–æ–±–∞ –¥–æ–ø—É—Å—Ç–∏–º—ã)

\`\`\`http
GET /users?name=John%20Doe
GET /users?name=John+Doe
\`\`\`

### Unicode —Å–∏–º–≤–æ–ª—ã

**–î–∞, –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç—Å—è, –Ω–æ —Å URL encoding!**

\`\`\`http
GET /users?name=–ò–≤–∞–Ω              # ‚ùå –ú–æ–∂–µ—Ç –Ω–µ —Ä–∞–±–æ—Ç–∞—Ç—å
GET /users?name=%D0%98%D0%B2%D0%B0%D0%BD  # ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–æ
\`\`\`

**JavaScript**:
\`\`\`javascript
encodeURIComponent('–ò–≤–∞–Ω')  // '%D0%98%D0%B2%D0%B0%D0%BD'
\`\`\`

### –°–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ —Å–∏–º–≤–æ–ª—ã

| –°–∏–º–≤–æ–ª | –ó–Ω–∞—á–µ–Ω–∏–µ | –ö–æ–¥–∏—Ä–æ–≤–∫–∞ |
|--------|----------|-----------|
| \` \` (–ø—Ä–æ–±–µ–ª) | –†–∞–∑–¥–µ–ª–∏—Ç–µ–ª—å | \`%20\` –∏–ª–∏ \`+\` |
| \`&\` | –†–∞–∑–¥–µ–ª–∏—Ç–µ–ª—å –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ | \`%26\` |
| \`?\` | –ù–∞—á–∞–ª–æ query | \`%3F\` |
| \`=\` | –ö–ª—é—á=–∑–Ω–∞—á–µ–Ω–∏–µ | \`%3D\` |
| \`#\` | –Ø–∫–æ—Ä—å (fragment) | \`%23\` |
| \`/\` | –†–∞–∑–¥–µ–ª–∏—Ç–µ–ª—å –ø—É—Ç–∏ | \`%2F\` |
| \`@\` | ‚Äî | \`%40\` |
| \`:\` | ‚Äî | \`%3A\` |

**–ü—Ä–∏–º–µ—Ä**:
\`\`\`http
GET /search?q=cats+%26+dogs    # –ü–æ–∏—Å–∫ "cats & dogs"
\`\`\`

---

## –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å Query –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤

### –¢–æ–∫–µ–Ω—ã –∏ —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ

**–í–æ–ø—Ä–æ—Å**: –ì–¥–µ –±–µ–∑–æ–ø–∞—Å–Ω–µ–µ –ø–µ—Ä–µ–¥–∞—Ç—å —Ç–æ–∫–µ–Ω ‚Äî –≤ query –∏–ª–∏ –∑–∞–≥–æ–ª–æ–≤–∫–µ?

**–û—Ç–≤–µ—Ç**: **–í –∑–∞–≥–æ–ª–æ–≤–∫–µ!**

‚ùå **–ù–µ–±–µ–∑–æ–ø–∞—Å–Ω–æ** (—Ç–æ–∫–µ–Ω –≤–∏–¥–µ–Ω –≤ –ª–æ–≥–∞—Ö, –∏—Å—Ç–æ—Ä–∏–∏ –±—Ä–∞—É–∑–µ—Ä–∞):
\`\`\`http
GET /api/users?token=secret_token_123
\`\`\`

‚úÖ **–ë–µ–∑–æ–ø–∞—Å–Ω–æ**:
\`\`\`http
GET /api/users
Authorization: Bearer secret_token_123
\`\`\`

**–ü–æ—á–µ–º—É query –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –Ω–µ–±–µ–∑–æ–ø–∞—Å–Ω—ã –¥–ª—è —Ç–æ–∫–µ–Ω–æ–≤?**
- ‚ùå –õ–æ–≥–∏—Ä—É—é—Ç—Å—è –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ –≤ access –ª–æ–≥–∞—Ö
- ‚ùå –°–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ –∏—Å—Ç–æ—Ä–∏–∏ –±—Ä–∞—É–∑–µ—Ä–∞
- ‚ùå –í–∏–¥–Ω—ã –≤ –∞–¥—Ä–µ—Å–Ω–æ–π —Å—Ç—Ä–æ–∫–µ
- ‚ùå –ü–µ—Ä–µ–¥–∞—é—Ç—Å—è —á–µ—Ä–µ–∑ Referer header –ø—Ä–∏ –ø–µ—Ä–µ—Ö–æ–¥–∞—Ö
- ‚ùå –í–∏–¥–Ω—ã –≤ –∞–Ω–∞–ª–∏—Ç–∏–∫–µ –∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–µ

> ‚ö†Ô∏è **–í–∞–∂–Ω–æ**: –î–∞–∂–µ –ø–æ HTTPS, query –ø–∞—Ä–∞–º–µ—Ç—Ä—ã **–ª–æ–≥–∏—Ä—É—é—Ç—Å—è –∏ –≤–∏–¥–Ω—ã**!

### –í–∞–ª–∏–¥–∞—Ü–∏—è –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ

**–í–æ–ø—Ä–æ—Å**: –ù—É–∂–Ω–æ –ª–∏ –≤–∞–ª–∏–¥–∏—Ä–æ–≤–∞—Ç—å query –ø–∞—Ä–∞–º–µ—Ç—Ä—ã?

**–û—Ç–≤–µ—Ç**: **–î–∞, –í–°–ï–ì–î–ê!**

**–ß—Ç–æ –≤–∞–ª–∏–¥–∏—Ä–æ–≤–∞—Ç—å**:

1. **–¢–∏–ø—ã –¥–∞–Ω–Ω—ã—Ö**:
\`\`\`javascript
// limit –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å —á–∏—Å–ª–æ–º
if (isNaN(limit)) {
  return res.status(400).json({ error: 'limit must be a number' });
}
\`\`\`

2. **–î–∏–∞–ø–∞–∑–æ–Ω—ã**:
\`\`\`javascript
// limit –æ—Ç 1 –¥–æ 100
if (limit < 1 || limit > 100) {
  return res.status(400).json({ error: 'limit must be between 1 and 100' });
}
\`\`\`

3. **–î–æ–ø—É—Å—Ç–∏–º—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è**:
\`\`\`javascript
const allowedSortFields = ['name', 'createdAt', 'price'];
if (!allowedSortFields.includes(sort)) {
  return res.status(400).json({ error: 'Invalid sort field' });
}
\`\`\`

4. **SQL Injection –∑–∞—â–∏—Ç–∞**:
\`\`\`javascript
// –ù–ï –≤—Å—Ç–∞–≤–ª—è–π—Ç–µ query –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –Ω–∞–ø—Ä—è–º—É—é –≤ SQL!
// ‚ùå –ü–ª–æ—Ö–æ
const query = \`SELECT * FROM users WHERE name = '\${req.query.name}'\`;

// ‚úÖ –•–æ—Ä–æ—à–æ (prepared statements)
const query = 'SELECT * FROM users WHERE name = ?';
db.query(query, [req.query.name]);
\`\`\`

### –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—â–∏—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤

**–í–æ–ø—Ä–æ—Å**: –ß—Ç–æ –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å, –µ—Å–ª–∏ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π query –ø–∞—Ä–∞–º–µ—Ç—Ä –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç?

**–û—Ç–≤–µ—Ç**: **400 Bad Request**

\`\`\`http
GET /export?format=csv    # ‚úÖ OK
GET /export               # ‚ùå format –æ–±—è–∑–∞—Ç–µ–ª–µ–Ω
\`\`\`

**–û—Ç–≤–µ—Ç –ø—Ä–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–∏**:
\`\`\`http
HTTP/1.1 400 Bad Request
Content-Type: application/json

{
  "error": "Missing required parameter: format",
  "requiredParams": ["format"],
  "allowedFormats": ["csv", "xlsx", "json"]
}
\`\`\`

---

## –°—Ç–∞–Ω–¥–∞—Ä—Ç–∏–∑–∞—Ü–∏—è –∏ Best Practices

### –ù–µ—Ç –µ–¥–∏–Ω–æ–≥–æ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–∞!

**–í–æ–ø—Ä–æ—Å**: –ö–∞–∫–æ–π query –ø–∞—Ä–∞–º–µ—Ç—Ä —Å—Ç–∞–Ω–¥–∞—Ä—Ç–µ–Ω –¥–ª—è –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤?

**–û—Ç–≤–µ—Ç**: **–ù–µ—Ç —Å—Ç–∞–Ω–¥–∞—Ä—Ç–∞!** –í—Å–µ –≤–∞—Ä–∏–∞–Ω—Ç—ã –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è:

| –í–∞—Ä–∏–∞–Ω—Ç | –ü—Ä–∏–º–µ—Ä—ã API |
|---------|-------------|
| \`limit\` | GitHub, Stripe |
| \`size\` | Elasticsearch |
| \`perPage\` | GitLab |
| \`count\` | Twitter (—É—Å—Ç–∞—Ä–µ–≤—à–∏–π) |
| \`max_results\` | Twitter API v2 |

> üí° **–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è**: –í—ã–±–µ—Ä–∏—Ç–µ –æ–¥–∏–Ω —Å—Ç–∏–ª—å –∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ **–ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ** –≤–æ –≤—Å—ë–º API. –°–∞–º—ã–π –ø–æ–ø—É–ª—è—Ä–Ω—ã–π: \`limit\` –∏ \`offset\`.

### –ö–∞–Ω–æ–Ω–∏—á–µ—Å–∫–∞—è —Ñ–æ—Ä–º–∞ –¥–ª—è –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏—è

**–í–æ–ø—Ä–æ—Å**: –ù—É–∂–Ω–æ –ª–∏ —Å–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å query –ø–∞—Ä–∞–º–µ—Ç—Ä—ã?

**–û—Ç–≤–µ—Ç**: **–î–ª—è –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏—è –∏ –ø–æ–¥–ø–∏—Å–µ–π ‚Äî –¥–∞!**

**–ü—Ä–æ–±–ª–µ–º–∞**:
\`\`\`http
GET /users?sort=name&limit=10
GET /users?limit=10&sort=name
\`\`\`

–≠—Ç–∏ URL **–∏–¥–µ–Ω—Ç–∏—á–Ω—ã**, –Ω–æ –¥–ª—è –∫–µ—à–∞ ‚Äî **—Ä–∞–∑–Ω—ã–µ**!

**–†–µ—à–µ–Ω–∏–µ**: –ö–∞–Ω–æ–Ω–∏—á–µ—Å–∫–∞—è —Ñ–æ—Ä–º–∞ (–æ—Ç—Å–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã)
\`\`\`http
/users?limit=10&sort=name    # –í—Å–µ–≥–¥–∞ –≤ –∞–ª—Ñ–∞–≤–∏—Ç–Ω–æ–º –ø–æ—Ä—è–¥–∫–µ
\`\`\`

**–ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ**:
- ‚úÖ HTTP –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ (CDN, browser cache)
- ‚úÖ –ü–æ–¥–ø–∏—Å–∏ –∑–∞–ø—Ä–æ—Å–æ–≤ (OAuth, HMAC)
- ‚úÖ Rate limiting –ø–æ endpoint

---

## –ü—Ä–∏–º–µ—Ä—ã —Ä–µ–∞–ª—å–Ω—ã—Ö API

### GitHub API

\`\`\`http
GET /repos/facebook/react/issues?state=open&sort=created&direction=desc&per_page=30&page=2
\`\`\`

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã**:
- \`state\` ‚Äî —Ñ–∏–ª—å—Ç—Ä –ø–æ —Å—Ç–∞—Ç—É—Å—É
- \`sort\` ‚Äî –ø–æ–ª–µ —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏
- \`direction\` ‚Äî –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ (\`asc\` / \`desc\`)
- \`per_page\` ‚Äî –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ
- \`page\` ‚Äî –Ω–æ–º–µ—Ä —Å—Ç—Ä–∞–Ω–∏—Ü—ã

### Stripe API

\`\`\`http
GET /v1/charges?limit=10&starting_after=ch_123456
\`\`\`

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã**:
- \`limit\` ‚Äî –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
- \`starting_after\` ‚Äî cursor –¥–ª—è –ø–∞–≥–∏–Ω–∞—Ü–∏–∏

### Twitter API

\`\`\`http
GET /tweets/search/recent?query=REST API&max_results=10&tweet.fields=created_at,author_id
\`\`\`

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã**:
- \`query\` ‚Äî –ø–æ–∏—Å–∫–æ–≤—ã–π –∑–∞–ø—Ä–æ—Å
- \`max_results\` ‚Äî –ª–∏–º–∏—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
- \`tweet.fields\` ‚Äî –∫–∞–∫–∏–µ –ø–æ–ª—è –≤–∫–ª—é—á–∏—Ç—å

---

## –°—Ä–∞–≤–Ω–∏—Ç–µ–ª—å–Ω–∞—è —Ç–∞–±–ª–∏—Ü–∞ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–π

| –ó–∞–¥–∞—á–∞ | Query –ø–∞—Ä–∞–º–µ—Ç—Ä | –ü—Ä–∏–º–µ—Ä |
|--------|----------------|--------|
| –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è | \`?field=value\` | \`?status=active\` |
| –ü–æ–∏—Å–∫ | \`?q=...\` –∏–ª–∏ \`?search=...\` | \`?q=laptop\` |
| –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ | \`?sort=...\` | \`?sort=-createdAt\` |
| –ü–∞–≥–∏–Ω–∞—Ü–∏—è (offset) | \`?limit=...&offset=...\` | \`?limit=10&offset=20\` |
| –ü–∞–≥–∏–Ω–∞—Ü–∏—è (page) | \`?page=...&perPage=...\` | \`?page=3&perPage=10\` |
| –ü–∞–≥–∏–Ω–∞—Ü–∏—è (cursor) | \`?cursor=...\` | \`?cursor=abc123\` |
| –í—ã–±–æ—Ä –ø–æ–ª–µ–π | \`?fields=...\` | \`?fields=id,name\` |
| Eager loading | \`?include=...\` –∏–ª–∏ \`?expand=...\` | \`?include=author,comments\` |
| –î–∏–∞–ø–∞–∑–æ–Ω | \`?field[gte]=...&field[lte]=...\` | \`?price[gte]=100&price[lte]=500\` |
| –í—Ä–µ–º–µ–Ω–Ω–æ–π –∏–Ω—Ç–µ—Ä–≤–∞–ª | \`?from=...&to=...\` | \`?from=2024-01-01&to=2024-01-31\` |

---

## –†–µ—à–µ–Ω–∏–µ —Ç–∏–ø–∏—á–Ω—ã—Ö –∑–∞–¥–∞—á

### –ó–∞–¥–∞—á–∞ 1: –ü–µ—Ä–µ–¥–∞—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏

**–û—Ç–≤–µ—Ç**:
\`\`\`http
GET /users?sort=name
\`\`\`

### –ó–∞–¥–∞—á–∞ 2: –ù–µ—Å–∫–æ–ª—å–∫–æ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤

**–û—Ç–≤–µ—Ç**:
\`\`\`http
GET /users?sort=name&order=asc&limit=10
\`\`\`

–†–∞–∑–¥–µ–ª–∏—Ç–µ–ª—å ‚Äî \`&\` (–∞–º–ø–µ—Ä—Å–∞–Ω–¥).

### –ó–∞–¥–∞—á–∞ 3: –û–≥—Ä–∞–Ω–∏—á–∏—Ç—å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤

**–û—Ç–≤–µ—Ç**:
\`\`\`http
GET /users?limit=20
\`\`\`

### –ó–∞–¥–∞—á–∞ 4: –°–∏–º–≤–æ–ª –Ω–∞—á–∞–ª–∞ query –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤

**–û—Ç–≤–µ—Ç**: \`?\` (–∑–Ω–∞–∫ –≤–æ–ø—Ä–æ—Å–∞)

### –ó–∞–¥–∞—á–∞ 5: –ü—Ä–æ–ø—É—Å—Ç–∏—Ç—å N —ç–ª–µ–º–µ–Ω—Ç–æ–≤ (–ø–∞–≥–∏–Ω–∞—Ü–∏—è)

**–û—Ç–≤–µ—Ç**:
\`\`\`http
GET /users?offset=20
\`\`\`

### –ó–∞–¥–∞—á–∞ 6: –ü–µ—Ä–µ–¥–∞—Ç—å –±—É–ª–µ–≤–æ –∑–Ω–∞—á–µ–Ω–∏–µ

**–û—Ç–≤–µ—Ç**: –í—Å–µ –≤–∞—Ä–∏–∞–Ω—Ç—ã –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è:
\`\`\`http
?param=true
?param=1
?param
\`\`\`

### –ó–∞–¥–∞—á–∞ 7: –¢–æ–∫–µ–Ω –≤ query –∏–ª–∏ –∑–∞–≥–æ–ª–æ–≤–∫–µ?

**–û—Ç–≤–µ—Ç**: **–ó–∞–≥–æ–ª–æ–≤–æ–∫** (–±–µ–∑–æ–ø–∞—Å–Ω–µ–µ)!

### –ó–∞–¥–∞—á–∞ 8: –ü–µ—Ä–µ–¥–∞—Ç—å null

**–û—Ç–≤–µ—Ç**: –ó–∞–≤–∏—Å–∏—Ç –æ—Ç API. –í–∞—Ä–∏–∞–Ω—Ç—ã:
\`\`\`http
?param=null
?param=
[–Ω–µ –ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å]
\`\`\`

### –ó–∞–¥–∞—á–∞ 9: Unicode —Å–∏–º–≤–æ–ª—ã

**–û—Ç–≤–µ—Ç**: –î–∞, —Å URL encoding (\`%D0%98%D0%B2%D0%B0%D0%BD\`)

### –ó–∞–¥–∞—á–∞ 10: –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –ø–æ –Ω–µ—Å–∫–æ–ª—å–∫–∏–º –ø–æ–ª—è–º

**–û—Ç–≤–µ—Ç**: –í—Å–µ –≤–∞—Ä–∏–∞–Ω—Ç—ã –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è:
\`\`\`http
?sort=name,age
?sort=name&sort=age
?sort[]=name&sort[]=age
\`\`\`

---

## Best Practices ‚Äî –õ—É—á—à–∏–µ –ø—Ä–∞–∫—Ç–∏–∫–∏

### 1. –í—Å–µ–≥–¥–∞ –≤–∞–ª–∏–¥–∏—Ä—É–π—Ç–µ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ

‚úÖ **–ü—Ä–∞–≤–∏–ª—å–Ω–æ**:
\`\`\`javascript
const limit = parseInt(req.query.limit) || 10;
if (limit < 1 || limit > 100) {
  return res.status(400).json({ error: 'Invalid limit' });
}
\`\`\`

### 2. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –¥–µ—Ñ–æ–ª—Ç–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è

‚úÖ **–ü—Ä–∞–≤–∏–ª—å–Ω–æ**:
\`\`\`javascript
const limit = req.query.limit || 20;
const offset = req.query.offset || 0;
const sort = req.query.sort || 'createdAt';
\`\`\`

### 3. –î–æ–∫—É–º–µ–Ω—Ç–∏—Ä—É–π—Ç–µ –≤—Å–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã

‚úÖ **–ü—Ä–∏–º–µ—Ä –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏**:
\`\`\`markdown
GET /users

Query –ø–∞—Ä–∞–º–µ—Ç—Ä—ã:
- limit (integer, 1-100): –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤. Default: 20
- offset (integer): –ü—Ä–æ–ø—É—Å—Ç–∏—Ç—å N –∑–∞–ø–∏—Å–µ–π. Default: 0
- sort (string): –ü–æ–ª–µ —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏ (name, createdAt, email). Default: createdAt
- order (string): asc –∏–ª–∏ desc. Default: desc
\`\`\`

### 4. –ù–µ –ø–µ—Ä–µ–¥–∞–≤–∞–π—Ç–µ —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –≤ query

‚ùå **–ü–ª–æ—Ö–æ**:
\`\`\`http
GET /api/data?apiKey=secret123&password=pass
\`\`\`

‚úÖ **–•–æ—Ä–æ—à–æ**:
\`\`\`http
GET /api/data
Authorization: Bearer secret123
\`\`\`

### 5. –î–ª—è —Å–ª–æ–∂–Ω—ã—Ö —Ñ–∏–ª—å—Ç—Ä–æ–≤ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ POST

‚úÖ **–ü—Ä–∞–≤–∏–ª—å–Ω–æ**:
\`\`\`http
POST /users/search
{
  "filters": {...},
  "sort": [...],
  "pagination": {...}
}
\`\`\`

### 6. –í–æ–∑–≤—Ä–∞—â–∞–π—Ç–µ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ –ø–∞–≥–∏–Ω–∞—Ü–∏–∏

‚úÖ **–ü—Ä–∞–≤–∏–ª—å–Ω–æ**:
\`\`\`json
{
  "data": [...],
  "meta": {
    "total": 150,
    "limit": 20,
    "offset": 40,
    "page": 3,
    "pages": 8
  }
}
\`\`\`

### 7. –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–π—Ç–µ sparse fieldsets –¥–ª—è –±–æ–ª—å—à–∏—Ö —Ä–µ—Å—É—Ä—Å–æ–≤

‚úÖ **–ü—Ä–∞–≤–∏–ª—å–Ω–æ**:
\`\`\`http
GET /users?fields=id,name,email
\`\`\`

–≠–∫–æ–Ω–æ–º–∏—Ç —Ç—Ä–∞—Ñ–∏–∫ –∏ —É—Å–∫–æ—Ä—è–µ—Ç –æ—Ç–≤–µ—Ç.

### 8. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ cursor-based –ø–∞–≥–∏–Ω–∞—Ü–∏—é –¥–ª—è –±–æ–ª—å—à–∏—Ö –¥–∞—Ç–∞—Å–µ—Ç–æ–≤

‚úÖ **–ü—Ä–∞–≤–∏–ª—å–Ω–æ**:
\`\`\`http
GET /posts?limit=20&cursor=eyJpZCI6MTAwfQ
\`\`\`

---

## –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

**Query –ø–∞—Ä–∞–º–µ—Ç—Ä—ã** ‚Äî —ç—Ç–æ –º–æ—â–Ω—ã–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –≥–∏–±–∫–æ–≥–æ –∏ —É–¥–æ–±–Ω–æ–≥–æ API. –û–Ω–∏ –ø–æ–∑–≤–æ–ª—è—é—Ç:

- ‚úÖ **–§–∏–ª—å—Ç—Ä–æ–≤–∞—Ç—å** –¥–∞–Ω–Ω—ã–µ –ø–æ –ª—é–±—ã–º –∫—Ä–∏—Ç–µ—Ä–∏—è–º
- ‚úÖ **–°–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å** —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã
- ‚úÖ **–†–∞–∑–±–∏–≤–∞—Ç—å –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—ã** –±–æ–ª—å—à–∏–µ —Å–ø–∏—Å–∫–∏
- ‚úÖ **–û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å** –∑–∞–ø—Ä–æ—Å—ã (sparse fieldsets, eager loading)
- ‚úÖ **–ù–∞—Å—Ç—Ä–∞–∏–≤–∞—Ç—å** –ø–æ–≤–µ–¥–µ–Ω–∏–µ API –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏—è URL —Ä–µ—Å—É—Ä—Å–∞

**–ó–∞–ø–æ–º–Ω–∏—Ç–µ –≥–ª–∞–≤–Ω–æ–µ**:

1. –ù–∞—á–∏–Ω–∞—é—Ç—Å—è —Å **?**, —Ä–∞–∑–¥–µ–ª—è—é—Ç—Å—è **&**
2. **–í–∞–ª–∏–¥–∏—Ä—É–π—Ç–µ** –≤—Å–µ–≥–¥–∞ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ
3. **–ù–µ –ø–µ—Ä–µ–¥–∞–≤–∞–π—Ç–µ —Ç–æ–∫–µ–Ω—ã** –≤ query (–∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∑–∞–≥–æ–ª–æ–≤–∫–∏)
4. **Limit + offset** –¥–ª—è –ø—Ä–æ—Å—Ç–æ–π –ø–∞–≥–∏–Ω–∞—Ü–∏–∏
5. **Cursor-based** –¥–ª—è –±–æ–ª—å—à–∏—Ö –¥–∞—Ç–∞—Å–µ—Ç–æ–≤
6. **Sparse fieldsets** –¥–ª—è —ç–∫–æ–Ω–æ–º–∏–∏ —Ç—Ä–∞—Ñ–∏–∫–∞
7. **POST /search** –¥–ª—è —Å–ª–æ–∂–Ω—ã—Ö —Ñ–∏–ª—å—Ç—Ä–æ–≤
8. **–î–æ–∫—É–º–µ–Ω—Ç–∏—Ä—É–π—Ç–µ** –≤—Å–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã
9. **URL encoding** –¥–ª—è —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã—Ö —Å–∏–º–≤–æ–ª–æ–≤
10. **–ü–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å** ‚Äî –≤—ã–±–µ—Ä–∏—Ç–µ —Å—Ç–∏–ª—å –∏ —Å–ª–µ–¥—É–π—Ç–µ –µ–º—É

–ü—Ä–∞–≤–∏–ª—å–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ query –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –¥–µ–ª–∞–µ—Ç –≤–∞—à API **–≥–∏–±–∫–∏–º**, **–ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω—ã–º** –∏ **—É–¥–æ–±–Ω—ã–º** –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤!
`;

async function createLecture() {
  try {
    console.log('üéì –°–æ–∑–¥–∞–Ω–∏–µ –ª–µ–∫—Ü–∏–∏ –ø–æ Query parameters...\n');

    const test = await prisma.test.findFirst({
      where: {
        title: 'Query parameters',
      },
      include: {
        questions: {
          include: {
            question: true,
          },
          orderBy: {
            order: 'asc',
          },
        },
      },
    });

    if (!test) {
      console.error('‚ùå –¢–µ—Å—Ç "Query parameters" –Ω–µ –Ω–∞–π–¥–µ–Ω!');
      return;
    }

    console.log(`‚úÖ –ù–∞–π–¥–µ–Ω —Ç–µ—Å—Ç: ${test.title}`);
    console.log(`üìä –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –≤–æ–ø—Ä–æ—Å–æ–≤: ${test.questions.length}\n`);

    console.log('üìù –°–æ–∑–¥–∞–Ω–∏–µ –ª–µ–∫—Ü–∏–∏...');
    const lecture = await prisma.lecture.create({
      data: {
        title: 'Query Parameters: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –∑–∞–ø—Ä–æ—Å–∞ –≤ REST API',
        topic: 'REST API',
        content: lectureContent,
      },
    });

    console.log(`‚úÖ –õ–µ–∫—Ü–∏—è —Å–æ–∑–¥–∞–Ω–∞ —Å ID: ${lecture.id}\n`);

    console.log('üîó –ü—Ä–∏–≤—è–∑–∫–∞ –ª–µ–∫—Ü–∏–∏ –∫ –≤–æ–ø—Ä–æ—Å–∞–º —Ç–µ—Å—Ç–∞...');
    const questionIds = test.questions.map((tq) => tq.questionId);

    let linkedCount = 0;
    for (const questionId of questionIds) {
      await prisma.question.update({
        where: { id: questionId },
        data: { lectureId: lecture.id },
      });
      linkedCount++;
    }

    console.log(`‚úÖ –õ–µ–∫—Ü–∏—è –ø—Ä–∏–≤—è–∑–∞–Ω–∞ –∫ ${linkedCount} –≤–æ–ø—Ä–æ—Å–∞–º\n`);

    console.log('üéâ –ì–æ—Ç–æ–≤–æ!');
    console.log(`\nüìö –õ–µ–∫—Ü–∏—è "${lecture.title}" —É—Å–ø–µ—à–Ω–æ —Å–æ–∑–¥–∞–Ω–∞ –∏ –ø—Ä–∏–≤—è–∑–∞–Ω–∞ –∫ —Ç–µ—Å—Ç—É "${test.title}"`);
  } catch (error) {
    console.error('‚ùå –û—à–∏–±–∫–∞ –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –ª–µ–∫—Ü–∏–∏:', error);
    throw error;
  } finally {
    await prisma.$disconnect();
  }
}

createLecture();
