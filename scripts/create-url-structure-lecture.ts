import { PrismaClient } from '@prisma/client';
import { PrismaPg } from '@prisma/adapter-pg';
import { Pool } from 'pg';
import dotenv from 'dotenv';

dotenv.config();

const pool = new Pool({ connectionString: process.env.DATABASE_URL });
const adapter = new PrismaPg(pool);
const prisma = new PrismaClient({ adapter });

const lectureContent = `# URL —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ REST API: –ü—Ä–∞–≤–∏–ª—å–Ω–æ–µ –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏–µ URL

## –í–≤–µ–¥–µ–Ω–∏–µ: URL –∫–∞–∫ –∞–¥—Ä–µ—Å —Ä–µ—Å—É—Ä—Å–∞

–ü—Ä–µ–¥—Å—Ç–∞–≤—å—Ç–µ, —á—Ç–æ –≤—ã –∏—â–µ—Ç–µ –∫–Ω–∏–≥—É –≤ –æ–≥—Ä–æ–º–Ω–æ–π –±–∏–±–ª–∏–æ—Ç–µ–∫–µ. –ß—Ç–æ–±—ã –µ—ë –Ω–∞–π—Ç–∏, –≤–∞–º –Ω—É–∂–µ–Ω —á—ë—Ç–∫–∏–π –∞–¥—Ä–µ—Å:
- **–≠—Ç–∞–∂** (–∑–¥–∞–Ω–∏–µ ‚Üí —ç—Ç–∞–∂)
- **–°–µ–∫—Ü–∏—è** (—Ö—É–¥–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω–∞—è –ª–∏—Ç–µ—Ä–∞—Ç—É—Ä–∞)
- **–ü–æ–ª–∫–∞** (–∞–≤—Ç–æ—Ä—ã –Ω–∞ –±—É–∫–≤—É "–¢")
- **–ö–æ–Ω–∫—Ä–µ—Ç–Ω–∞—è –∫–Ω–∏–≥–∞** (–¢–æ–ª—Å—Ç–æ–π, "–í–æ–π–Ω–∞ –∏ –º–∏—Ä")

**URL –≤ REST API** ‚Äî —ç—Ç–æ —Ç–æ—á–Ω–æ —Ç–∞–∫–æ–π –∂–µ –∞–¥—Ä–µ—Å –¥–ª—è —Ä–µ—Å—É—Ä—Å–æ–≤ –≤ –≤–∞—à–µ–π —Å–∏—Å—Ç–µ–º–µ:

\`\`\`
https://api.example.com/v1/users/123/posts/456/comments/789
         |            |    |    |     |    |       |
      –¥–æ–º–µ–Ω        –≤–µ—Ä—Å–∏—è  |   ID     |   ID      ID
                        –∫–æ–ª–ª–µ–∫—Ü–∏—è  –∫–æ–ª–ª–µ–∫—Ü–∏—è  –∫–æ–ª–ª–µ–∫—Ü–∏—è
\`\`\`

> URL –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å **–∏–Ω—Ç—É–∏—Ç–∏–≤–Ω–æ –ø–æ–Ω—è—Ç–Ω—ã–º**, **–ø—Ä–µ–¥—Å–∫–∞–∑—É–µ–º—ã–º** –∏ **—Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–Ω—ã–º** –≤–æ –≤—Å—ë–º API.

---

## –û—Å–Ω–æ–≤–Ω—ã–µ –ø—Ä–∏–Ω—Ü–∏–ø—ã –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏—è REST URL

### –ü—Ä–∏–Ω—Ü–∏–ø 1: –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å—É—â–µ—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã–µ, –∞ –Ω–µ –≥–ª–∞–≥–æ–ª—ã

REST —Å—Ç—Ä–æ–∏—Ç—Å—è –≤–æ–∫—Ä—É–≥ **—Ä–µ—Å—É—Ä—Å–æ–≤** (—Å—É—â–µ—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã—Ö), –∞ –¥–µ–π—Å—Ç–≤–∏—è –æ–ø—Ä–µ–¥–µ–ª—è—é—Ç—Å—è **HTTP –º–µ—Ç–æ–¥–∞–º–∏**.

‚ùå **–ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ** (–≥–ª–∞–≥–æ–ª—ã –≤ URL):
\`\`\`
GET  /getUsers
POST /createUser
PUT  /updateUser/123
DELETE /deleteUser/123
\`\`\`

‚úÖ **–ü—Ä–∞–≤–∏–ª—å–Ω–æ** (—Å—É—â–µ—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã–µ + HTTP –º–µ—Ç–æ–¥—ã):
\`\`\`
GET    /users          # –ü–æ–ª—É—á–∏—Ç—å —Å–ø–∏—Å–æ–∫
POST   /users          # –°–æ–∑–¥–∞—Ç—å –Ω–æ–≤–æ–≥–æ
PUT    /users/123      # –û–±–Ω–æ–≤–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
DELETE /users/123      # –£–¥–∞–ª–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
\`\`\`

> üí° **URL –Ω–∞–∑—ã–≤–∞–µ—Ç —Ä–µ—Å—É—Ä—Å, HTTP –º–µ—Ç–æ–¥ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç –¥–µ–π—Å—Ç–≤–∏–µ!**

### –ü—Ä–∏–Ω—Ü–∏–ø 2: –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω–æ–µ —á–∏—Å–ª–æ –¥–ª—è –∫–æ–ª–ª–µ–∫—Ü–∏–π

–ö–æ–ª–ª–µ–∫—Ü–∏–∏ —Ä–µ—Å—É—Ä—Å–æ–≤ **–≤—Å–µ–≥–¥–∞ –≤–æ –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω–æ–º —á–∏—Å–ª–µ**.

‚ùå **–ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ**:
\`\`\`
GET /user           # –ß—Ç–æ —ç—Ç–æ? –û–¥–∏–Ω –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å? –í—Å–µ?
GET /user/123       # –ù–µ–ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ
\`\`\`

‚úÖ **–ü—Ä–∞–≤–∏–ª—å–Ω–æ**:
\`\`\`
GET /users          # –°–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
GET /users/123      # –ö–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å ID 123
\`\`\`

**–ò—Å–∫–ª—é—á–µ–Ω–∏–µ**: –£–Ω–∏–∫–∞–ª—å–Ω—ã–µ —Å—É—â–Ω–æ—Å—Ç–∏ (—Å–º. –Ω–∏–∂–µ).

### –ü—Ä–∏–Ω—Ü–∏–ø 3: –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ kebab-case –¥–ª—è —Å–æ—Å—Ç–∞–≤–Ω—ã—Ö —Å–ª–æ–≤

–î–ª—è –º–Ω–æ–≥–æ—Å–ª–æ–≤–Ω—ã—Ö –Ω–∞–∑–≤–∞–Ω–∏–π –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –¥–µ—Ñ–∏—Å (kebab-case).

‚ùå **–ò–∑–±–µ–≥–∞–π—Ç–µ**:
\`\`\`
/userProfiles      # camelCase - —Å–ª–æ–∂–Ω–æ —á–∏—Ç–∞—Ç—å
/user_profiles     # snake_case - –Ω–µ RESTful
/UserProfiles      # PascalCase - –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ URL
\`\`\`

‚úÖ **–ü—Ä–∞–≤–∏–ª—å–Ω–æ**:
\`\`\`
/user-profiles
/order-items
/payment-methods
\`\`\`

### –ü—Ä–∏–Ω—Ü–∏–ø 4: –ù–µ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ HTTP –º–µ—Ç–æ–¥—ã –≤ URL

URL –Ω–µ –¥–æ–ª–∂–µ–Ω —Å–æ–¥–µ—Ä–∂–∞—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –¥–µ–π—Å—Ç–≤–∏–∏ ‚Äî —ç—Ç–æ –∑–∞–¥–∞—á–∞ HTTP –º–µ—Ç–æ–¥–∞.

‚ùå **Anti-pattern**:
\`\`\`
POST /users/create
GET  /users/getAll
PUT  /users/update/123
\`\`\`

‚úÖ **–ü—Ä–∞–≤–∏–ª—å–Ω–æ**:
\`\`\`
POST   /users
GET    /users
PUT    /users/123
\`\`\`

---

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ URL: –ö–æ–ª–ª–µ–∫—Ü–∏–∏ –∏ –æ—Ç–¥–µ–ª—å–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã

### –°–ø–∏—Å–æ–∫ –≤—Å–µ—Ö —Ä–µ—Å—É—Ä—Å–æ–≤ (–∫–æ–ª–ª–µ–∫—Ü–∏—è)

**–§–æ—Ä–º–∞—Ç**: \`/–∫–æ–ª–ª–µ–∫—Ü–∏—è\`

\`\`\`http
GET /users
\`\`\`

**–û—Ç–≤–µ—Ç**:
\`\`\`json
[
  { "id": 1, "name": "–ò–≤–∞–Ω" },
  { "id": 2, "name": "–ú–∞—Ä–∏—è" },
  { "id": 3, "name": "–ê–ª–µ–∫—Å–µ–π" }
]
\`\`\`

### –û–¥–∏–Ω –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π —Ä–µ—Å—É—Ä—Å

**–§–æ—Ä–º–∞—Ç**: \`/–∫–æ–ª–ª–µ–∫—Ü–∏—è/{id}\`

\`\`\`http
GET /users/5
\`\`\`

**–û—Ç–≤–µ—Ç**:
\`\`\`json
{
  "id": 5,
  "name": "–ü—ë—Ç—Ä –ò–≤–∞–Ω–æ–≤",
  "email": "petr@example.com"
}
\`\`\`

### CRUD –æ–ø–µ—Ä–∞—Ü–∏–∏ –¥–ª—è —Ä–µ—Å—É—Ä—Å–∞

| –î–µ–π—Å—Ç–≤–∏–µ | HTTP –º–µ—Ç–æ–¥ | URL | –û–ø–∏—Å–∞–Ω–∏–µ |
|----------|-----------|-----|----------|
| **–°–ø–∏—Å–æ–∫** | GET | \`/users\` | –í—Å–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ |
| **–û–¥–∏–Ω** | GET | \`/users/123\` | –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å ID 123 |
| **–°–æ–∑–¥–∞—Ç—å** | POST | \`/users\` | –°–æ–∑–¥–∞—Ç—å –Ω–æ–≤–æ–≥–æ |
| **–û–±–Ω–æ–≤–∏—Ç—å** | PUT/PATCH | \`/users/123\` | –û–±–Ω–æ–≤–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è 123 |
| **–£–¥–∞–ª–∏—Ç—å** | DELETE | \`/users/123\` | –£–¥–∞–ª–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è 123 |

---

## –í–ª–æ–∂–µ–Ω–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã (Nested Resources)

### –ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤–ª–æ–∂–µ–Ω–Ω–æ—Å—Ç—å?

–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –≤–ª–æ–∂–µ–Ω–Ω—ã–µ URL –∫–æ–≥–¥–∞ —Ä–µ—Å—É—Ä—Å **—Å—É—â–µ—Å—Ç–≤—É–µ—Ç —Ç–æ–ª—å–∫–æ –≤ –∫–æ–Ω—Ç–µ–∫—Å—Ç–µ —Ä–æ–¥–∏—Ç–µ–ª—è**.

### –§–æ—Ä–º–∞—Ç: \`/—Ä–æ–¥–∏—Ç–µ–ª—å/{id}/–¥–æ—á–µ—Ä–Ω–∏–π-—Ä–µ—Å—É—Ä—Å\`

**–ü—Ä–∏–º–µ—Ä**: –ü–æ—Å—Ç—ã –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

\`\`\`http
GET /users/5/posts
\`\`\`

> "–î–∞–π –º–Ω–µ –≤—Å–µ –ø–æ—Å—Ç—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —Å ID 5"

**–û—Ç–≤–µ—Ç**:
\`\`\`json
[
  { "id": 101, "title": "–ú–æ–π –ø–µ—Ä–≤—ã–π –ø–æ—Å—Ç", "userId": 5 },
  { "id": 102, "title": "–í—Ç–æ—Ä–æ–π –ø–æ—Å—Ç", "userId": 5 }
]
\`\`\`

### –ì–ª—É–±–æ–∫–∞—è –≤–ª–æ–∂–µ–Ω–Ω–æ—Å—Ç—å

**–ü—Ä–∏–º–µ—Ä**: –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –∫ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–º—É –ø–æ—Å—Ç—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

\`\`\`http
GET /users/5/posts/101/comments
\`\`\`

> "–î–∞–π –º–Ω–µ –≤—Å–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –∫ –ø–æ—Å—Ç—É 101 –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è 5"

### –í–ª–æ–∂–µ–Ω–Ω–æ—Å—Ç—å vs Query –ø–∞—Ä–∞–º–µ—Ç—Ä—ã

**–û–±–∞ –≤–∞—Ä–∏–∞–Ω—Ç–∞ –≤–∞–ª–∏–¥–Ω—ã**, –Ω–æ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –≤ —Ä–∞–∑–Ω—ã—Ö —Å–ª—É—á–∞—è—Ö:

**–í–∞—Ä–∏–∞–Ω—Ç 1: –í–ª–æ–∂–µ–Ω–Ω–æ—Å—Ç—å** (—Ä–µ—Å—É—Ä—Å –∑–∞–≤–∏—Å–∏—Ç –æ—Ç —Ä–æ–¥–∏—Ç–µ–ª—è)
\`\`\`http
GET /posts/101/comments
\`\`\`

**–í–∞—Ä–∏–∞–Ω—Ç 2: Query –ø–∞—Ä–∞–º–µ—Ç—Ä—ã** (—Ä–µ—Å—É—Ä—Å –Ω–µ–∑–∞–≤–∏—Å–∏–º, –Ω–æ —Ñ–∏–ª—å—Ç—Ä—É–µ—Ç—Å—è)
\`\`\`http
GET /comments?postId=101
\`\`\`

**–ö–æ–≥–¥–∞ —á—Ç–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å**:

| –°–∏—Ç—É–∞—Ü–∏—è | –í—ã–±–æ—Ä | –ü—Ä–∏–º–µ—Ä |
|----------|-------|--------|
| –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ **–ø—Ä–∏–Ω–∞–¥–ª–µ–∂–∞—Ç** –ø–æ—Å—Ç—É | –í–ª–æ–∂–µ–Ω–Ω–æ—Å—Ç—å | \`/posts/1/comments\` |
| –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ **—Ñ–∏–ª—å—Ç—Ä—É—é—Ç—Å—è** –ø–æ –ø–æ—Å—Ç—É | Query | \`/comments?postId=1\` |
| –ó–∞–∫–∞–∑—ã **–ø—Ä–∏–Ω–∞–¥–ª–µ–∂–∞—Ç** –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é | –í–ª–æ–∂–µ–Ω–Ω–æ—Å—Ç—å | \`/users/5/orders\` |
| –ó–∞–∫–∞–∑—ã **–∑–∞ –ø–µ—Ä–∏–æ–¥** | Query | \`/orders?from=2024-01-01&to=2024-01-31\` |

> üí° **–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è**: –û–±–∞ –≤–∞—Ä–∏–∞–Ω—Ç–∞ –≤–∞–ª–∏–¥–Ω—ã! –í—ã–±–∏—Ä–∞–π—Ç–µ —Ç–æ—Ç, —á—Ç–æ –ª—É—á—à–µ –æ—Ç—Ä–∞–∂–∞–µ—Ç —Å–µ–º–∞–Ω—Ç–∏–∫—É –≤–∞—à–µ–≥–æ API.

### –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –≥–ª—É–±–∏–Ω—ã –≤–ª–æ–∂–µ–Ω–Ω–æ—Å—Ç–∏

‚ö†Ô∏è **–ò–∑–±–µ–≥–∞–π—Ç–µ —Å–ª–∏—à–∫–æ–º –≥–ª—É–±–æ–∫–æ–π –≤–ª–æ–∂–µ–Ω–Ω–æ—Å—Ç–∏** (–±–æ–ª–µ–µ 2-3 —É—Ä–æ–≤–Ω–µ–π):

‚ùå **–°–ª–∏—à–∫–æ–º –≥–ª—É–±–æ–∫–æ**:
\`\`\`
GET /companies/1/departments/5/teams/10/users/25/tasks/100/comments
\`\`\`

‚úÖ **–õ—É—á—à–µ**:
\`\`\`
GET /comments?taskId=100
GET /tasks/100/comments
\`\`\`

---

## –£–Ω–∏–∫–∞–ª—å–Ω—ã–µ —Å—É—â–Ω–æ—Å—Ç–∏ (–µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω–æ–µ —á–∏—Å–ª–æ)

### –ü—Ä–∞–≤–∏–ª–æ –∏—Å–∫–ª—é—á–µ–Ω–∏—è

–ï—Å–ª–∏ —Ä–µ—Å—É—Ä—Å **—É–Ω–∏–∫–∞–ª–µ–Ω** –∏ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –≤ –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω–æ–º —ç–∫–∑–µ–º–ø–ª—è—Ä–µ, –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω–æ–µ —á–∏—Å–ª–æ.

### –ü—Ä–∏–º–µ—Ä—ã: –¢–µ–∫—É—â–∏–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å

**–í—Å–µ –≤–∞—Ä–∏–∞–Ω—Ç—ã –¥–æ–ø—É—Å—Ç–∏–º—ã**:

\`\`\`http
GET /users/me          # "me" –∫–∞–∫ —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–π ID
GET /users/current     # "current" –∫–∞–∫ —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–π ID
GET /me                # –û—Ç–¥–µ–ª—å–Ω—ã–π endpoint –¥–ª—è —Ç–µ–∫—É—â–µ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
\`\`\`

**–í—ã–±–æ—Ä –∑–∞–≤–∏—Å–∏—Ç –æ—Ç –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã API**:

**–í–∞—Ä–∏–∞–Ω—Ç 1**: \`/users/me\` (–ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å —Å –æ—Å—Ç–∞–ª—å–Ω—ã–º–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏)
\`\`\`http
GET /users/me
GET /users/123
\`\`\`

**–í–∞—Ä–∏–∞–Ω—Ç 2**: \`/me\` (—Å–æ–∫—Ä–∞—â–µ–Ω–∏–µ –¥–ª—è —É–¥–æ–±—Å—Ç–≤–∞)
\`\`\`http
GET /me
GET /me/profile
GET /me/settings
\`\`\`

### –ü—Ä–∏–º–µ—Ä: –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

\`\`\`http
GET /settings          # –ì–ª–æ–±–∞–ª—å–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ (–µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω–æ–µ —á–∏—Å–ª–æ)
GET /users/5/settings  # –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
\`\`\`

---

## –í–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ API –≤ URL

### –†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –≤–∫–ª—é—á–∞—Ç—å –≤–µ—Ä—Å–∏—é

‚úÖ **–•–æ—Ä–æ—à–æ**:
\`\`\`
https://api.example.com/v1/users
https://api.example.com/v2/users
\`\`\`

### –í–∞—Ä–∏–∞–Ω—Ç—ã —Ä–∞–∑–º–µ—â–µ–Ω–∏—è –≤–µ—Ä—Å–∏–∏

**1. –í –ø—É—Ç–∏ URL** (—Å–∞–º—ã–π –ø–æ–ø—É–ª—è—Ä–Ω—ã–π):
\`\`\`
/v1/users
/v2/users
\`\`\`

**2. –í –ø–æ–¥–¥–æ–º–µ–Ω–µ**:
\`\`\`
https://v1.api.example.com/users
https://v2.api.example.com/users
\`\`\`

**3. –í –∑–∞–≥–æ–ª–æ–≤–∫–µ** (RESTful purism):
\`\`\`http
GET /users
Accept: application/vnd.example.v2+json
\`\`\`

> üí° **–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è**: –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ \`/v1/\`, \`/v2/\` ‚Äî —ç—Ç–æ —Å–∞–º—ã–π –ø–æ–Ω—è—Ç–Ω—ã–π –∏ —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω—ë–Ω–Ω—ã–π –ø–æ–¥—Ö–æ–¥.

### –ó–∞—á–µ–º –≤–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ?

- ‚úÖ –û–±—Ä–∞—Ç–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è—Ö API
- ‚úÖ –ü–ª–∞–≤–Ω–∞—è –º–∏–≥—Ä–∞—Ü–∏—è –∫–ª–∏–µ–Ω—Ç–æ–≤ –Ω–∞ –Ω–æ–≤—É—é –≤–µ—Ä—Å–∏—é
- ‚úÖ –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ –≤–µ—Ä—Å–∏–π –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ

---

## –°–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ —Å–ª—É—á–∞–∏ URL

### –ê–≥—Ä–µ–≥–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ / –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞

**–§–æ—Ä–º–∞—Ç**: \`/—Ä–µ—Å—É—Ä—Å/—Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞\`

\`\`\`http
GET /users/statistics
\`\`\`

**–û—Ç–≤–µ—Ç**:
\`\`\`json
{
  "total": 1500,
  "active": 1200,
  "inactive": 300,
  "averageAge": 32.5
}
\`\`\`

**–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞**:
\`\`\`http
GET /statistics/users
\`\`\`

> –û–±–∞ –≤–∞—Ä–∏–∞–Ω—Ç–∞ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è, –≤—ã–±–∏—Ä–∞–π—Ç–µ —á—Ç–æ –ª–æ–≥–∏—á–Ω–µ–µ –¥–ª—è –≤–∞—à–µ–≥–æ API.

### –ú–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ —Ä–µ—Å—É—Ä—Å–∞

**–§–æ—Ä–º–∞—Ç**: \`/—Ä–µ—Å—É—Ä—Å/{id}/metadata\`

\`\`\`http
GET /users/123/metadata
\`\`\`

**–û—Ç–≤–µ—Ç**:
\`\`\`json
{
  "createdAt": "2024-01-01T10:00:00Z",
  "updatedAt": "2024-01-15T14:30:00Z",
  "version": 5,
  "size": "2.5 KB"
}
\`\`\`

### RPC-style –æ–ø–µ—Ä–∞—Ü–∏–∏ (–Ω–µ-CRUD –¥–µ–π—Å—Ç–≤–∏—è)

–î–ª—è –¥–µ–π—Å—Ç–≤–∏–π, –∫–æ—Ç–æ—Ä—ã–µ **–Ω–µ —É–∫–ª–∞–¥—ã–≤–∞—é—Ç—Å—è –≤ CRUD**, –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –≥–ª–∞–≥–æ–ª –≤ –∫–æ–Ω—Ü–µ URL.

**–§–æ—Ä–º–∞—Ç**: \`/—Ä–µ—Å—É—Ä—Å/{id}/–¥–µ–π—Å—Ç–≤–∏–µ\`

**–ü—Ä–∏–º–µ—Ä—ã**:

\`\`\`http
POST /users/123/activate        # –ê–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
POST /users/123/deactivate      # –î–µ–∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å
POST /orders/456/cancel         # –û—Ç–º–µ–Ω–∏—Ç—å –∑–∞–∫–∞–∑
POST /invoices/789/send         # –û—Ç–ø—Ä–∞–≤–∏—Ç—å —Å—á—ë—Ç
POST /articles/100/publish      # –û–ø—É–±–ª–∏–∫–æ–≤–∞—Ç—å —Å—Ç–∞—Ç—å—é
\`\`\`

> ‚ö†Ô∏è **–í–∞–∂–Ω–æ**: –≠—Ç–æ –æ—Ç—Ö–æ–¥ –æ—Ç —á–∏—Å—Ç–æ–≥–æ REST, –Ω–æ –∏–Ω–æ–≥–¥–∞ **–Ω–µ–æ–±—Ö–æ–¥–∏–º** –¥–ª—è —Å–ª–æ–∂–Ω—ã—Ö –±–∏–∑–Ω–µ—Å-–æ–ø–µ—Ä–∞—Ü–∏–π.

### –≠–∫—Å–ø–æ—Ä—Ç –¥–∞–Ω–Ω—ã—Ö

**–§–æ—Ä–º–∞—Ç**: \`/—Ä–µ—Å—É—Ä—Å/export\`

\`\`\`http
GET /users/export?format=csv
GET /orders/export?format=xlsx
\`\`\`

**–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞** (–±–æ–ª–µ–µ RESTful):
\`\`\`http
GET /users
Accept: text/csv
\`\`\`

### –ù–∞—Å—Ç—Ä–æ–π–∫–∏ / –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

**–§–æ—Ä–º–∞—Ç**: \`/—Ä–µ—Å—É—Ä—Å/{id}/settings\` –∏–ª–∏ \`/—Ä–µ—Å—É—Ä—Å/{id}/preferences\`

\`\`\`http
GET    /users/123/settings
PATCH  /users/123/settings
\`\`\`

**–û–±–∞ –≤–∞—Ä–∏–∞–Ω—Ç–∞ –¥–æ–ø—É—Å—Ç–∏–º—ã**:
- \`/users/123/settings\`
- \`/users/123/preferences\`

–í—ã–±–∏—Ä–∞–π—Ç–µ –æ–¥–∏–Ω –∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ **–ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ** –≤–æ –≤—Å—ë–º API.

---

## –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –∞—Å–ø–µ–∫—Ç—ã URL

### –§–∞–π–ª–æ–≤—ã–µ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è –≤ URL

‚ùå **–ù–µ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ**:
\`\`\`
/users.json
/users.xml
/users/123.json
\`\`\`

‚úÖ **–ü—Ä–∞–≤–∏–ª—å–Ω–æ** (–∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∑–∞–≥–æ–ª–æ–≤–∫–∏):
\`\`\`http
GET /users/123
Accept: application/json
\`\`\`

**–ò—Å–∫–ª—é—á–µ–Ω–∏–µ**: Legacy API –∏–ª–∏ —É–ø—Ä–æ—â–µ–Ω–∏–µ –¥–ª—è –≤–Ω–µ—à–Ω–∏—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π.

### –§–æ—Ä–º–∞—Ç –æ—Ç–≤–µ—Ç–∞ –≤ URL

‚ùå **–ù–µ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è**:
\`\`\`
GET /users?format=json
GET /users?format=xml
\`\`\`

‚úÖ **–ü—Ä–∞–≤–∏–ª—å–Ω–æ** (Content Negotiation):
\`\`\`http
GET /users
Accept: application/json
\`\`\`

**–ò—Å–∫–ª—é—á–µ–Ω–∏–µ**: –≠–∫—Å–ø–æ—Ä—Ç –¥–∞–Ω–Ω—ã—Ö
\`\`\`http
GET /users/export?format=csv    # –î–æ–ø—É—Å—Ç–∏–º–æ
\`\`\`

### UUID vs —á–∏—Å–ª–æ–≤—ã–µ ID

**–û–±–∞ –≤–∞—Ä–∏–∞–Ω—Ç–∞ –¥–æ–ø—É—Å—Ç–∏–º—ã**:

\`\`\`http
GET /users/123                                    # –ß–∏—Å–ª–æ–≤–æ–π ID
GET /users/550e8400-e29b-41d4-a716-446655440000  # UUID
\`\`\`

**UUID –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞**:
- ‚úÖ –£–Ω–∏–∫–∞–ª—å–Ω—ã –≥–ª–æ–±–∞–ª—å–Ω–æ (–º–æ–∂–Ω–æ –≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –Ω–∞ –∫–ª–∏–µ–Ω—Ç–µ)
- ‚úÖ –ù–µ —Ä–∞—Å–∫—Ä—ã–≤–∞—é—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–µ —Ä–µ—Å—É—Ä—Å–æ–≤
- ‚úÖ –ë–µ–∑–æ–ø–∞—Å–Ω–µ–µ (–Ω–µ–ª—å–∑—è –ø–µ—Ä–µ–±—Ä–∞—Ç—å)

**UUID –Ω–µ–¥–æ—Å—Ç–∞—Ç–∫–∏**:
- ‚ùå –î–ª–∏–Ω–Ω—ã–µ URL
- ‚ùå –°–ª–æ–∂–Ω–µ–µ –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏

> üí° **–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è**: –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ UUID –¥–ª—è –ø—É–±–ª–∏—á–Ω—ã—Ö API –∏ —á–∏—Å–ª–æ–≤—ã–µ ID –¥–ª—è –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏—Ö.

### –ö–æ–¥–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã—Ö —Å–∏–º–≤–æ–ª–æ–≤

**–ü—Ä–æ–±–µ–ª—ã –≤ URL**:

–í **–ø—É—Ç–∏ URL**: \`%20\`
\`\`\`
/users/John%20Doe
\`\`\`

–í **query –ø–∞—Ä–∞–º–µ—Ç—Ä–∞—Ö**: \`%20\` –∏–ª–∏ \`+\` (–æ–±–∞ –¥–æ–ø—É—Å—Ç–∏–º—ã)
\`\`\`
/users?name=John%20Doe
/users?name=John+Doe
\`\`\`

**–°–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ —Å–∏–º–≤–æ–ª—ã**:
\`\`\`
@  ‚Üí  %40
&  ‚Üí  %26
#  ‚Üí  %23
/  ‚Üí  %2F
?  ‚Üí  %3F
\`\`\`

### –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –¥–ª–∏–Ω–∞ URL

**–û—Ç–≤–µ—Ç**: –ó–∞–≤–∏—Å–∏—Ç –æ—Ç —Å–µ—Ä–≤–µ—Ä–∞ –∏ –±—Ä–∞—É–∑–µ—Ä–∞!

| –ü–ª–∞—Ç—Ñ–æ—Ä–º–∞ | –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –¥–ª–∏–Ω–∞ |
|-----------|-------------------|
| Internet Explorer | 2,083 —Å–∏–º–≤–æ–ª–∞ |
| Chrome | ~8,000 —Å–∏–º–≤–æ–ª–æ–≤ |
| Firefox | >65,000 —Å–∏–º–≤–æ–ª–æ–≤ |
| Apache | 8,190 —Å–∏–º–≤–æ–ª–æ–≤ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é) |
| Nginx | 4,096 —Å–∏–º–≤–æ–ª–æ–≤ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é) |

> üí° **–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è**: –î–µ—Ä–∂–∏—Ç–µ URL **–º–µ–Ω–µ–µ 2,048 —Å–∏–º–≤–æ–ª–æ–≤** –¥–ª—è –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–π —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏.

**–ß—Ç–æ –¥–µ–ª–∞—Ç—å —Å –¥–ª–∏–Ω–Ω—ã–º–∏ –∑–∞–ø—Ä–æ—Å–∞–º–∏**?

‚ùå **–ü–ª–æ—Ö–æ** (—Å–ª–∏—à–∫–æ–º –¥–ª–∏–Ω–Ω—ã–π GET):
\`\`\`
GET /users?id=1&id=2&id=3...[1000 ID]...
\`\`\`

‚úÖ **–•–æ—Ä–æ—à–æ** (–∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ POST):
\`\`\`http
POST /users/search
Content-Type: application/json

{
  "ids": [1, 2, 3, ..., 1000]
}
\`\`\`

---

## –ü—Ä–∏–º–µ—Ä—ã –ø—Ä–∞–≤–∏–ª—å–Ω—ã—Ö URL —Å—Ç—Ä—É–∫—Ç—É—Ä

### E-commerce API

\`\`\`http
# –¢–æ–≤–∞—Ä—ã
GET    /products                    # –í—Å–µ —Ç–æ–≤–∞—Ä—ã
GET    /products/123                # –ö–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π —Ç–æ–≤–∞—Ä
POST   /products                    # –°–æ–∑–¥–∞—Ç—å —Ç–æ–≤–∞—Ä

# –ö–∞—Ç–µ–≥–æ—Ä–∏–∏
GET    /categories                  # –í—Å–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
GET    /categories/5/products       # –¢–æ–≤–∞—Ä—ã –∫–∞—Ç–µ–≥–æ—Ä–∏–∏

# –ö–æ—Ä–∑–∏–Ω–∞
GET    /users/me/cart               # –ú–æ—è –∫–æ—Ä–∑–∏–Ω–∞
POST   /users/me/cart/items         # –î–æ–±–∞–≤–∏—Ç—å –≤ –∫–æ—Ä–∑–∏–Ω—É
DELETE /users/me/cart/items/456     # –£–¥–∞–ª–∏—Ç—å –∏–∑ –∫–æ—Ä–∑–∏–Ω—ã

# –ó–∞–∫–∞–∑—ã
GET    /users/me/orders             # –ú–æ–∏ –∑–∞–∫–∞–∑—ã
GET    /orders/789                  # –ö–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π –∑–∞–∫–∞–∑
POST   /orders                      # –°–æ–∑–¥–∞—Ç—å –∑–∞–∫–∞–∑
POST   /orders/789/cancel           # –û—Ç–º–µ–Ω–∏—Ç—å –∑–∞–∫–∞–∑
\`\`\`

### –°–æ—Ü–∏–∞–ª—å–Ω–∞—è —Å–µ—Ç—å API

\`\`\`http
# –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏
GET    /users/me                    # –¢–µ–∫—É—â–∏–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å
GET    /users/123                   # –ü—Ä–æ—Ñ–∏–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
PATCH  /users/me/profile            # –û–±–Ω–æ–≤–∏—Ç—å –ø—Ä–æ—Ñ–∏–ª—å

# –ü–æ—Å—Ç—ã
GET    /users/123/posts             # –ü–æ—Å—Ç—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
GET    /posts/456                   # –ö–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π –ø–æ—Å—Ç
POST   /posts                       # –°–æ–∑–¥–∞—Ç—å –ø–æ—Å—Ç
POST   /posts/456/like              # –õ–∞–π–∫–Ω—É—Ç—å –ø–æ—Å—Ç

# –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏
GET    /posts/456/comments          # –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –∫ –ø–æ—Å—Ç—É
POST   /posts/456/comments          # –î–æ–±–∞–≤–∏—Ç—å –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π
DELETE /comments/789                # –£–¥–∞–ª–∏—Ç—å –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π

# –î—Ä—É–∑—å—è
GET    /users/me/friends            # –ú–æ–∏ –¥—Ä—É–∑—å—è
POST   /users/me/friends/123        # –î–æ–±–∞–≤–∏—Ç—å –≤ –¥—Ä—É–∑—å—è
DELETE /users/me/friends/123        # –£–¥–∞–ª–∏—Ç—å –∏–∑ –¥—Ä—É–∑–µ–π
\`\`\`

### Blog API

\`\`\`http
# –°—Ç–∞—Ç—å–∏
GET    /articles                    # –í—Å–µ —Å—Ç–∞—Ç—å–∏
GET    /articles/my-first-post      # –°—Ç–∞—Ç—å—è –ø–æ slug
POST   /articles                    # –°–æ–∑–¥–∞—Ç—å —Å—Ç–∞—Ç—å—é
POST   /articles/123/publish        # –û–ø—É–±–ª–∏–∫–æ–≤–∞—Ç—å

# –ö–∞—Ç–µ–≥–æ—Ä–∏–∏ –∏ —Ç–µ–≥–∏
GET    /categories/tech/articles    # –°—Ç–∞—Ç—å–∏ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
GET    /tags/javascript/articles    # –°—Ç–∞—Ç—å–∏ —Å —Ç–µ–≥–æ–º

# –ê–≤—Ç–æ—Ä—ã
GET    /authors                     # –í—Å–µ –∞–≤—Ç–æ—Ä—ã
GET    /authors/123/articles        # –°—Ç–∞—Ç—å–∏ –∞–≤—Ç–æ—Ä–∞
\`\`\`

---

## –°—Ä–∞–≤–Ω–∏—Ç–µ–ª—å–Ω–∞—è —Ç–∞–±–ª–∏—Ü–∞ –ø—Ä–∞–≤–∏–ª—å–Ω—ã—Ö –∏ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã—Ö URL

| ‚ùå –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ | ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–æ | –ü–æ—á–µ–º—É |
|---------------|-------------|--------|
| \`/getUsers\` | \`GET /users\` | –ì–ª–∞–≥–æ–ª ‚Üí –°—É—â–µ—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ–µ |
| \`/user/list\` | \`GET /users\` | –õ–∏—à–Ω–µ–µ /list |
| \`/users/create\` | \`POST /users\` | HTTP –º–µ—Ç–æ–¥ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç –¥–µ–π—Å—Ç–≤–∏–µ |
| \`/users?id=5\` | \`/users/5\` | ID –≤ –ø—É—Ç–∏, –Ω–µ –≤ query |
| \`/posts?userId=5\` | \`/users/5/posts\` | –í–ª–æ–∂–µ–Ω–Ω–æ—Å—Ç—å –¥–ª—è –ø—Ä–∏–Ω–∞–¥–ª–µ–∂–Ω–æ—Å—Ç–∏ |
| \`/user/5\` | \`/users/5\` | –ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω–æ–µ —á–∏—Å–ª–æ |
| \`/users.json\` | \`/users\` + \`Accept\` | –§–æ—Ä–º–∞—Ç –≤ –∑–∞–≥–æ–ª–æ–≤–∫–∞—Ö |
| \`/userProfiles\` | \`/user-profiles\` | kebab-case |
| \`/users/delete/5\` | \`DELETE /users/5\` | HTTP –º–µ—Ç–æ–¥, –Ω–µ URL |

---

## –†–µ—à–µ–Ω–∏–µ —Ç–∏–ø–∏—á–Ω—ã—Ö –∑–∞–¥–∞—á

### –ó–∞–¥–∞—á–∞ 1: –°–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

**–û—Ç–≤–µ—Ç**:
\`\`\`http
GET /users
\`\`\`

### –ó–∞–¥–∞—á–∞ 2: –û–¥–∏–Ω –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å ID 5

**–û—Ç–≤–µ—Ç**:
\`\`\`http
GET /users/5
\`\`\`

### –ó–∞–¥–∞—á–∞ 3: –ü–æ—Å—Ç—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è 5

**–û—Ç–≤–µ—Ç** (–æ–±–∞ –≤–∞—Ä–∏–∞–Ω—Ç–∞ –≤–∞–ª–∏–¥–Ω—ã):
\`\`\`http
GET /users/5/posts           # –í–∞—Ä–∏–∞–Ω—Ç 1: –≤–ª–æ–∂–µ–Ω–Ω–æ—Å—Ç—å
GET /posts?userId=5          # –í–∞—Ä–∏–∞–Ω—Ç 2: —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è
\`\`\`

### –ó–∞–¥–∞—á–∞ 4: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å—É—â–µ—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã–µ –∏–ª–∏ –≥–ª–∞–≥–æ–ª—ã?

**–û—Ç–≤–µ—Ç**: **–°—É—â–µ—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã–µ**! –ì–ª–∞–≥–æ–ª—ã ‚Äî —ç—Ç–æ anti-pattern.

### –ó–∞–¥–∞—á–∞ 5: –ï–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω–æ–µ –∏–ª–∏ –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω–æ–µ —á–∏—Å–ª–æ?

**–û—Ç–≤–µ—Ç**: **–ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω–æ–µ** –¥–ª—è –∫–æ–ª–ª–µ–∫—Ü–∏–π. –ï–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω–æ–µ —Ç–æ–ª—å–∫–æ –¥–ª—è —É–Ω–∏–∫–∞–ª—å–Ω—ã—Ö —Å—É—â–Ω–æ—Å—Ç–µ–π (me, current, settings).

### –ó–∞–¥–∞—á–∞ 6: –ù—É–∂–Ω–∞ –ª–∏ –≤–µ—Ä—Å–∏—è –≤ URL?

**–û—Ç–≤–µ—Ç**: **–†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è** –≤–∫–ª—é—á–∞—Ç—å (\`/v1/users\`).

### –ó–∞–¥–∞—á–∞ 7: –≠–∫—Å–ø–æ—Ä—Ç –¥–∞–Ω–Ω—ã—Ö –≤ CSV

**–û—Ç–≤–µ—Ç**:
\`\`\`http
GET /users/export?format=csv
\`\`\`

### –ó–∞–¥–∞—á–∞ 8: –¢–µ–∫—É—â–∏–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å

**–û—Ç–≤–µ—Ç** (–ª—é–±–æ–π –≤–∞—Ä–∏–∞–Ω—Ç):
\`\`\`http
GET /users/me
GET /users/current
GET /me
\`\`\`

### –ó–∞–¥–∞—á–∞ 9: UUID –≤ URL ‚Äî –º–æ–∂–Ω–æ –ª–∏?

**–û—Ç–≤–µ—Ç**: **–î–∞**, UUID –æ—Ç–ª–∏—á–Ω–æ –ø–æ–¥—Ö–æ–¥—è—Ç –¥–ª—è –ø—É–±–ª–∏—á–Ω—ã—Ö API (–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å, —É–Ω–∏–∫–∞–ª—å–Ω–æ—Å—Ç—å).

### –ó–∞–¥–∞—á–∞ 10: HTTP –º–µ—Ç–æ–¥ –≤ URL (\`/users/create\`)

**–û—Ç–≤–µ—Ç**: **–ù–µ—Ç, anti-pattern**! –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ \`POST /users\`.

---

## Best Practices ‚Äî –õ—É—á—à–∏–µ –ø—Ä–∞–∫—Ç–∏–∫–∏

### 1. –ü–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å (Consistency)

‚úÖ **–í–∞–∂–Ω–æ**: –í—ã–±–µ—Ä–∏—Ç–µ —Å—Ç–∏–ª—å –∏ –ø—Ä–∏–¥–µ—Ä–∂–∏–≤–∞–π—Ç–µ—Å—å –µ–≥–æ **–≤–æ –≤—Å—ë–º API**.

**–•–æ—Ä–æ—à–æ**:
\`\`\`
/users/me/posts
/users/me/comments
/users/me/settings
\`\`\`

**–ü–ª–æ—Ö–æ** (–Ω–µ–ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ):
\`\`\`
/users/me/posts
/my-comments
/settings/user
\`\`\`

### 2. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å—É—â–µ—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã–µ, HTTP –º–µ—Ç–æ–¥—ã –æ–ø—Ä–µ–¥–µ–ª—è—é—Ç –¥–µ–π—Å—Ç–≤–∏—è

‚úÖ **–ü—Ä–∞–≤–∏–ª—å–Ω–æ**:
\`\`\`
POST   /users          # –°–æ–∑–¥–∞—Ç—å
GET    /users          # –ü–æ–ª—É—á–∏—Ç—å —Å–ø–∏—Å–æ–∫
GET    /users/123      # –ü–æ–ª—É—á–∏—Ç—å –æ–¥–Ω–æ–≥–æ
PUT    /users/123      # –û–±–Ω–æ–≤–∏—Ç—å
DELETE /users/123      # –£–¥–∞–ª–∏—Ç—å
\`\`\`

### 3. –ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω–æ–µ —á–∏—Å–ª–æ –¥–ª—è –∫–æ–ª–ª–µ–∫—Ü–∏–π

‚úÖ **–ü—Ä–∞–≤–∏–ª—å–Ω–æ**:
\`\`\`
/users
/posts
/comments
\`\`\`

### 4. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –≤–ª–æ–∂–µ–Ω–Ω–æ—Å—Ç—å –¥–ª—è –æ—Ç–Ω–æ—à–µ–Ω–∏–π "–ø—Ä–∏–Ω–∞–¥–ª–µ–∂–∏—Ç –∫"

‚úÖ **–ü—Ä–∞–≤–∏–ª—å–Ω–æ**:
\`\`\`
/users/5/posts           # –ü–æ—Å—Ç—ã –ø—Ä–∏–Ω–∞–¥–ª–µ–∂–∞—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é
/posts/10/comments       # –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –ø—Ä–∏–Ω–∞–¥–ª–µ–∂–∞—Ç –ø–æ—Å—Ç—É
\`\`\`

### 5. –ò–∑–±–µ–≥–∞–π—Ç–µ –≥–ª—É–±–æ–∫–æ–π –≤–ª–æ–∂–µ–Ω–Ω–æ—Å—Ç–∏ (–º–∞–∫—Å–∏–º—É–º 2-3 —É—Ä–æ–≤–Ω—è)

‚ùå **–ü–ª–æ—Ö–æ**:
\`\`\`
/companies/1/departments/2/teams/3/users/4/tasks/5
\`\`\`

‚úÖ **–•–æ—Ä–æ—à–æ**:
\`\`\`
/tasks/5
/users/4/tasks
\`\`\`

### 6. –í–µ—Ä—Å–∏–æ–Ω–∏—Ä—É–π—Ç–µ API

‚úÖ **–ü—Ä–∞–≤–∏–ª—å–Ω–æ**:
\`\`\`
/v1/users
/v2/users
\`\`\`

### 7. –ù–µ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ñ–∞–π–ª–æ–≤—ã–µ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è

‚ùå **–ü–ª–æ—Ö–æ**:
\`\`\`
/users.json
\`\`\`

‚úÖ **–ü—Ä–∞–≤–∏–ª—å–Ω–æ**:
\`\`\`
GET /users
Accept: application/json
\`\`\`

### 8. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ kebab-case –¥–ª—è —Å–æ—Å—Ç–∞–≤–Ω—ã—Ö —Å–ª–æ–≤

‚úÖ **–ü—Ä–∞–≤–∏–ª—å–Ω–æ**:
\`\`\`
/user-profiles
/order-items
/payment-methods
\`\`\`

### 9. –î–ª—è –Ω–µ-CRUD –æ–ø–µ—Ä–∞—Ü–∏–π –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –≥–ª–∞–≥–æ–ª –≤ –∫–æ–Ω—Ü–µ

‚úÖ **–î–æ–ø—É—Å—Ç–∏–º–æ**:
\`\`\`
POST /users/123/activate
POST /orders/456/cancel
POST /invoices/789/send
\`\`\`

### 10. –î–æ–∫—É–º–µ–Ω—Ç–∏—Ä—É–π—Ç–µ –≤–∞—à–∏ URL –ø–∞—Ç—Ç–µ—Ä–Ω—ã

–°–æ–∑–¥–∞–π—Ç–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ —Å—Ç–∏–ª—é –¥–ª—è –≤–∞—à–µ–≥–æ API –∏ —Å–ª–µ–¥—É–π—Ç–µ –µ–º—É.

---

## –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

**URL —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ REST API** ‚Äî —ç—Ç–æ —Ñ—É–Ω–¥–∞–º–µ–Ω—Ç –≤–∞—à–µ–≥–æ API. –ü—Ä–∞–≤–∏–ª—å–Ω–æ –ø–æ—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ URL –¥–µ–ª–∞—é—Ç API:

- ‚úÖ **–ò–Ω—Ç—É–∏—Ç–∏–≤–Ω–æ –ø–æ–Ω—è—Ç–Ω—ã–º** ‚Äî —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∏ —Å—Ä–∞–∑—É –ø–æ–Ω–∏–º–∞—é—Ç, —á—Ç–æ –¥–µ–ª–∞–µ—Ç endpoint
- ‚úÖ **–ü—Ä–µ–¥—Å–∫–∞–∑—É–µ–º—ã–º** ‚Äî –µ—Å–ª–∏ –∑–Ω–∞–µ—à—å \`/users\`, –ª–µ–≥–∫–æ –¥–æ–≥–∞–¥–∞—Ç—å—Å—è –ø—Ä–æ \`/products\`
- ‚úÖ **–°–∞–º–æ–¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä—É–µ–º—ã–º** ‚Äî URL –≥–æ–≤–æ—Ä–∏—Ç —Å–∞–º –∑–∞ —Å–µ–±—è
- ‚úÖ **–õ–µ–≥–∫–æ –º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º—ã–º** ‚Äî —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ —É–ø—Ä–æ—â–∞–µ—Ç –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤—ã—Ö endpoint'–æ–≤

**–ó–∞–ø–æ–º–Ω–∏—Ç–µ –≥–ª–∞–≤–Ω–æ–µ**:

1. **–°—É—â–µ—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã–µ**, –∞ –Ω–µ –≥–ª–∞–≥–æ–ª—ã
2. **–ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω–æ–µ —á–∏—Å–ª–æ** –¥–ª—è –∫–æ–ª–ª–µ–∫—Ü–∏–π
3. **HTTP –º–µ—Ç–æ–¥—ã** –æ–ø—Ä–µ–¥–µ–ª—è—é—Ç –¥–µ–π—Å—Ç–≤–∏—è
4. **–í–ª–æ–∂–µ–Ω–Ω–æ—Å—Ç—å** –¥–ª—è –æ—Ç–Ω–æ—à–µ–Ω–∏–π "–ø—Ä–∏–Ω–∞–¥–ª–µ–∂–∏—Ç –∫"
5. **–í–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ** –¥–ª—è –æ–±—Ä–∞—Ç–Ω–æ–π —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏
6. **–ü–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å** –≤–æ –≤—Å—ë–º API
7. **kebab-case** –¥–ª—è —Å–æ—Å—Ç–∞–≤–Ω—ã—Ö —Å–ª–æ–≤
8. **–ù–µ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ** —Ñ–∞–π–ª–æ–≤—ã–µ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è –∏ HTTP –º–µ—Ç–æ–¥—ã –≤ URL

–°–ª–µ–¥—É—è —ç—Ç–∏–º –ø—Ä–∏–Ω—Ü–∏–ø–∞–º, –≤—ã —Å–æ–∑–¥–∞–¥–∏—Ç–µ **—á–∏—Å—Ç—ã–π**, **RESTful** –∏ **–ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–π** API!
`;

async function createLecture() {
  try {
    console.log('üéì –°–æ–∑–¥–∞–Ω–∏–µ –ª–µ–∫—Ü–∏–∏ –ø–æ URL —Å—Ç—Ä—É–∫—Ç—É—Ä–µ REST API...\n');

    const test = await prisma.test.findFirst({
      where: {
        title: 'URL —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ REST API',
      },
      include: {
        questions: {
          include: {
            question: true,
          },
          orderBy: {
            order: 'asc',
          },
        },
      },
    });

    if (!test) {
      console.error('‚ùå –¢–µ—Å—Ç "URL —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ REST API" –Ω–µ –Ω–∞–π–¥–µ–Ω!');
      return;
    }

    console.log(`‚úÖ –ù–∞–π–¥–µ–Ω —Ç–µ—Å—Ç: ${test.title}`);
    console.log(`üìä –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –≤–æ–ø—Ä–æ—Å–æ–≤: ${test.questions.length}\n`);

    console.log('üìù –°–æ–∑–¥–∞–Ω–∏–µ –ª–µ–∫—Ü–∏–∏...');
    const lecture = await prisma.lecture.create({
      data: {
        title: 'URL —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ REST API: –ü—Ä–∞–≤–∏–ª—å–Ω–æ–µ –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏–µ URL',
        topic: 'REST API',
        content: lectureContent,
      },
    });

    console.log(`‚úÖ –õ–µ–∫—Ü–∏—è —Å–æ–∑–¥–∞–Ω–∞ —Å ID: ${lecture.id}\n`);

    console.log('üîó –ü—Ä–∏–≤—è–∑–∫–∞ –ª–µ–∫—Ü–∏–∏ –∫ –≤–æ–ø—Ä–æ—Å–∞–º —Ç–µ—Å—Ç–∞...');
    const questionIds = test.questions.map((tq) => tq.questionId);

    let linkedCount = 0;
    for (const questionId of questionIds) {
      await prisma.question.update({
        where: { id: questionId },
        data: { lectureId: lecture.id },
      });
      linkedCount++;
    }

    console.log(`‚úÖ –õ–µ–∫—Ü–∏—è –ø—Ä–∏–≤—è–∑–∞–Ω–∞ –∫ ${linkedCount} –≤–æ–ø—Ä–æ—Å–∞–º\n`);

    console.log('üéâ –ì–æ—Ç–æ–≤–æ!');
    console.log(`\nüìö –õ–µ–∫—Ü–∏—è "${lecture.title}" —É—Å–ø–µ—à–Ω–æ —Å–æ–∑–¥–∞–Ω–∞ –∏ –ø—Ä–∏–≤—è–∑–∞–Ω–∞ –∫ —Ç–µ—Å—Ç—É "${test.title}"`);
  } catch (error) {
    console.error('‚ùå –û—à–∏–±–∫–∞ –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –ª–µ–∫—Ü–∏–∏:', error);
    throw error;
  } finally {
    await prisma.$disconnect();
  }
}

createLecture();
