import { PrismaClient } from '@prisma/client';
import { PrismaPg } from '@prisma/adapter-pg';
import { Pool } from 'pg';
import dotenv from 'dotenv';
import path from 'path';

const envPath = path.resolve(__dirname, '..', '.env');
dotenv.config({ path: envPath });

const pool = new Pool({ connectionString: process.env.DATABASE_URL });
const adapter = new PrismaPg(pool);
const prisma = new PrismaClient({ adapter });

const lectureContent = `# HTML: текст и семантика

## Введение: текст как дорожные знаки 🧭

Представьте город без указателей. Дороги есть, но непонятно, где музей, где больница и где выход.  
Так же и на странице: **семантика текста** объясняет смысл каждого блока.

💡 Совет: думайте о тексте как о структуре, а не только о внешнем виде.
✅ Вывод: семантика помогает людям и поиску понимать страницу одинаково.

---

## Что такое семантика текста

**Семантика** — это смысл, который вы вкладываете в разметку.  
Она говорит, что перед нами: заголовок, абзац, цитата, список или дата.

🎯 Главное: CSS меняет внешний вид, а семантика объясняет значение.

---

## Заголовки: каркас текста

Заголовки строят иерархию:
- H1 — главный заголовок страницы
- H2 — разделы
- H3 — подразделы

Небольшой пример:

~~~html
<h1>Текст и семантика</h1>
<h2>Заголовки</h2>
<h3>Порядок уровней</h3>
~~~

⚠️ Важно: уровни не перескакивают (H1 → H2 → H3).

💡 Совет: один H1 на страницу — это чёткий ориентир для читателя.
✅ Вывод: правильная иерархия делает текст читаемым и логичным.

---

## Абзацы, переносы и разделители

- **<p>** — завершённая мысль (абзац)
- **<br>** — перенос строки внутри одной мысли
- **<hr>** — смысловое разделение тем

Небольшой пример:

~~~html
<p>Это законченная мысль.</p>
<br />
<hr />
~~~

💡 Совет: новый смысл = новый абзац, а не перенос строки.
✅ Вывод: p, br и hr решают разные задачи и не заменяют друг друга.

---

## Выделение смысла

- **<strong>** — смысловое усиление важности
- **<em>** — смысловой акцент
- **<b>** и **<i>** — только визуальный стиль

Небольшой пример:

~~~html
<strong>Важно:</strong> сохраните изменения.
<em>Именно этот шаг</em> обязателен.
~~~

⚠️ Важно: если смысл важен, используйте strong или em.
✅ Вывод: семантическое выделение полезно для доступности и SEO.

---

## Списки как структура

- **<ul>** — список без порядка
- **<ol>** — список шагов
- **<dl>** — термины и определения

Небольшой пример:

~~~html
<ul><li>Пункт</li></ul>
<ol><li>Шаг 1</li></ol>
<dl><dt>Термин</dt><dd>Определение</dd></dl>
~~~

💡 Совет: списки нужны для структуры, а не для отступов.
✅ Вывод: список = смысл, а не декоративный элемент.

---

## Цитаты и источники

- **<blockquote>** — большая цитата
- **<q>** — короткая цитата внутри предложения
- **<cite>** — источник цитаты

Небольшой пример:

~~~html
<blockquote>Хорошая структура делает текст сильнее.</blockquote>
<cite>Редактор блога</cite>
~~~

💡 Совет: цитату оформляем как цитату, а не как обычный абзац.
✅ Вывод: правильные теги передают смысл и уважают автора.

---

## Технический текст

- **<code>** — фрагмент кода в тексте
- **<pre>** — блок кода с сохранением форматирования
- **<kbd>** — ввод с клавиатуры
- **<samp>** — вывод программы

Небольшой пример:

~~~html
<code>&lt;p&gt;Абзац&lt;/p&gt;</code>
<kbd>Ctrl</kbd> + <kbd>S</kbd>
~~~

💡 Совет: технический текст должен отличаться от обычного.
✅ Вывод: правильные теги делают инструкции и код понятнее.

---

## Время, сокращения и индексы

- **<time datetime="...">** — дата и время
- **<abbr title="...">** — сокращение с расшифровкой
- **<sub> / <sup>** — нижние и верхние индексы

Небольшой пример:

~~~html
<time datetime="2026-02-10">10 февраля 2026</time>
<abbr title="Application Programming Interface">API</abbr>
H<sub>2</sub>O и m<sup>2</sup>
~~~

✅ Вывод: точные теги помогают людям и машинам читать текст одинаково.

---

## Div и span — нейтральные контейнеры

**<div>** и **<span>** не несут смысла. Это просто оболочки.  
Используйте их, когда нет подходящего семантического тега.

Небольшой пример:

~~~html
<div class="card"><span>Подпись</span></div>
~~~

💡 Совет: если есть p, ul, strong или blockquote — лучше использовать их.
✅ Вывод: семантика важнее универсальных контейнеров.

---

## Footer как смысловое завершение

**<footer>** — финальная информация блока или страницы: контакты, автор, ссылки.  
Footer можно ставить как внизу страницы, так и внутри статьи.

Небольшой пример:

~~~html
<footer>Контакты и автор</footer>
~~~

✅ Вывод: footer — это не просто низ, а смысловое завершение блока.

---

## Семантика = доступность и поиск

Читатели и скринридеры опираются на заголовки, списки и абзацы.  
Поисковые системы лучше понимают структуру текста.

💡 Совет: если текст понятен скринридеру, он понятен всем.

---

## Типичные ошибки

1) Абзацы через <br> — теряется смысловая структура.
2) Списки ради отступов — список перестаёт быть списком.
3) <b> вместо <strong> — смысл важности теряется.
4) Заголовки без порядка — ломается логика чтения.
5) Дата без <time> — машина не понимает дату.
6) Цитата как обычный текст — теряется авторство.

---

## Best Practices

- Один H1 на страницу
- Новая мысль = новый абзац
- Используйте strong и em для смысла
- Списки только по назначению
- Цитаты оформляйте корректно
- Даты и сокращения всегда размечайте

✅ Вывод: семантика экономит время и улучшает качество текста.

---

## Заключение

Семантика текста — это язык, на котором вы объясняете смысл страницы.  
Она делает контент понятным людям, поиску и вспомогательным технологиям.

### Ключевые мысли

🎯 Заголовки строят логику текста  
🎯 Абзацы и списки передают смысл  
🎯 Семантические теги делают текст доступным

💪 Продолжайте практиковаться — каждый правильный тег делает вашу разметку сильнее.
`;

const scenariosContent = `## Популярные сценарии

### Типичные ошибки (сводка)

- Заголовки прыгают по уровням (h1 → h3).  
- Абзацы делают через br вместо p.  
- Важность выделяют только b/i вместо strong/em.  
- Списки используют ради отступов.  
- Цитаты оформляют как обычный текст.  
- Термины без dl/dt/dd.  
- Дата без time.  
- Сокращение без abbr.  

---

### Сценарий 1: Заголовки прыгают

❌ **Неправильно**: сразу h1 → h3.  
✅ **Правильно**: последовательные уровни.

**До:**
~~~html
<h1>Статья</h1>
<h3>Подраздел</h3>
~~~

**После:**
~~~html
<h1>Статья</h1>
<h2>Раздел</h2>
<h3>Подраздел</h3>
~~~

**Почему**: порядок уровней задаёт логику чтения.  
**Практический пример:** DOC-01: заголовки идут по уровням без пропусков.

---

### Сценарий 2: Абзацы через br

❌ **Неправильно**: переносы строк вместо абзацев.  
✅ **Правильно**: каждая мысль — отдельный p.

**До:**
~~~html
Текст строки 1<br />
Текст строки 2
~~~

**После:**
~~~html
<p>Текст строки 1</p>
<p>Текст строки 2</p>
~~~

**Почему**: p обозначает смысловой блок, br — только перенос.  
**Практический пример:** DOC-02: новые мысли — отдельные абзацы.

---

### Сценарий 3: Важность выделяют b

❌ **Неправильно**: важное слово выделено только визуально.  
✅ **Правильно**: использовать strong/em.

**До:**
~~~html
<b>Важно:</b> сохраните данные.
~~~

**После:**
~~~html
<strong>Важно:</strong> сохраните данные.
~~~

**Почему**: strong несёт смысловую важность, b — только стиль.  
**Практический пример:** DOC-03: предупреждения выделяются strong.

---

### Сценарий 4: Список ради отступов

❌ **Неправильно**: список используют как визуальный отступ.  
✅ **Правильно**: список только для перечня.

**До:**
~~~html
<ul><li>Описание курса</li></ul>
~~~

**После:**
~~~html
<p>Описание курса</p>
~~~

**Почему**: список должен отражать структуру, а не внешний вид.  
**Практический пример:** DOC-04: обычный текст оформляется абзацами.

---

### Сценарий 5: Цитата как обычный текст

❌ **Неправильно**: цитата оформлена абзацем.  
✅ **Правильно**: blockquote + cite.

**До:**
~~~html
<p>Хорошая структура делает текст сильнее.</p>
~~~

**После:**
~~~html
<blockquote>Хорошая структура делает текст сильнее.</blockquote>
<cite>Редактор блога</cite>
~~~

**Почему**: цитата должна быть выделена и иметь источник.  
**Практический пример:** DOC-05: отзывы оформляются blockquote и cite.

---

### Сценарий 6: Термины без dl

❌ **Неправильно**: термин и объяснение в разных абзацах.  
✅ **Правильно**: использовать dl/dt/dd.

**До:**
~~~html
<p>RAM — оперативная память.</p>
~~~

**После:**
~~~html
<dl>
  <dt>RAM</dt>
  <dd>Оперативная память.</dd>
</dl>
~~~

**Почему**: dl связывает термин и его определение.  
**Практический пример:** DOC-06: словарь оформляется через dl.

---

### Сценарий 7: Дата без time

❌ **Неправильно**: дата просто текстом.  
✅ **Правильно**: добавить time с datetime.

**До:**
~~~html
<p>10 февраля 2026</p>
~~~

**После:**
~~~html
<time datetime="2026-02-10">10 февраля 2026</time>
~~~

**Почему**: time делает дату понятной для машин.  
**Практический пример:** DOC-07: даты публикаций всегда в time.

---

### Сценарий 8: Сокращение без abbr

❌ **Неправильно**: сокращение без расшифровки.  
✅ **Правильно**: использовать abbr с title.

**До:**
~~~html
<p>API используется везде.</p>
~~~

**После:**
~~~html
<p><abbr title="Application Programming Interface">API</abbr> используется везде.</p>
~~~

**Почему**: abbr помогает читателю и скринридеру.  
**Практический пример:** DOC-08: все сокращения имеют расшифровку.
`;

const tasksContent = `## Подготовка к заданиям

🎯 **Цель:** собрать одну цельную статью и шаг за шагом наполнить её семантическим текстом.  
📰 **Контекст:** делаем статью «Как выбрать смартфон» для блога.  
🧩 **Как работать:** вставьте каркас в редактор и дополняйте его по заданиям — всё складывается в один готовый материал.

Каркас (правильный HTML):

~~~html
<!doctype html>
<html lang="ru">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Как выбрать смартфон</title>
  </head>
  <body style="margin: 0; font-family: Arial, sans-serif; background: #f5f6fb;">
    <div style="padding: 24px;">
      <div style="max-width: 860px; margin: 0 auto; background: #ffffff; border-radius: 16px; padding: 24px; box-shadow: 0 12px 30px rgba(0,0,0,0.08);">
        <main>
          <article>
            <!-- TODO: h1 -->
            <!-- TODO: lead -->

            <section>
              <!-- TODO: h2 + paragraph -->
            </section>

            <section>
              <!-- TODO: список критериев -->
            </section>

            <section>
              <!-- TODO: список шагов -->
            </section>

            <section>
              <!-- TODO: смысловой акцент -->
            </section>

            <section>
              <!-- TODO: цитата -->
            </section>

            <section>
              <!-- TODO: словарь -->
            </section>

            <section>
              <!-- TODO: дата + сокращение -->
            </section>

            <!-- TODO: footer -->
          </article>
        </main>
      </div>
    </div>
  </body>
</html>
~~~

## Задания для практики 🧪

### Задание 1: Главный заголовок и лид
**Кратко:**  
Ситуация: у статьи нет заголовка.  
Что сделать: добавить h1 и вводный абзац.  
Критерий: h1 один, лид — отдельный p.

**Описание:**  
🔎 **Ситуация:** читатель не понимает тему статьи с первых строк.  
✅ **Что сделать:** добавить h1 и короткий вводный абзац.  
📌 **Требования:**  
- один h1;  
- абзац описывает цель статьи.

🧱 **Исходник (как сейчас):**
~~~html
<!-- TODO: h1 -->
<!-- TODO: lead -->
~~~

**Ответ:**
**Было:**
~~~html
<!-- TODO: h1 -->
<!-- TODO: lead -->
~~~

**Стало:**
~~~html
<h1>Как выбрать смартфон без переплат</h1>
<p>Разберёмся, какие характеристики действительно важны при покупке.</p>
~~~

**Объяснение:** h1 задаёт тему статьи, а лид‑абзац объясняет, зачем читать дальше.  
Так читатель сразу понимает, о чём материал.

---

### Задание 2: Раздел с подзаголовком
**Кратко:**  
Ситуация: в статье нет разделов.  
Что сделать: добавить h2 и абзац.  
Критерий: логичный раздел с текстом.

**Описание:**  
🔎 **Ситуация:** статья выглядит как сплошной текст.  
✅ **Что сделать:** создать раздел «Для кого статья» с h2 и абзацем.  
📌 **Требования:**  
- использовать h2;  
- один абзац с пояснением.

🧱 **Исходник (как сейчас):**
~~~html
<section>
  <!-- TODO: h2 + paragraph -->
</section>
~~~

**Ответ:**
**Было:**
~~~html
<section>
  <!-- TODO: h2 + paragraph -->
</section>
~~~

**Стало:**
~~~html
<section>
  <h2>Для кого эта статья</h2>
  <p>Для тех, кто покупает первый смартфон или давно не обновлял устройство.</p>
</section>
~~~

**Объяснение:** h2 делит текст на понятные блоки, а абзац раскрывает мысль.  
Так статья становится структурной и читабельной.

---

### Задание 3: Список критериев
**Кратко:**  
Ситуация: есть перечень параметров, но без структуры.  
Что сделать: оформить список ul/li.  
Критерий: видно, что это перечень.

**Описание:**  
🔎 **Ситуация:** список характеристик сейчас записан строкой.  
✅ **Что сделать:** оформить критерии выбора через ul/li.  
📌 **Требования:**  
- минимум 3 пункта;  
- текст короткий и конкретный.

🧱 **Исходник (как сейчас):**
~~~html
<section>
  <!-- TODO: список критериев -->
</section>
~~~

**Ответ:**
**Было:**
~~~html
<section>
  <!-- TODO: список критериев -->
</section>
~~~

**Стало:**
~~~html
<section>
  <h2>Ключевые критерии</h2>
  <ul>
    <li>Экран и яркость</li>
    <li>Батарея и автономность</li>
    <li>Камера и стабилизация</li>
  </ul>
</section>
~~~

**Объяснение:** ul показывает, что пункты равнозначны и порядок не важен.  
Список делает информацию быстрее читаемой.

---

### Задание 4: Пошаговая проверка
**Кратко:**  
Ситуация: нужно показать порядок действий.  
Что сделать: оформить шаги через ol.  
Критерий: порядок виден сразу.

**Описание:**  
🔎 **Ситуация:** список шагов записан как текст.  
✅ **Что сделать:** оформить проверку смартфона в виде ol/li.  
📌 **Требования:**  
- 3 шага;  
- последовательность логичная.

🧱 **Исходник (как сейчас):**
~~~html
<section>
  <!-- TODO: список шагов -->
</section>
~~~

**Ответ:**
**Было:**
~~~html
<section>
  <!-- TODO: список шагов -->
</section>
~~~

**Стало:**
~~~html
<section>
  <h2>Проверка перед покупкой</h2>
  <ol>
    <li>Сравнить характеристики моделей</li>
    <li>Проверить отзывы и обзоры</li>
    <li>Сверить цену у нескольких продавцов</li>
  </ol>
</section>
~~~

**Объяснение:** ol показывает порядок действий, который нельзя менять местами.  
Так читатель воспринимает инструкцию как пошаговую.

---

### Задание 5: Смысловой акцент
**Кратко:**  
Ситуация: важное правило не выделено.  
Что сделать: добавить strong и em.  
Критерий: смысл читается даже без стилей.

**Описание:**  
🔎 **Ситуация:** важная мысль теряется в тексте.  
✅ **Что сделать:** выделить ключевое правило через strong и уточнение через em.  
📌 **Требования:**  
- использовать strong для важности;  
- em для акцента на слове.

🧱 **Исходник (как сейчас):**
~~~html
<section>
  <!-- TODO: смысловой акцент -->
</section>
~~~

**Ответ:**
**Было:**
~~~html
<section>
  <!-- TODO: смысловой акцент -->
</section>
~~~

**Стало:**
~~~html
<section>
  <p><strong>Важно:</strong> выбирайте объём памяти с запасом, иначе быстро закончится место.</p>
  <p>Особенно это касается <em>фотографий и видео</em>.</p>
</section>
~~~

**Объяснение:** strong показывает смысловую важность, em — логический акцент.  
Так читатель сразу видит ключевые правила.

---

### Задание 6: Цитата эксперта
**Кратко:**  
Ситуация: есть отзыв, но он как обычный текст.  
Что сделать: оформить цитату.  
Критерий: используется blockquote и cite.

**Описание:**  
🔎 **Ситуация:** цитата теряется среди абзацев.  
✅ **Что сделать:** выделить её через blockquote и указать источник через cite.  
📌 **Требования:**  
- текст цитаты в blockquote;  
- источник в cite.

🧱 **Исходник (как сейчас):**
~~~html
<section>
  <!-- TODO: цитата -->
</section>
~~~

**Ответ:**
**Было:**
~~~html
<section>
  <!-- TODO: цитата -->
</section>
~~~

**Стало:**
~~~html
<section>
  <blockquote>Лучше купить смартфон средней цены, чем переплачивать за бренд.</blockquote>
  <cite>Алексей, обзорщик</cite>
</section>
~~~

**Объяснение:** цитата отделяется от основного текста и получает источник.  
Так читатель видит, что это мнение, а не авторский текст.

---

### Задание 7: Словарь терминов
**Кратко:**  
Ситуация: есть термины, но они без структуры.  
Что сделать: оформить dl/dt/dd.  
Критерий: видно «термин → определение».

**Описание:**  
🔎 **Ситуация:** в статье встречаются непонятные слова.  
✅ **Что сделать:** сделать мини‑словарь через dl/dt/dd.  
📌 **Требования:**  
- минимум 2 термина;  
- определение в dd.

🧱 **Исходник (как сейчас):**
~~~html
<section>
  <!-- TODO: словарь -->
</section>
~~~

**Ответ:**
**Было:**
~~~html
<section>
  <!-- TODO: словарь -->
</section>
~~~

**Стало:**
~~~html
<section>
  <h2>Словарь</h2>
  <dl>
    <dt>RAM</dt>
    <dd>Оперативная память, отвечает за скорость работы.</dd>
    <dt>OLED</dt>
    <dd>Тип экрана с глубоким чёрным цветом.</dd>
  </dl>
</section>
~~~

**Объяснение:** dl связывает термин и его объяснение в одну логическую пару.  
Так читатель быстрее разбирается в понятиях.

---

### Задание 8: Дата публикации
**Кратко:**  
Ситуация: дата указана только текстом.  
Что сделать: оформить time с datetime.  
Критерий: дата читается человеком и машиной.

**Описание:**  
🔎 **Ситуация:** нужно показать дату публикации статьи.  
✅ **Что сделать:** использовать тег time с datetime.  
📌 **Требования:**  
- формат даты YYYY-MM-DD;  
- текст для пользователя.

🧱 **Исходник (как сейчас):**
~~~html
<section>
  <!-- TODO: дата + сокращение -->
</section>
~~~

**Ответ:**
**Было:**
~~~html
<section>
  <!-- TODO: дата + сокращение -->
</section>
~~~

**Стало:**
~~~html
<section>
  <p>Опубликовано: <time datetime="2026-02-10">10 февраля 2026</time></p>
</section>
~~~

**Объяснение:** time делает дату машинно читаемой и полезной для поиска.  
Так статьи проще фильтровать и сортировать.

---

### Задание 9: Сокращение с расшифровкой
**Кратко:**  
Ситуация: термин API непонятен новичку.  
Что сделать: добавить abbr с title.  
Критерий: есть расшифровка.

**Описание:**  
🔎 **Ситуация:** в тексте есть сокращение, но без объяснения.  
✅ **Что сделать:** оформить сокращение через abbr.  
📌 **Требования:**  
- использовать title;  
- сохранить читабельный текст.

🧱 **Исходник (как сейчас):**
~~~html
<section>
  <!-- TODO: дата + сокращение -->
</section>
~~~

**Ответ:**
**Было:**
~~~html
<p>API используется в обзорах камер.</p>
~~~

**Стало:**
~~~html
<p><abbr title="Application Programming Interface">API</abbr> используется в обзорах камер.</p>
~~~

**Объяснение:** abbr даёт расшифровку и помогает новичкам понять термин.  
Сокращение становится доступным и понятным.

---

### Задание 10: Footer статьи
**Кратко:**  
Ситуация: статья не завершена.  
Что сделать: добавить footer с автором и контактом.  
Критерий: footer внутри article.

**Описание:**  
🔎 **Ситуация:** читатель не знает, кто автор статьи.  
✅ **Что сделать:** добавить footer в конце article.  
📌 **Требования:**  
- указать автора;  
- добавить контактный email.

🧱 **Исходник (как сейчас):**
~~~html
<!-- TODO: footer -->
~~~

**Ответ:**
**Было:**
~~~html
<!-- TODO: footer -->
~~~

**Стало:**
~~~html
<footer>
  <p>Автор: редакция TechNote</p>
  <p>Контакт: hello@technote.ru</p>
</footer>
~~~

**Объяснение:** footer завершает статью и фиксирует служебные данные.  
Это делает материал аккуратным и «живым».
`;

const exampleContent = `## Пример: текстовая разметка статьи 📄

Разрабатывается условно такой сайт: блог для новичков в разработке.  
После всех митингов и постановки задачи нужно было решить проблему:  
текст читается тяжело, а поисковые системы плохо понимают структуру.

Ниже — пример готовой разметки статьи с правильной семантикой.

---

~~~html
<!DOCTYPE html>
<html lang="ru">
  <head>
    <meta charset="UTF-8" />
    <title>HTML: текст и семантика</title>
  </head>
  <body>
    <article>
      <h1>HTML: текст и семантика</h1>
      <p><strong>Семантика</strong> делает текст понятным людям и поиску.</p>

      <h2>Основные элементы</h2>
      <ul>
        <li>Заголовки и абзацы</li>
        <li>Списки и цитаты</li>
        <li>Даты и сокращения</li>
      </ul>

      <h2>Цитата</h2>
      <blockquote>Хорошая структура делает текст сильнее.</blockquote>
      <cite>Редактор блога</cite>

      <p>Дата публикации: <time datetime="2026-02-10">10 февраля 2026</time></p>
      <p>Термин <abbr title="Application Programming Interface">API</abbr> встречается часто.</p>

      <p>Совет: нажмите <kbd>Ctrl</kbd> + <kbd>Enter</kbd>, чтобы сохранить.</p>

      <h2>Фрагмент кода</h2>
      <pre><code>&lt;p&gt;Новый абзац&lt;/p&gt;</code></pre>

      <footer>
        <p>Автор: редакция блога</p>
        <p>Контакты: hello@blog.example</p>
      </footer>
    </article>
  </body>
</html>
~~~
`;

async function createHtmlTextSemanticsLecture() {
  try {
    console.log('🚀 Пересоздание лекции "HTML: текст и семантика"...\n');

    await prisma.lecture.deleteMany({
      where: { title: 'HTML: текст и семантика' }
    });

    const lecture = await prisma.lecture.create({
      data: {
        title: 'HTML: текст и семантика',
        topic: 'HTML',
        content: lectureContent,
        scenariosContent,
        exampleContent,
        tasksContent
      }
    });

    const test = await prisma.test.findFirst({
      where: { title: 'HTML: текст и семантика' },
      include: { questions: true }
    });

    if (test) {
      for (const tq of test.questions) {
        await prisma.question.update({
          where: { id: tq.questionId },
          data: { lectureId: lecture.id }
        });
      }
      console.log(`✅ Привязано вопросов: ${test.questions.length}`);
    } else {
      console.log('⚠️ Тест не найден, вопросы не привязаны');
    }

    console.log(`✅ Лекция создана с ID: ${lecture.id}`);
  } catch (error) {
    console.error('❌ Ошибка:', error);
    throw error;
  } finally {
    await prisma.$disconnect();
    await pool.end();
  }
}

createHtmlTextSemanticsLecture();

