import { PrismaClient } from '@prisma/client';
import { PrismaPg } from '@prisma/adapter-pg';
import { Pool } from 'pg';
import dotenv from 'dotenv';
import path from 'path';

const envPath = path.resolve(__dirname, '..', '.env');
dotenv.config({ path: envPath });

const pool = new Pool({ connectionString: process.env.DATABASE_URL });
const adapter = new PrismaPg(pool);
const prisma = new PrismaClient({ adapter });

const lectureTitle = 'HTML: –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –∏ –º–µ–¥–∏–∞';
const legacyTitle = 'HTML: –†—ë–†¬∑–†—ï–†¬±–°–Ç–†¬∞–†¬∂–†¬µ–†–Ö–†—ë–°–è –†—ë –†—ò–†¬µ–†“ë–†—ë–†¬∞';

const questions = [
  {
    question: '–ß—Ç–æ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å —É –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –≤ HTML?',
    options: [
      'src –∏ –æ—Å–º—ã—Å–ª–µ–Ω–Ω—ã–π alt, –∏–Ω–∞—á–µ —Ç–µ—Ä—è–µ—Ç—Å—è —Å–º—ã—Å–ª –∏ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å.',
      'data-id –∏ title, —á—Ç–æ–±—ã –ø–æ–∏—Å–∫–æ–≤–∏–∫ –∑–Ω–∞–ª, —á—Ç–æ —ç—Ç–æ –∫–∞—Ä—Ç–∏–Ω–∫–∞.',
      'role="img" –∏ aria-label, –¥–∞–∂–µ –µ—Å–ª–∏ –µ—Å—Ç—å alt.',
      'loading="lazy" –∏ width, –∏–Ω–∞—á–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –Ω–µ –ø–æ–∫–∞–∂–µ—Ç—Å—è.'
    ],
    correctAnswer: 0,
    explanation:
      '–ü–æ –ª–µ–∫—Ü–∏–∏ —É img –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å src –∏ alt. –û—Å—Ç–∞–ª—å–Ω—ã–µ –∞—Ç—Ä–∏–±—É—Ç—ã –Ω–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã –≤ –∫–∞–∂–¥–æ–º —Å–ª—É—á–∞–µ.'
  },
  {
    question: '–ö–∞–∫ –ø–∏—Å–∞—Ç—å alt –¥–ª—è —Å–º—ã—Å–ª–æ–≤–æ–≥–æ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è?',
    options: [
      '–û–ø–∏—Å—ã–≤–∞—Ç—å —Å–º—ã—Å–ª –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è, –∞ –Ω–µ –∏–º—è —Ñ–∞–π–ª–∞.',
      '–ü–æ–≤—Ç–æ—Ä—è—Ç—å —Å–ª–æ–≤–æ ¬´–∫–∞—Ä—Ç–∏–Ω–∫–∞¬ª, —á—Ç–æ–±—ã –±—ã–ª–æ –æ—á–µ–≤–∏–¥–Ω–æ.',
      '–ü–∏—Å–∞—Ç—å —Ç–æ–ª—å–∫–æ —Ä–∞–∑–º–µ—Ä –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –≤ –ø–∏–∫—Å–µ–ª—è—Ö.',
      '–û—Å—Ç–∞–≤–ª—è—Ç—å alt –ø—É—Å—Ç—ã–º, –µ—Å–ª–∏ —ç—Ç–æ —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏—è.'
    ],
    correctAnswer: 0,
    explanation:
      'Alt –Ω—É–∂–µ–Ω, —á—Ç–æ–±—ã –æ–±—ä—è—Å–Ω–∏—Ç—å —Å–º—ã—Å–ª –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è, –æ—Å–æ–±–µ–Ω–Ω–æ –¥–ª—è —Å–∫—Ä–∏–Ω—Ä–∏–¥–µ—Ä–∞.'
  },
  {
    question: '–ö–∞–∫–æ–π alt —É –¥–µ–∫–æ—Ä–∞—Ç–∏–≤–Ω–æ–π –∫–∞—Ä—Ç–∏–Ω–∫–∏ –ø–æ –ª–µ–∫—Ü–∏–∏?',
    options: [
      '–ü—É—Å—Ç–æ–π alt, —á—Ç–æ–±—ã –Ω–µ –º–µ—à–∞—Ç—å —á—Ç–µ–Ω–∏—é.',
      '–¢–æ—á–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ —É–∑–æ—Ä–∞ –∏ —Ü–≤–µ—Ç–∞.',
      '–ù–∞–∑–≤–∞–Ω–∏–µ —Ñ–∞–π–ª–∞ –∏ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ.',
      '–õ—é–±–æ–π –∫–æ—Ä–æ—Ç–∫–∏–π —Ç–µ–∫—Å—Ç, —á—Ç–æ–±—ã alt –±—ã–ª –∑–∞–ø–æ–ª–Ω–µ–Ω.'
    ],
    correctAnswer: 0,
    explanation:
      '–î–µ–∫–æ—Ä–∞—Ç–∏–≤–Ω—ã–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –Ω–µ –Ω–µ—Å—É—Ç —Å–º—ã—Å–ª–∞, –ø–æ—ç—Ç–æ–º—É alt –¥–µ–ª–∞—é—Ç –ø—É—Å—Ç—ã–º.'
  },
  {
    question: '–ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å figure –∏ figcaption?',
    options: [
      '–ö–æ–≥–¥–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –Ω—É–∂–¥–∞–µ—Ç—Å—è –≤ –ø–æ–¥–ø–∏—Å–∏ –∏ –ø–æ—è—Å–Ω–µ–Ω–∏–∏.',
      '–ö–æ–≥–¥–∞ –Ω—É–∂–Ω–æ —É—Å–∫–æ—Ä–∏—Ç—å –∑–∞–≥—Ä—É–∑–∫—É –∫–∞—Ä—Ç–∏–Ω–∫–∏.',
      '–ö–æ–≥–¥–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –∫–∞–∫ —Ñ–æ–Ω.',
      '–ö–æ–≥–¥–∞ –Ω—É–∂–Ω–æ –∑–∞–º–µ–Ω–∏—Ç—å alt –Ω–∞ –¥–ª–∏–Ω–Ω—ã–π —Ç–µ–∫—Å—Ç.'
    ],
    correctAnswer: 0,
    explanation:
      'Figure —Å–≤—è–∑—ã–≤–∞–µ—Ç –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∏ –ø–æ–¥–ø–∏—Å—å, –¥–µ–ª–∞—è –∏—Ö –µ–¥–∏–Ω—ã–º —Å–º—ã—Å–ª–æ–≤—ã–º –±–ª–æ–∫–æ–º.'
  },
  {
    question: '–ß—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç srcset –≤ –∞–¥–∞–ø—Ç–∏–≤–Ω—ã—Ö –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è—Ö?',
    options: [
      '–°–ø–∏—Å–æ–∫ —Ä–∞–∑–º–µ—Ä–æ–≤ –æ–¥–Ω–æ–π –∫–∞—Ä—Ç–∏–Ω–∫–∏ –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —ç–∫—Ä–∞–Ω–æ–≤.',
      '–°–ø–∏—Å–æ–∫ —Ü–≤–µ—Ç–æ–≤—ã—Ö —Ñ–∏–ª—å—Ç—Ä–æ–≤ –¥–ª—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è.',
      '–°–ø–∏—Å–æ–∫ HTML-—Å—Ç—Ä–∞–Ω–∏—Ü, –≥–¥–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –∫–∞—Ä—Ç–∏–Ω–∫–∞.',
      '–°–ø–∏—Å–æ–∫ —Ç–µ–≥–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ —Ä–∞–∑—Ä–µ—à–µ–Ω—ã –≤–Ω—É—Ç—Ä–∏ img.'
    ],
    correctAnswer: 0,
    explanation:
      'srcset —Å–æ–¥–µ—Ä–∂–∏—Ç –≤–∞—Ä–∏–∞–Ω—Ç—ã –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π —Ä–∞–∑–Ω–æ–≥–æ —Ä–∞–∑–º–µ—Ä–∞ –¥–ª—è –≤—ã–±–æ—Ä–∞ –±—Ä–∞—É–∑–µ—Ä–æ–º.'
  },
  {
    question: '–ß—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç sizes –≤ —Å–≤—è–∑–∫–µ —Å–æ srcset?',
    options: [
      '–†–∞–∑–º–µ—Ä –±–ª–æ–∫–∞ –∫–∞—Ä—Ç–∏–Ω–∫–∏ –≤ –º–∞–∫–µ—Ç–µ –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —É—Å–ª–æ–≤–∏–π —ç–∫—Ä–∞–Ω–∞.',
      '–†–∞–∑—Ä–µ—à–µ–Ω–∏–µ —ç–∫—Ä–∞–Ω–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ –ø–∏–∫—Å–µ–ª—è—Ö.',
      '–†–∞–∑–º–µ—Ä —Ñ–∞–π–ª–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –≤ –∫–∏–ª–æ–±–∞–π—Ç–∞—Ö.',
      '–í—ã—Å–æ—Ç—É –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –∫–æ–Ω—Ç–µ–Ω—Ç–∞.'
    ],
    correctAnswer: 0,
    explanation:
      'sizes –æ–ø–∏—Å—ã–≤–∞–µ—Ç, —Å–∫–æ–ª—å–∫–æ –º–µ—Å—Ç–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∑–∞–Ω–∏–º–∞–µ—Ç –≤ –º–∞–∫–µ—Ç–µ –ø—Ä–∏ —Ä–∞–∑–Ω—ã—Ö —ç–∫—Ä–∞–Ω–∞—Ö.'
  },
  {
    question: '–ö–æ–≥–¥–∞ —Å—Ç–æ–∏—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å picture –∏ source?',
    options: [
      '–ö–æ–≥–¥–∞ –Ω—É–∂–Ω—ã —Ä–∞–∑–Ω—ã–µ —Ñ–æ—Ä–º–∞—Ç—ã –∏–ª–∏ –≤–∞—Ä–∏–∞–Ω—Ç—ã –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è.',
      '–ö–æ–≥–¥–∞ –Ω—É–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –ø–æ–¥–ø–∏—Å—å –∫ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—é.',
      '–ö–æ–≥–¥–∞ –Ω—É–∂–Ω–æ –∑–∞–º–µ–Ω–∏—Ç—å alt –Ω–∞ –¥–ª–∏–Ω–Ω—ã–π —Ç–µ–∫—Å—Ç.',
      '–ö–æ–≥–¥–∞ –Ω—É–∂–Ω–æ —Å–∫—Ä—ã—Ç—å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –æ—Ç —Å–∫—Ä–∏–Ω—Ä–∏–¥–µ—Ä–æ–≤.'
    ],
    correctAnswer: 0,
    explanation:
      'Picture + source –∏—Å–ø–æ–ª—å–∑—É—é—Ç –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —Ñ–æ—Ä–º–∞—Ç–æ–≤ –∏ —É—Å–ª–æ–≤–∏–π, –Ω–∞–ø—Ä–∏–º–µ—Ä AVIF/WebP.'
  },
  {
    question: '–ö–∞–∫–æ–π —ç–ª–µ–º–µ–Ω—Ç –∑–∞–¥–∞—ë—Ç –≤–∞—Ä–∏–∞–Ω—Ç—ã –≤–Ω—É—Ç—Ä–∏ picture?',
    options: [
      'source –∑–∞–¥–∞—ë—Ç —Ñ–æ—Ä–º–∞—Ç –∏ –≤–∞—Ä–∏–∞–Ω—Ç –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è.',
      'figcaption –∑–∞–¥–∞—ë—Ç —Ñ–æ—Ä–º–∞—Ç –∏ –≤–∞—Ä–∏–∞–Ω—Ç –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è.',
      'track –∑–∞–¥–∞—ë—Ç —Ñ–æ—Ä–º–∞—Ç –∏ –≤–∞—Ä–∏–∞–Ω—Ç –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è.',
      'caption –∑–∞–¥–∞—ë—Ç —Ñ–æ—Ä–º–∞—Ç –∏ –≤–∞—Ä–∏–∞–Ω—Ç –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è.'
    ],
    correctAnswer: 0,
    explanation:
      '–í–Ω—É—Ç—Ä–∏ picture –≤–∞—Ä–∏–∞–Ω—Ç—ã –∑–∞–¥–∞—é—Ç—Å—è —á–µ—Ä–µ–∑ source, –∞ img –æ—Å—Ç–∞—ë—Ç—Å—è –∑–∞–ø–∞—Å–Ω—ã–º.'
  },
  {
    question: '–ü–æ—á–µ–º—É –Ω–µ–ª—å–∑—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å lazy –Ω–∞ –ø–µ—Ä–≤–æ–º —ç–∫—Ä–∞–Ω–µ?',
    options: [
      '–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —É–≤–∏–¥–∏—Ç –ø—É—Å—Ç–æ–µ –º–µ—Å—Ç–æ –∏ –ø–æ–¥—É–º–∞–µ—Ç, —á—Ç–æ —Å–∞–π—Ç —Å–ª–æ–º–∞–Ω.',
      'Lazy —Å–Ω–∏–∂–∞–µ—Ç –∫–∞—á–µ—Å—Ç–≤–æ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –Ω–∞ –±–æ–ª—å—à–∏—Ö —ç–∫—Ä–∞–Ω–∞—Ö.',
      'Lazy –ª–æ–º–∞–µ—Ç alt –∏ –¥–µ–ª–∞–µ—Ç –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω—ã–º.',
      'Lazy –æ—Ç–∫–ª—é—á–∞–µ—Ç srcset –∏ sizes –Ω–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö.'
    ],
    correctAnswer: 0,
    explanation:
      'Lazy –æ—Ç–∫–ª–∞–¥—ã–≤–∞–µ—Ç –∑–∞–≥—Ä—É–∑–∫—É, –ø–æ—ç—Ç–æ–º—É –ø–µ—Ä–≤—ã–π —ç–∫—Ä–∞–Ω –¥–æ–ª–∂–µ–Ω –≥—Ä—É–∑–∏—Ç—å—Å—è —Å—Ä–∞–∑—É.'
  },
  {
    question: '–ö–æ–≥–¥–∞ loading="lazy" –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ —É–º–µ—Å—Ç–µ–Ω?',
    options: [
      '–î–ª—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –Ω–∏–∂–µ –ø–µ—Ä–≤–æ–≥–æ —ç–∫—Ä–∞–Ω–∞ –∏ –≤—Ç–æ—Ä–æ—Å—Ç–µ–ø–µ–Ω–Ω—ã—Ö –±–ª–æ–∫–æ–≤.',
      '–î–ª—è –ª–æ–≥–æ—Ç–∏–ø–∞ –∏ –ø–µ—Ä–≤–æ–≥–æ –±–∞–Ω–Ω–µ—Ä–∞ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ.',
      '–î–ª—è –≤—Å–µ—Ö –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –±–µ–∑ –∏—Å–∫–ª—é—á–µ–Ω–∏–π.',
      '–î–ª—è –∏–∫–æ–Ω–æ–∫, —á—Ç–æ–±—ã –∏—Ö –±—ã–ª–æ –º–µ–Ω—å—à–µ –≤–∏–¥–Ω–æ.'
    ],
    correctAnswer: 0,
    explanation:
      'Lazy –Ω—É–∂–µ–Ω –¥–ª—è –∫–æ–Ω—Ç–µ–Ω—Ç–∞ –Ω–∏–∂–µ –ø–µ—Ä–≤–æ–≥–æ —ç–∫—Ä–∞–Ω–∞, —á—Ç–æ–±—ã —É—Å–∫–æ—Ä–∏—Ç—å –∑–∞–≥—Ä—É–∑–∫—É.'
  },
  {
    question: '–ó–∞—á–µ–º —É–∫–∞–∑—ã–≤–∞—Ç—å width –∏ height –¥–ª—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π?',
    options: [
      '–ß—Ç–æ–±—ã –∏–∑–±–µ–∂–∞—Ç—å —Å–∫–∞—á–∫–æ–≤ –º–∞–∫–µ—Ç–∞ –∏ —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å –º–µ—Å—Ç–æ –∑–∞—Ä–∞–Ω–µ–µ.',
      '–ß—Ç–æ–±—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –¥–æ–±–∞–≤–∏—Ç—å –ø–æ–¥–ø–∏—Å—å –ø–æ–¥ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ–º.',
      '–ß—Ç–æ–±—ã –∑–∞–º–µ–Ω–∏—Ç—å –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç—å alt-—Ç–µ–∫—Å—Ç–∞.',
      '–ß—Ç–æ–±—ã –∑–∞–ø—Ä–µ—Ç–∏—Ç—å –æ—Ç–∫—Ä—ã—Ç–∏–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –≤ –Ω–æ–≤–æ–π –≤–∫–ª–∞–¥–∫–µ.'
    ],
    correctAnswer: 0,
    explanation:
      '–†–∞–∑–º–µ—Ä—ã —Ñ–∏–∫—Å–∏—Ä—É—é—Ç –º–µ—Å—Ç–æ –∏ —É–º–µ–Ω—å—à–∞—é—Ç CLS, —á—Ç–æ —É–ª—É—á—à–∞–µ—Ç –≤–æ—Å–ø—Ä–∏—è—Ç–∏–µ.'
  },
  {
    question: '–ö–∞–∫–æ–π —Ä–∞–∑–º–µ—Ä —Ñ–∞–π–ª–∞ —Ä–µ–∫–æ–º–µ–Ω–¥—É—é—Ç –¥–ª—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω—ã—Ö –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π?',
    options: [
      '–ü—Ä–∏–º–µ—Ä–Ω–æ 100‚Äì200 –ö–ë –ø–æ—Å–ª–µ —Å–∂–∞—Ç–∏—è.',
      '–ù–µ –º–µ–Ω—å—à–µ 1‚Äì2 –ú–ë –¥–ª—è –≤—ã—Å–æ–∫–æ–≥–æ –∫–∞—á–µ—Å—Ç–≤–∞.',
      '–ß–µ–º –±–æ–ª—å—à–µ, —Ç–µ–º –ª—É—á—à–µ –¥–ª—è —Ä–µ—Ç–∏–Ω—ã.',
      '–¢–æ—á–Ω—ã–π —Ä–∞–∑–º–µ—Ä –Ω–µ –∏–º–µ–µ—Ç –∑–Ω–∞—á–µ–Ω–∏—è.'
    ],
    correctAnswer: 0,
    explanation:
      '–õ–µ–∫—Ü–∏—è —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç —Å–∂–∏–º–∞—Ç—å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –¥–æ 100‚Äì200 –ö–ë –¥–ª—è —Å–∫–æ—Ä–æ—Å—Ç–∏.'
  },
  {
    question: '–ö–∞–∫–æ–π —Ñ–æ—Ä–º–∞—Ç —á–∞—â–µ –ø–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–π?',
    options: [
      'JPEG –∏–ª–∏ WebP –¥–ª—è —Ñ–æ—Ç–æ —Å —Ö–æ—Ä–æ—à–∏–º –±–∞–ª–∞–Ω—Å–æ–º –≤–µ—Å–∞ –∏ –∫–∞—á–µ—Å—Ç–≤–∞.',
      'SVG –¥–ª—è —Ñ–æ—Ç–æ, –ø–æ—Ç–æ–º—É —á—Ç–æ –æ–Ω –º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ—Ç—Å—è.',
      'PNG –¥–ª—è –≤—Å–µ—Ö —Ñ–æ—Ç–æ –±–µ–∑ –∏—Å–∫–ª—é—á–µ–Ω–∏–π.',
      'GIF –¥–ª—è –ª—é–±—ã—Ö —Ñ–æ—Ç–æ —Ä–∞–¥–∏ —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏.'
    ],
    correctAnswer: 0,
    explanation:
      'JPEG –∏ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–µ WebP/AVIF –ø–æ–¥—Ö–æ–¥—è—Ç –¥–ª—è —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–π –ª—É—á—à–µ –æ—Å—Ç–∞–ª—å–Ω—ã—Ö.'
  },
  {
    question: '–ö–∞–∫–æ–π —Ñ–æ—Ä–º–∞—Ç –ª—É—á—à–µ –¥–ª—è –ª–æ–≥–æ—Ç–∏–ø–æ–≤ –∏ –∏–∫–æ–Ω–æ–∫?',
    options: [
      'SVG, –ø–æ—Ç–æ–º—É —á—Ç–æ —ç—Ç–æ –≤–µ–∫—Ç–æ—Ä –∏ –Ω–µ —Ç–µ—Ä—è–µ—Ç –∫–∞—á–µ—Å—Ç–≤–æ.',
      'JPEG, –ø–æ—Ç–æ–º—É —á—Ç–æ –æ–Ω –ª–µ–≥—á–µ –¥–ª—è –∏–∫–æ–Ω–æ–∫.',
      'GIF, –ø–æ—Ç–æ–º—É —á—Ç–æ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –ø—Ä–æ–∑—Ä–∞—á–Ω–æ—Å—Ç—å.',
      'MP4, –ø–æ—Ç–æ–º—É —á—Ç–æ —ç—Ç–æ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç.'
    ],
    correctAnswer: 0,
    explanation:
      'SVG –ø–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è –ª–æ–≥–æ—Ç–∏–ø–æ–≤ –∏ –∏–∫–æ–Ω–æ–∫, –ø–æ—Ç–æ–º—É —á—Ç–æ –º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ—Ç—Å—è –±–µ–∑ –ø–æ—Ç–µ—Ä—å.'
  },
  {
    question: '–ö–æ–≥–¥–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –ª—É—á—à–µ —Å–¥–µ–ª–∞—Ç—å —Ñ–æ–Ω–æ–º –≤ CSS?',
    options: [
      '–ö–æ–≥–¥–∞ –∫–∞—Ä—Ç–∏–Ω–∫–∞ –¥–µ–∫–æ—Ä–∞—Ç–∏–≤–Ω–∞—è –∏ –Ω–µ –Ω–µ—Å—ë—Ç —Å–º—ã—Å–ª–∞.',
      '–ö–æ–≥–¥–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Å–æ–¥–µ—Ä–∂–∏—Ç –≤–∞–∂–Ω—ã–π —Ç–µ–∫—Å—Ç.',
      '–ö–æ–≥–¥–∞ –Ω—É–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å alt-—Ç–µ–∫—Å—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é.',
      '–ö–æ–≥–¥–∞ —ç—Ç–æ —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏—è –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª—è.'
    ],
    correctAnswer: 0,
    explanation:
      '–°–º—ã—Å–ª–æ–≤—ã–µ –∫–∞—Ä—Ç–∏–Ω–∫–∏ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –≤ HTML, —Ñ–æ–Ω ‚Äî –¥–ª—è –¥–µ–∫–æ—Ä–∞—Ç–∏–≤–Ω—ã—Ö.'
  },
  {
    question: '–î–ª—è —á–µ–≥–æ –Ω—É–∂–µ–Ω track –≤ –≤–∏–¥–µ–æ?',
    options: [
      '–î–ª—è —Å—É–±—Ç–∏—Ç—Ä–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ –ø–æ–º–æ–≥–∞—é—Ç —É—á–∏—Ç—å—Å—è –∏ –ø–æ–Ω–∏–º–∞—Ç—å –±–µ–∑ –∑–≤—É–∫–∞.',
      '–î–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –ø—Ä–µ–≤—å—é-–∫–∞–¥—Ä–∞ –≤–º–µ—Å—Ç–æ poster.',
      '–î–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ –≤—Ç–æ—Ä–æ–≥–æ –≤–∏–¥–µ–æ, –µ—Å–ª–∏ –ø–µ—Ä–≤–æ–µ –Ω–µ –¥–æ—Å—Ç—É–ø–Ω–æ.',
      '–î–ª—è —É—Å–∫–æ—Ä–µ–Ω–∏—è –∑–∞–≥—Ä—É–∑–∫–∏ –≤–∏–¥–µ–æ –Ω–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö.'
    ],
    correctAnswer: 0,
    explanation:
      'Track –¥–æ–±–∞–≤–ª—è–µ—Ç —Å—É–±—Ç–∏—Ç—Ä—ã, –≤–∞–∂–Ω—ã–µ –¥–ª—è –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ –∏ –ø–æ–Ω–∏–º–∞–Ω–∏—è –º–∞—Ç–µ—Ä–∏–∞–ª–∞.'
  },
  {
    question: '–ß—Ç–æ –¥–µ–ª–∞–µ—Ç controls –≤ —Ç–µ–≥–µ video?',
    options: [
      '–ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç —ç–ª–µ–º–µ–Ω—Ç—ã —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é.',
      '–ó–∞–ø—É—Å–∫–∞–µ—Ç –≤–∏–¥–µ–æ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ –∑–≤—É–∫–æ–º.',
      '–û—Ç–∫–ª—é—á–∞–µ—Ç –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –≤–∏–¥–µ–æ.',
      '–°–∂–∏–º–∞–µ—Ç –≤–∏–¥–µ–æ –ø–µ—Ä–µ–¥ –∑–∞–≥—Ä—É–∑–∫–æ–π.'
    ],
    correctAnswer: 0,
    explanation:
      'controls –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç –∫–Ω–æ–ø–∫–∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è, —á—Ç–æ–±—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–æ–≥ –∑–∞–ø—É—Å–∫–∞—Ç—å –∏ —Å—Ç–∞–≤–∏—Ç—å –Ω–∞ –ø–∞—É–∑—É.'
  },
  {
    question: '–ß—Ç–æ –¥–µ–ª–∞–µ—Ç –∞—Ç—Ä–∏–±—É—Ç poster?',
    options: [
      '–ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –ø—Ä–µ–≤—å—é-–∫–∞–¥—Ä –¥–æ –∑–∞–ø—É—Å–∫–∞ –≤–∏–¥–µ–æ.',
      '–î–æ–±–∞–≤–ª—è–µ—Ç —Å—É–±—Ç–∏—Ç—Ä—ã –∫ –≤–∏–¥–µ–æ—Ä–æ–ª–∏–∫—É.',
      '–£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç —Ñ–æ–Ω–æ–≤—É—é –º—É–∑—ã–∫—É –≤–∏–¥–µ–æ.',
      '–ü–æ–¥–º–µ–Ω—è–µ—Ç source –Ω–∞ –¥—Ä—É–≥–æ–µ –≤–∏–¥–µ–æ.'
    ],
    correctAnswer: 0,
    explanation:
      'Poster –∑–∞–¥–∞—ë—Ç –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ-–ø—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä –¥–æ –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—è.'
  },
  {
    question: '–ß—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç preload="metadata"?',
    options: [
      '–ó–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Ñ–∞–π–ª–µ, –±–µ–∑ –ø–æ–ª–Ω–æ–≥–æ —Å–∫–∞—á–∏–≤–∞–Ω–∏—è.',
      '–°–∫–∞—á–∏–≤–∞–µ—Ç—Å—è –≤–µ—Å—å —Ñ–∞–π–ª –¥–æ –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—è.',
      '–í–∏–¥–µ–æ –Ω–µ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –¥–∞–∂–µ –ø—Ä–∏ –Ω–∞–∂–∞—Ç–∏–∏.',
      '–ó–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –∞—É–¥–∏–æ–¥–æ—Ä–æ–∂–∫–∞ –±–µ–∑ –≤–∏–¥–µ–æ.'
    ],
    correctAnswer: 0,
    explanation:
      'metadata –ø–æ–¥–≥—Ä—É–∂–∞–µ—Ç —Ç–æ–ª—å–∫–æ –¥–∞–Ω–Ω—ã–µ –æ –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –∏ —Ä–∞–∑–º–µ—Ä–∞—Ö.'
  },
  {
    question: '–ö–æ–≥–¥–∞ —É–º–µ—Å—Ç–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å loop?',
    options: [
      '–î–ª—è –∫–æ—Ä–æ—Ç–∫–∏—Ö –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–π, —á—Ç–æ–±—ã —Ä–æ–ª–∏–∫ –ø–æ–≤—Ç–æ—Ä—è–ª—Å—è.',
      '–î–ª—è –¥–ª–∏–Ω–Ω—ã—Ö –ª–µ–∫—Ü–∏–π, —á—Ç–æ–±—ã –≤—Å—ë –ø–æ–≤—Ç–æ—Ä—è–ª–æ—Å—å –±–µ—Å–∫–æ–Ω–µ—á–Ω–æ.',
      '–î–ª—è –∞—É–¥–∏–æ, —á—Ç–æ–±—ã –Ω–µ –±—ã–ª–æ –ø–∞—É–∑ –º–µ–∂–¥—É —Ç—Ä–µ–∫–∞–º–∏.',
      '–î–ª—è –ª—é–±—ã—Ö –≤–∏–¥–µ–æ, —á—Ç–æ–±—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –º–æ–≥ –æ—Å—Ç–∞–Ω–æ–≤–∏—Ç—å.'
    ],
    correctAnswer: 0,
    explanation:
      'Loop –ø–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è –∫–æ—Ä–æ—Ç–∫–∏—Ö —Ä–æ–ª–∏–∫–æ–≤, –æ–±—ã—á–Ω–æ –±–µ–∑ –∑–≤—É–∫–∞.'
  },
  {
    question: '–ö–∞–∫ –ø—Ä–∞–≤–∏–ª—å–Ω–æ –∑–∞–ø—É—Å–∫–∞—Ç—å –≤–∏–¥–µ–æ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏?',
    options: [
      '–¢–æ–ª—å–∫–æ –±–µ–∑ –∑–≤—É–∫–∞ –∏ –ª—É—á—à–µ –ø–æ –¥–µ–π—Å—Ç–≤–∏—é –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.',
      '–í—Å–µ–≥–¥–∞ —Å–æ –∑–≤—É–∫–æ–º, —á—Ç–æ–±—ã –ø—Ä–∏–≤–ª–µ—á—å –≤–Ω–∏–º–∞–Ω–∏–µ.',
      '–¢–æ–ª—å–∫–æ –µ—Å–ª–∏ –µ—Å—Ç—å track –∏ poster.',
      '–í—Å–µ–≥–¥–∞ —Å preload="auto" –¥–ª—è —Å–∫–æ—Ä–æ—Å—Ç–∏.'
    ],
    correctAnswer: 0,
    explanation:
      '–ê–≤—Ç–æ–≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ –¥–æ–ø—É—Å—Ç–∏–º–æ —Ç–æ–ª—å–∫–æ –±–µ–∑ –∑–≤—É–∫–∞, –∏–Ω–∞—á–µ —Ä–∞–∑–¥—Ä–∞–∂–∞–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.'
  },
  {
    question: '–ß—Ç–æ –ø–æ–º–æ–≥–∞–µ—Ç —Å–¥–µ–ª–∞—Ç—å –≥–µ—Ä–æ–π‚Äë–∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –±—ã—Å—Ç—Ä—ã–º?',
    options: [
      '–°–∂–∞—Ç–∏–µ –¥–æ 100‚Äì200 –ö–ë, srcset –∏ –±–µ–∑ lazy –Ω–∞ –ø–µ—Ä–≤–æ–º —ç–∫—Ä–∞–Ω–µ.',
      '–û—Ç–∫–∞–∑ –æ—Ç srcset –∏ –º–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π —Ä–∞–∑–º–µ—Ä —Ñ–∞–π–ª–∞.',
      '–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ç–æ–ª—å–∫–æ PNG –±–µ–∑ —Å–∂–∞—Ç–∏—è.',
      '–î–æ–±–∞–≤–ª–µ–Ω–∏–µ loading="lazy" –¥–ª—è –ø–µ—Ä–≤–æ–≥–æ —ç–∫—Ä–∞–Ω–∞.'
    ],
    correctAnswer: 0,
    explanation:
      '–ë—ã—Å—Ç—Ä—ã–π hero —Ç—Ä–µ–±—É–µ—Ç —Å–∂–∞—Ç–∏—è, –∞–¥–∞–ø—Ç–∏–≤–∞ –∏ –∑–∞–≥—Ä—É–∑–∫–∏ –±–µ–∑ lazy.'
  },
  {
    question: '–ö–∞–∫–∞—è –æ—à–∏–±–∫–∞ —Å–≤—è–∑–∞–Ω–∞ —Å –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å—é –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π?',
    options: [
      '–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ñ–∞–π–ª—ã –ø–æ 1‚Äì2 –ú–ë –±–µ–∑ —Å–∂–∞—Ç–∏—è.',
      '–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å alt —Å –æ–ø–∏—Å–∞–Ω–∏–µ–º —Å–º—ã—Å–ª–∞.',
      '–£–∫–∞–∑—ã–≤–∞—Ç—å width –∏ height —É –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è.',
      '–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å picture –¥–ª—è —Ñ–æ—Ä–º–∞—Ç–æ–≤ AVIF/WebP.'
    ],
    correctAnswer: 0,
    explanation:
      '–ë–æ–ª—å—à–∏–µ –Ω–µ—Å–∂–∞—Ç—ã–µ —Ñ–∞–π–ª—ã –ø–µ—Ä–µ–≥—Ä—É–∂–∞—é—Ç —Å—Ç—Ä–∞–Ω–∏—Ü—É –∏ —É—Ö—É–¥—à–∞—é—Ç —Å–∫–æ—Ä–æ—Å—Ç—å.'
  },
  {
    question: '–ß—Ç–æ –ø–æ–º–æ–≥–∞–µ—Ç –≤—ã–±—Ä–∞—Ç—å —Ñ–æ—Ä–º–∞—Ç –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –≤ 2025‚Äì2026?',
    options: [
      'Picture —Å source, —á—Ç–æ–±—ã –æ—Ç–¥–∞—Ç—å AVIF/WebP –∏ –æ—Å—Ç–∞–≤–∏—Ç—å fallback.',
      'Figure —Å figcaption, —á—Ç–æ–±—ã –¥–æ–±–∞–≤–∏—Ç—å –ø–æ–¥–ø–∏—Å—å.',
      'Audio —Å source, —á—Ç–æ–±—ã –∑–∞–º–µ–Ω–∏—Ç—å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∑–≤—É–∫–æ–º.',
      'Track, —á—Ç–æ–±—ã –¥–æ–±–∞–≤–∏—Ç—å —Å—É–±—Ç–∏—Ç—Ä—ã –∫ –∫–∞—Ä—Ç–∏–Ω–∫–µ.'
    ],
    correctAnswer: 0,
    explanation:
      'Picture –∏ source –¥–∞—é—Ç –≥–∏–±–∫–æ—Å—Ç—å –≤—ã–±–æ—Ä–∞ —Ñ–æ—Ä–º–∞—Ç–∞ –∏ —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å.'
  }
];

async function addHtmlImagesMediaQuestions() {
  try {
    const lecture = await prisma.lecture.findFirst({
      where: { title: { in: [lectureTitle, legacyTitle] } }
    });

    if (!lecture) throw new Error('–õ–µ–∫—Ü–∏—è –Ω–µ –Ω–∞–π–¥–µ–Ω–∞');

    const test = await prisma.test.findFirst({
      where: { title: { in: [lectureTitle, legacyTitle] } }
    });

    if (!test) throw new Error('–¢–µ—Å—Ç –Ω–µ –Ω–∞–π–¥–µ–Ω');

    const removedLinks = await prisma.testQuestion.deleteMany({
      where: { testId: test.id }
    });

    const orphaned = await prisma.question.findMany({
      where: { lectureId: lecture.id, tests: { none: {} } },
      select: { id: true }
    });

    if (orphaned.length > 0) {
      await prisma.question.deleteMany({
        where: { id: { in: orphaned.map((item) => item.id) } }
      });
    }

    let nextOrder = 1;

    for (const q of questions) {
      const existing = await prisma.question.findFirst({
        where: { question: q.question }
      });

      let questionId: string;

      if (existing) {
        const updated = await prisma.question.update({
          where: { id: existing.id },
          data: {
            question: q.question,
            options: q.options,
            correctAnswer: q.correctAnswer,
            explanation: q.explanation,
            lectureId: lecture.id
          }
        });
        questionId = updated.id;
        console.log(`‚ôªÔ∏è  –û–±–Ω–æ–≤–ª–µ–Ω: ${q.question}`);
      } else {
        const created = await prisma.question.create({
          data: {
            question: q.question,
            options: q.options,
            correctAnswer: q.correctAnswer,
            explanation: q.explanation,
            lectureId: lecture.id
          }
        });
        questionId = created.id;
        console.log(`‚úÖ –°–æ–∑–¥–∞–Ω: ${q.question}`);
      }

      await prisma.testQuestion.create({
        data: {
          testId: test.id,
          questionId,
          order: nextOrder++
        }
      });
    }

    console.log(`üßπ –£–¥–∞–ª–µ–Ω–æ —Å—Ç–∞—Ä—ã—Ö —Å–≤—è–∑–µ–π: ${removedLinks.count}`);
    console.log(`üßº –£–¥–∞–ª–µ–Ω–æ —Å–∏—Ä–æ—Ç—Å–∫–∏—Ö –≤–æ–ø—Ä–æ—Å–æ–≤: ${orphaned.length}`);
    console.log(`üéâ –ì–æ—Ç–æ–≤–æ! –î–æ–±–∞–≤–ª–µ–Ω–æ/–æ–±–Ω–æ–≤–ª–µ–Ω–æ: ${questions.length} –≤–æ–ø—Ä–æ—Å–æ–≤`);
  } catch (error) {
    console.error('‚ùå –û—à–∏–±–∫–∞:', error);
  } finally {
    await prisma.$disconnect();
    await pool.end();
  }
}

addHtmlImagesMediaQuestions();
