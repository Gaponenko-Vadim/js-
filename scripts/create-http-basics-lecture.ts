import { PrismaClient } from '@prisma/client';
import { PrismaPg } from '@prisma/adapter-pg';
import { Pool } from 'pg';
import dotenv from 'dotenv';

dotenv.config();

const pool = new Pool({ connectionString: process.env.DATABASE_URL });
const adapter = new PrismaPg(pool);
const prisma = new PrismaClient({ adapter });

const lectureContent = `# HTTP –º–µ—Ç–æ–¥—ã: –æ—Å–Ω–æ–≤—ã

## –ß—Ç–æ —Ç–∞–∫–æ–µ HTTP?

**HTTP (HyperText Transfer Protocol)** ‚Äî —ç—Ç–æ –ø—Ä–æ—Ç–æ–∫–æ–ª –ø–µ—Ä–µ–¥–∞—á–∏ –¥–∞–Ω–Ω—ã—Ö, –∫–æ—Ç–æ—Ä—ã–π –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –æ–±—â–µ–Ω–∏—è –º–µ–∂–¥—É –∫–ª–∏–µ–Ω—Ç–æ–º (–Ω–∞–ø—Ä–∏–º–µ—Ä, –±—Ä–∞—É–∑–µ—Ä–æ–º) –∏ —Å–µ—Ä–≤–µ—Ä–æ–º. –ö–æ–≥–¥–∞ –≤—ã –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç–µ —Å–∞–π—Ç, –≤–∞—à –±—Ä–∞—É–∑–µ—Ä –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç HTTP –∑–∞–ø—Ä–æ—Å –Ω–∞ —Å–µ—Ä–≤–µ—Ä, –∞ —Å–µ—Ä–≤–µ—Ä –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç HTTP –æ—Ç–≤–µ—Ç —Å –¥–∞–Ω–Ω—ã–º–∏.

### –ü—Ä–æ—Å—Ç–∞—è –∞–Ω–∞–ª–æ–≥–∏—è üì¨

–ü—Ä–µ–¥—Å—Ç–∞–≤—å—Ç–µ, —á—Ç–æ HTTP ‚Äî —ç—Ç–æ –ø–æ—á—Ç–æ–≤–∞—è —Å–ª—É–∂–±–∞:
- **–í—ã (–∫–ª–∏–µ–Ω—Ç)** –ø–∏—à–µ—Ç–µ –ø–∏—Å—å–º–æ —Å –ø—Ä–æ—Å—å–±–æ–π
- **–ü–æ—á—Ç–∞–ª—å–æ–Ω (HTTP)** –¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –ø–∏—Å—å–º–æ
- **–ê–¥—Ä–µ—Å–∞—Ç (—Å–µ—Ä–≤–µ—Ä)** —á–∏—Ç–∞–µ—Ç –ø–∏—Å—å–º–æ –∏ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –æ—Ç–≤–µ—Ç
- **–ü–æ—á—Ç–∞–ª—å–æ–Ω** –¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –æ—Ç–≤–µ—Ç –æ–±—Ä–∞—Ç–Ω–æ –≤–∞–º

---

## –ß—Ç–æ —Ç–∞–∫–æ–µ REST API?

**REST (Representational State Transfer)** ‚Äî —ç—Ç–æ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–π —Å—Ç–∏–ª—å –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –≤–µ–±-—Å–µ—Ä–≤–∏—Å–æ–≤. REST API –∏—Å–ø–æ–ª—å–∑—É–µ—Ç HTTP –º–µ—Ç–æ–¥—ã –¥–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –æ–ø–µ—Ä–∞—Ü–∏–π —Å —Ä–µ—Å—É—Ä—Å–∞–º–∏.

**–†–µ—Å—É—Ä—Å** ‚Äî —ç—Ç–æ –ª—é–±–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è, —Å –∫–æ—Ç–æ—Ä–æ–π –º–æ–∂–Ω–æ —Ä–∞–±–æ—Ç–∞—Ç—å (–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å, —Ç–æ–≤–∞—Ä, —Å—Ç–∞—Ç—å—è –∏ —Ç.–¥.).

**–ü—Ä–∏–º–µ—Ä —Ä–µ—Å—É—Ä—Å–æ–≤:**
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏: \`/users\`
- –ö–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å: \`/users/123\`
- –°—Ç–∞—Ç—å–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è: \`/users/123/posts\`

---

## HTTP –ú–µ—Ç–æ–¥—ã (–≥–ª–∞–≥–æ–ª—ã –¥–µ–π—Å—Ç–≤–∏–π)

HTTP –º–µ—Ç–æ–¥—ã —É–∫–∞–∑—ã–≤–∞—é—Ç **–∫–∞–∫–æ–µ –¥–µ–π—Å—Ç–≤–∏–µ** –º—ã —Ö–æ—Ç–∏–º –≤—ã–ø–æ–ª–Ω–∏—Ç—å —Å —Ä–µ—Å—É—Ä—Å–æ–º.

### 1. GET ‚Äî –ü–æ–ª—É—á–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö üìñ

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –ó–∞–ø—Ä–æ—Å–∏—Ç—å –¥–∞–Ω–Ω—ã–µ —Å —Å–µ—Ä–≤–µ—Ä–∞ **–±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏—è** –∏—Ö —Å–æ—Å—Ç–æ—è–Ω–∏—è.

**–ê–Ω–∞–ª–æ–≥–∏—è:** –í—ã —Å–º–æ—Ç—Ä–∏—Ç–µ –∫–Ω–∏–≥—É –≤ –±–∏–±–ª–∏–æ—Ç–µ–∫–µ ‚Äî –ø—Ä–æ—Å—Ç–æ —á–∏—Ç–∞–µ—Ç–µ, –Ω–µ –∏–∑–º–µ–Ω—è—è —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ.

**–ü—Ä–∏–º–µ—Ä—ã:**
\`\`\`http
GET /users
‚Üí –ü–æ–ª—É—á–∏—Ç—å —Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

GET /users/123
‚Üí –ü–æ–ª—É—á–∏—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ —Å ID 123
\`\`\`

**–•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏:**
- ‚úÖ **–ë–µ–∑–æ–ø–∞—Å–Ω—ã–π (Safe)** ‚Äî –Ω–µ –∏–∑–º–µ–Ω—è–µ—Ç –¥–∞–Ω–Ω—ã–µ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ
- ‚úÖ **–ò–¥–µ–º–ø–æ—Ç–µ–Ω—Ç–Ω—ã–π** ‚Äî –º–æ–∂–Ω–æ –≤—ã–∑—ã–≤–∞—Ç—å –º–Ω–æ–≥–æ —Ä–∞–∑, —Ä–µ–∑—É–ª—å—Ç–∞—Ç –æ–¥–∏–Ω–∞–∫–æ–≤—ã–π
- ‚úÖ **–ö–µ—à–∏—Ä—É–µ–º—ã–π** ‚Äî –±—Ä–∞—É–∑–µ—Ä –º–æ–∂–µ—Ç —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç –¥–ª—è —É—Å–∫–æ—Ä–µ–Ω–∏—è
- ‚ùå **–ù–µ –¥–æ–ª–∂–µ–Ω –∏–º–µ—Ç—å —Ç–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞** (body)

**–ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:** –î–ª—è —á—Ç–µ–Ω–∏—è/–ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –¥–∞–Ω–Ω—ã—Ö

---

### 2. POST ‚Äî –°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤—ã—Ö –¥–∞–Ω–Ω—ã—Ö ‚ûï

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –û—Ç–ø—Ä–∞–≤–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –Ω–∞ —Å–µ—Ä–≤–µ—Ä –¥–ª—è **—Å–æ–∑–¥–∞–Ω–∏—è –Ω–æ–≤–æ–≥–æ —Ä–µ—Å—É—Ä—Å–∞**.

**–ê–Ω–∞–ª–æ–≥–∏—è:** –í—ã —Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–µ—Ç–µ—Å—å –Ω–∞ —Å–∞–π—Ç–µ ‚Äî —Å–æ–∑–¥–∞—ë—Ç—Å—è –Ω–æ–≤—ã–π –∞–∫–∫–∞—É–Ω—Ç.

**–ü—Ä–∏–º–µ—Ä—ã:**
\`\`\`http
POST /users
Body: {
  "name": "–ê–Ω–Ω–∞",
  "email": "anna@example.com"
}
‚Üí –°–æ–∑–¥–∞—Ç—å –Ω–æ–≤–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
\`\`\`

**–•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏:**
- ‚ùå **–ù–ï –±–µ–∑–æ–ø–∞—Å–Ω—ã–π** ‚Äî –∏–∑–º–µ–Ω—è–µ—Ç –¥–∞–Ω–Ω—ã–µ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ
- ‚ùå **–ù–ï –∏–¥–µ–º–ø–æ—Ç–µ–Ω—Ç–Ω—ã–π** ‚Äî –∫–∞–∂–¥—ã–π –≤—ã–∑–æ–≤ —Å–æ–∑–¥–∞—ë—Ç –Ω–æ–≤—ã–π —Ä–µ—Å—É—Ä—Å
- ‚úÖ **–ò–º–µ–µ—Ç —Ç–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞ (body)** —Å –¥–∞–Ω–Ω—ã–º–∏
- ‚úÖ **–û–±—ã—á–Ω–æ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å—Ç–∞—Ç—É—Å 201 Created** —Å —Å–æ–∑–¥–∞–Ω–Ω—ã–º —Ä–µ—Å—É—Ä—Å–æ–º

**–ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:** –î–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –Ω–æ–≤—ã—Ö –∑–∞–ø–∏—Å–µ–π

---

### 3. PUT ‚Äî –ü–æ–ª–Ω–∞—è –∑–∞–º–µ–Ω–∞ —Ä–µ—Å—É—Ä—Å–∞ üîÑ

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** **–ü–æ–ª–Ω–æ—Å—Ç—å—é –∑–∞–º–µ–Ω–∏—Ç—å** —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π —Ä–µ—Å—É—Ä—Å –Ω–æ–≤—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏.

**–ê–Ω–∞–ª–æ–≥–∏—è:** –í—ã –ø–µ—Ä–µ–ø–∏—Å—ã–≤–∞–µ—Ç–µ –≤–µ—Å—å –¥–æ–∫—É–º–µ–Ω—Ç –∑–∞–Ω–æ–≤–æ.

**–ü—Ä–∏–º–µ—Ä—ã:**
\`\`\`http
PUT /users/123
Body: {
  "name": "–ê–Ω–Ω–∞ –ò–≤–∞–Ω–æ–≤–∞",
  "email": "anna@example.com",
  "age": 25
}
‚Üí –ó–∞–º–µ–Ω–∏—Ç—å –í–°–ï –¥–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è 123
\`\`\`

**‚ö†Ô∏è –í–∞–∂–Ω–æ:** PUT —Ç—Ä–µ–±—É–µ—Ç **–ø–æ–ª–Ω–æ–≥–æ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è —Ä–µ—Å—É—Ä—Å–∞**. –ï—Å–ª–∏ –Ω–µ –ø–µ—Ä–µ–¥–∞—Ç—å –ø–æ–ª–µ, –æ–Ω–æ –º–æ–∂–µ—Ç –±—ã—Ç—å —É–¥–∞–ª–µ–Ω–æ –∏–ª–∏ –∑–∞–º–µ–Ω–µ–Ω–æ –Ω–∞ –∑–Ω–∞—á–µ–Ω–∏–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é!

**–•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏:**
- ‚ùå **–ù–ï –±–µ–∑–æ–ø–∞—Å–Ω—ã–π** ‚Äî –∏–∑–º–µ–Ω—è–µ—Ç –¥–∞–Ω–Ω—ã–µ
- ‚úÖ **–ò–¥–µ–º–ø–æ—Ç–µ–Ω—Ç–Ω—ã–π** ‚Äî –ø–æ–≤—Ç–æ—Ä–Ω—ã–µ –≤—ã–∑–æ–≤—ã –¥–∞—é—Ç —Ç–æ—Ç –∂–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç
- ‚úÖ **–î–æ–ª–∂–µ–Ω —Å–æ–¥–µ—Ä–∂–∞—Ç—å –ø–æ–ª–Ω–æ–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–∞**

**–ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:** –î–ª—è –ø–æ–ª–Ω–æ–π –∑–∞–º–µ–Ω—ã —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö –∑–∞–ø–∏—Å–µ–π

---

### 4. PATCH ‚Äî –ß–∞—Å—Ç–∏—á–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ ‚úèÔ∏è

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** **–û–±–Ω–æ–≤–∏—Ç—å —Ç–æ–ª—å–∫–æ –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ –ø–æ–ª—è** —Ä–µ—Å—É—Ä—Å–∞, –Ω–µ –∑–∞—Ç—Ä–∞–≥–∏–≤–∞—è –æ—Å—Ç–∞–ª—å–Ω—ã–µ.

**–ê–Ω–∞–ª–æ–≥–∏—è:** –í—ã –∏—Å–ø—Ä–∞–≤–ª—è–µ—Ç–µ –æ–ø–µ—á–∞—Ç–∫—É –≤ –¥–æ–∫—É–º–µ–Ω—Ç–µ, –Ω–µ –ø–µ—Ä–µ–ø–∏—Å—ã–≤–∞—è –≤—Å—ë.

**–ü—Ä–∏–º–µ—Ä—ã:**
\`\`\`http
PATCH /users/123
Body: {
  "age": 26
}
‚Üí –û–±–Ω–æ–≤–∏—Ç—å —Ç–æ–ª—å–∫–æ –≤–æ–∑—Ä–∞—Å—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è 123
\`\`\`

**–†–∞–∑–Ω–∏—Ü–∞ –º–µ–∂–¥—É PUT –∏ PATCH:**

| PUT | PATCH |
|-----|-------|
| –ü–æ–ª–Ω–∞—è –∑–∞–º–µ–Ω–∞ | –ß–∞—Å—Ç–∏—á–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ |
| –ù—É–∂–Ω—ã –≤—Å–µ –ø–æ–ª—è | –¢–æ–ª—å–∫–æ –∏–∑–º–µ–Ω—è–µ–º—ã–µ –ø–æ–ª—è |
| "–ü–µ—Ä–µ–∑–∞–ø–∏—Å–∞—Ç—å –≤—Å—ë" | "–ò–∑–º–µ–Ω–∏—Ç—å —Ç–æ–ª—å–∫–æ —ç—Ç–æ" |

**–•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏:**
- ‚ùå **–ù–ï –±–µ–∑–æ–ø–∞—Å–Ω—ã–π** ‚Äî –∏–∑–º–µ–Ω—è–µ—Ç –¥–∞–Ω–Ω—ã–µ
- ‚ö†Ô∏è **–ú–æ–∂–µ—Ç –±—ã—Ç—å –∏–¥–µ–º–ø–æ—Ç–µ–Ω—Ç–Ω—ã–º** (–∑–∞–≤–∏—Å–∏—Ç –æ—Ç —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏)
- ‚úÖ **–°–æ–¥–µ—Ä–∂–∏—Ç —Ç–æ–ª—å–∫–æ –∏–∑–º–µ–Ω—è–µ–º—ã–µ –ø–æ–ª—è**

**–ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:** –î–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –æ—Ç–¥–µ–ª—å–Ω—ã—Ö –ø–æ–ª–µ–π –∑–∞–ø–∏—Å–∏

---

### 5. DELETE ‚Äî –£–¥–∞–ª–µ–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–∞ üóëÔ∏è

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** **–£–¥–∞–ª–∏—Ç—å** —Ä–µ—Å—É—Ä—Å —Å —Å–µ—Ä–≤–µ—Ä–∞.

**–ê–Ω–∞–ª–æ–≥–∏—è:** –í—ã –≤—ã–±—Ä–∞—Å—ã–≤–∞–µ—Ç–µ –¥–æ–∫—É–º–µ–Ω—Ç –≤ –∫–æ—Ä–∑–∏–Ω—É.

**–ü—Ä–∏–º–µ—Ä—ã:**
\`\`\`http
DELETE /users/123
‚Üí –£–¥–∞–ª–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —Å ID 123
\`\`\`

**–•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏:**
- ‚ùå **–ù–ï –±–µ–∑–æ–ø–∞—Å–Ω—ã–π** ‚Äî –∏–∑–º–µ–Ω—è–µ—Ç –¥–∞–Ω–Ω—ã–µ
- ‚úÖ **–ò–¥–µ–º–ø–æ—Ç–µ–Ω—Ç–Ω—ã–π** ‚Äî –ø–æ–≤—Ç–æ—Ä–Ω–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ –Ω–µ –º–µ–Ω—è–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç (—É–∂–µ —É–¥–∞–ª–µ–Ω–æ)
- ‚ö†Ô∏è **–ú–æ–∂–µ—Ç –∏–º–µ—Ç—å —Ç–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞, –Ω–æ –Ω–µ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è**
- ‚úÖ **–û–±—ã—á–Ω–æ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç 204 No Content** (—É—Å–ø–µ—à–Ω–æ, –Ω–µ—Ç –¥–∞–Ω–Ω—ã—Ö –≤ –æ—Ç–≤–µ—Ç–µ)

**–ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:** –î–ª—è —É–¥–∞–ª–µ–Ω–∏—è –∑–∞–ø–∏—Å–µ–π

---

### 6. HEAD ‚Äî –ü–æ–ª—É—á–µ–Ω–∏–µ —Ç–æ–ª—å–∫–æ –∑–∞–≥–æ–ª–æ–≤–∫–æ–≤ üìã

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –ü–æ–ª—É—á–∏—Ç—å **—Ç–æ–ª—å–∫–æ –∑–∞–≥–æ–ª–æ–≤–∫–∏ –æ—Ç–≤–µ—Ç–∞**, –±–µ–∑ —Ç–µ–ª–∞ (body).

**–ê–Ω–∞–ª–æ–≥–∏—è:** –í—ã —Å–ø—Ä–∞—à–∏–≤–∞–µ—Ç–µ "—ç—Ç–∞ –∫–Ω–∏–≥–∞ –µ—Å—Ç—å –≤ –±–∏–±–ª–∏–æ—Ç–µ–∫–µ?", –Ω–µ —á–∏—Ç–∞—è –µ—ë.

**–ü—Ä–∏–º–µ—Ä—ã:**
\`\`\`http
HEAD /users/123
‚Üí –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –±–µ–∑ –ø–æ–ª—É—á–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö
\`\`\`

**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:**
- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–∞
- –£–∑–Ω–∞—Ç—å —Ä–∞–∑–º–µ—Ä —Ñ–∞–π–ª–∞ –ø–µ—Ä–µ–¥ –∑–∞–≥—Ä—É–∑–∫–æ–π
- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –¥–∞—Ç—É –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –∏–∑–º–µ–Ω–µ–Ω–∏—è

**–•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏:**
- ‚úÖ **–ë–µ–∑–æ–ø–∞—Å–Ω—ã–π** ‚Äî –Ω–µ –∏–∑–º–µ–Ω—è–µ—Ç –¥–∞–Ω–Ω—ã–µ
- ‚úÖ **–ò–¥–µ–º–ø–æ—Ç–µ–Ω—Ç–Ω—ã–π**
- ‚úÖ **–†–∞–±–æ—Ç–∞–µ—Ç –∫–∞–∫ GET**, –Ω–æ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ç–æ–ª—å–∫–æ –∑–∞–≥–æ–ª–æ–≤–∫–∏

---

### 7. OPTIONS ‚Äî –£–∑–Ω–∞—Ç—å —Ä–∞–∑—Ä–µ—à—ë–Ω–Ω—ã–µ –º–µ—Ç–æ–¥—ã üîç

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –£–∑–Ω–∞—Ç—å **–∫–∞–∫–∏–µ HTTP –º–µ—Ç–æ–¥—ã —Ä–∞–∑—Ä–µ—à–µ–Ω—ã** –¥–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ —Ä–µ—Å—É—Ä—Å–∞.

**–ê–Ω–∞–ª–æ–≥–∏—è:** –í—ã —Å–ø—Ä–∞—à–∏–≤–∞–µ—Ç–µ "—á—Ç–æ —è –º–æ–≥—É –¥–µ–ª–∞—Ç—å —Å —ç—Ç–∏–º?".

**–ü—Ä–∏–º–µ—Ä—ã:**
\`\`\`http
OPTIONS /users
‚Üí –£–∑–Ω–∞—Ç—å —Ä–∞–∑—Ä–µ—à—ë–Ω–Ω—ã–µ –º–µ—Ç–æ–¥—ã (–Ω–∞–ø—Ä–∏–º–µ—Ä: GET, POST, OPTIONS)
\`\`\`

**–û—Ç–≤–µ—Ç —Å–µ—Ä–≤–µ—Ä–∞:**
\`\`\`http
Allow: GET, POST, HEAD, OPTIONS
Access-Control-Allow-Methods: GET, POST
\`\`\`

**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:**
- CORS preflight –∑–∞–ø—Ä–æ—Å—ã
- –£–∑–Ω–∞—Ç—å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ API
- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è –¥–æ—Å—Ç—É–ø–∞

**–ó–∞–≥–æ–ª–æ–≤–æ–∫ —Å —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–º:** \`Allow\` —Å–æ–¥–µ—Ä–∂–∏—Ç —Å–ø–∏—Å–æ–∫ —Ä–∞–∑—Ä–µ—à—ë–Ω–Ω—ã—Ö –º–µ—Ç–æ–¥–æ–≤

---

### 8. TRACE ‚Äî –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –ø—É—Ç–∏ –∑–∞–ø—Ä–æ—Å–∞ üõ†Ô∏è

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è **–¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏** ‚Äî –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –ø—É—Ç—å –∑–∞–ø—Ä–æ—Å–∞ —á–µ—Ä–µ–∑ –ø—Ä–æ–∫—Å–∏-—Å–µ—Ä–≤–µ—Ä—ã.

**–ê–Ω–∞–ª–æ–≥–∏—è:** –û—Ç—Å–ª–µ–¥–∏—Ç—å –ø—É—Ç—å –ø–∏—Å—å–º–∞ —á–µ—Ä–µ–∑ –ø–æ—á—Ç–æ–≤—ã–µ –æ—Ç–¥–µ–ª–µ–Ω–∏—è.

**–ü—Ä–∏–º–µ—Ä—ã:**
\`\`\`http
TRACE /users
‚Üí –ü–æ–∫–∞–∑–∞—Ç—å –ø—É—Ç—å –∑–∞–ø—Ä–æ—Å–∞
\`\`\`

**‚ö†Ô∏è –í–∞–∂–Ω–æ:** TRACE —Ä–µ–¥–∫–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ production –∏–∑-–∑–∞ —Å–æ–æ–±—Ä–∞–∂–µ–Ω–∏–π –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏.

---

## –ò–¥–µ–º–ø–æ—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å –º–µ—Ç–æ–¥–æ–≤

**–ò–¥–µ–º–ø–æ—Ç–µ–Ω—Ç–Ω—ã–π –º–µ—Ç–æ–¥** ‚Äî —ç—Ç–æ –º–µ—Ç–æ–¥, –∫–æ—Ç–æ—Ä—ã–π –º–æ–∂–Ω–æ –≤—ã–∑—ã–≤–∞—Ç—å –º–Ω–æ–≥–æ —Ä–∞–∑ —Å **–æ–¥–∏–Ω–∞–∫–æ–≤—ã–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–º**.

### –ò–¥–µ–º–ø–æ—Ç–µ–Ω—Ç–Ω—ã–µ –º–µ—Ç–æ–¥—ã ‚úÖ

| –ú–µ—Ç–æ–¥ | –ü–æ—á–µ–º—É –∏–¥–µ–º–ø–æ—Ç–µ–Ω—Ç–Ω—ã–π? |
|-------|----------------------|
| **GET** | –ß—Ç–µ–Ω–∏–µ –Ω–µ –º–µ–Ω—è–µ—Ç –¥–∞–Ω–Ω—ã–µ |
| **PUT** | –ó–∞–º–µ–Ω–∞ –≤—Å–µ–≥–¥–∞ –ø—Ä–∏–≤–æ–¥–∏—Ç –∫ –æ–¥–Ω–æ–º—É —Å–æ—Å—Ç–æ—è–Ω–∏—é |
| **DELETE** | –ü–æ–≤—Ç–æ—Ä–Ω–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ –Ω–µ –º–µ–Ω—è–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç |
| **HEAD** | –¢–æ–ª—å–∫–æ –∑–∞–≥–æ–ª–æ–≤–∫–∏, –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π |
| **OPTIONS** | –¢–æ–ª—å–∫–æ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –º–µ—Ç–æ–¥–∞—Ö |

### –ù–ï –∏–¥–µ–º–ø–æ—Ç–µ–Ω—Ç–Ω—ã–µ –º–µ—Ç–æ–¥—ã ‚ùå

| –ú–µ—Ç–æ–¥ | –ü–æ—á–µ–º—É –ù–ï –∏–¥–µ–º–ø–æ—Ç–µ–Ω—Ç–Ω—ã–π? |
|-------|-------------------------|
| **POST** | –ö–∞–∂–¥—ã–π –≤—ã–∑–æ–≤ —Å–æ–∑–¥–∞—ë—Ç –Ω–æ–≤—ã–π —Ä–µ—Å—É—Ä—Å |
| **PATCH** | –ú–æ–∂–µ—Ç –∑–∞–≤–∏—Å–µ—Ç—å –æ—Ç —Ç–µ–∫—É—â–µ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è |

**–ü—Ä–∏–º–µ—Ä:**

\`\`\`javascript
// PUT ‚Äî –∏–¥–µ–º–ø–æ—Ç–µ–Ω—Ç–Ω—ã–π ‚úÖ
PUT /users/123 { "age": 30 }  // age = 30
PUT /users/123 { "age": 30 }  // age = 30 (—Ç–æ—Ç –∂–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç!)

// POST ‚Äî –ù–ï –∏–¥–µ–º–ø–æ—Ç–µ–Ω—Ç–Ω—ã–π ‚ùå
POST /users { "name": "–ò–≤–∞–Ω" }  // –°–æ–∑–¥–∞–ª—Å—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å ID=1
POST /users { "name": "–ò–≤–∞–Ω" }  // –°–æ–∑–¥–∞–ª—Å—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å ID=2 (—Ä–∞–∑–Ω—ã–µ!)
\`\`\`

---

## –ë–µ–∑–æ–ø–∞—Å–Ω—ã–µ (Safe) –º–µ—Ç–æ–¥—ã

**–ë–µ–∑–æ–ø–∞—Å–Ω—ã–π –º–µ—Ç–æ–¥** ‚Äî —ç—Ç–æ –º–µ—Ç–æ–¥, –∫–æ—Ç–æ—Ä—ã–π **–Ω–µ –∏–∑–º–µ–Ω—è–µ—Ç —Å–æ—Å—Ç–æ—è–Ω–∏–µ —Å–µ—Ä–≤–µ—Ä–∞**.

### –ë–µ–∑–æ–ø–∞—Å–Ω—ã–µ –º–µ—Ç–æ–¥—ã ‚úÖ

- **GET** ‚Äî —Ç–æ–ª—å–∫–æ —á—Ç–µ–Ω–∏–µ
- **HEAD** ‚Äî —Ç–æ–ª—å–∫–æ –∑–∞–≥–æ–ª–æ–≤–∫–∏
- **OPTIONS** ‚Äî —Ç–æ–ª—å–∫–æ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è

### –ù–ï –±–µ–∑–æ–ø–∞—Å–Ω—ã–µ –º–µ—Ç–æ–¥—ã ‚ùå

- **POST** ‚Äî —Å–æ–∑–¥–∞—ë—Ç —Ä–µ—Å—É—Ä—Å
- **PUT** ‚Äî –∑–∞–º–µ–Ω—è–µ—Ç —Ä–µ—Å—É—Ä—Å
- **PATCH** ‚Äî –∏–∑–º–µ–Ω—è–µ—Ç —Ä–µ—Å—É—Ä—Å
- **DELETE** ‚Äî —É–¥–∞–ª—è–µ—Ç —Ä–µ—Å—É—Ä—Å

**–í–∞–∂–Ω–æ:** –ë–µ–∑–æ–ø–∞—Å–Ω—ã–µ –º–µ—Ç–æ–¥—ã –¥–æ–ª–∂–Ω—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è —Ç–æ–ª—å–∫–æ –¥–ª—è —á—Ç–µ–Ω–∏—è. –ù–∏–∫–æ–≥–¥–∞ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ GET –¥–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö!

‚ùå **–ü–ª–æ—Ö–æ:**
\`\`\`http
GET /users/123/delete  <!-- –£–¥–∞–ª–µ–Ω–∏–µ —á–µ—Ä–µ–∑ GET! -->
\`\`\`

‚úÖ **–•–æ—Ä–æ—à–æ:**
\`\`\`http
DELETE /users/123  <!-- –ü—Ä–∞–≤–∏–ª—å–Ω–æ! -->
\`\`\`

---

## –ö–µ—à–∏—Ä—É–µ–º—ã–µ –º–µ—Ç–æ–¥—ã

**–ö–µ—à–∏—Ä—É–µ–º—ã–π –º–µ—Ç–æ–¥** ‚Äî —ç—Ç–æ –º–µ—Ç–æ–¥, —Ä–µ–∑—É–ª—å—Ç–∞—Ç –∫–æ—Ç–æ—Ä–æ–≥–æ –º–æ–∂–µ—Ç –±—ã—Ç—å —Å–æ—Ö—Ä–∞–Ω—ë–Ω –±—Ä–∞—É–∑–µ—Ä–æ–º –¥–ª—è –ø–æ–≤—Ç–æ—Ä–Ω–æ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è.

### –ö–µ—à–∏—Ä—É–µ–º—ã–µ –º–µ—Ç–æ–¥—ã:

- **GET** ‚Äî –¥–∞, –∫–µ—à–∏—Ä—É–µ—Ç—Å—è –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
- **HEAD** ‚Äî –¥–∞
- **POST** ‚Äî –≤ —Ç–µ–æ—Ä–∏–∏ –º–æ–∂–Ω–æ, –Ω–æ –æ–±—ã—á–Ω–æ –Ω–µ –∫–µ—à–∏—Ä—É–µ—Ç—Å—è

**–ó–∞–≤–∏—Å–∏—Ç –æ—Ç –∑–∞–≥–æ–ª–æ–≤–∫–æ–≤:**
- \`Cache-Control\`
- \`Expires\`
- \`ETag\`
- \`Last-Modified\`

---

## –°–≤–æ–¥–Ω–∞—è —Ç–∞–±–ª–∏—Ü–∞ HTTP –º–µ—Ç–æ–¥–æ–≤

| –ú–µ—Ç–æ–¥ | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ | –ë–µ–∑–æ–ø–∞—Å–Ω—ã–π | –ò–¥–µ–º–ø–æ—Ç–µ–Ω—Ç–Ω—ã–π | –ö–µ—à–∏—Ä—É–µ–º—ã–π | –¢–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞ |
|-------|-----------|-----------|--------------|-----------|-------------|
| **GET** | –ü–æ–ª—É—á–∏—Ç—å –¥–∞–Ω–Ω—ã–µ | ‚úÖ –î–∞ | ‚úÖ –î–∞ | ‚úÖ –î–∞ | ‚ùå –ù–µ—Ç |
| **POST** | –°–æ–∑–¥–∞—Ç—å —Ä–µ—Å—É—Ä—Å | ‚ùå –ù–µ—Ç | ‚ùå –ù–µ—Ç | ‚ö†Ô∏è –†–µ–¥–∫–æ | ‚úÖ –î–∞ |
| **PUT** | –ó–∞–º–µ–Ω–∏—Ç—å —Ä–µ—Å—É—Ä—Å | ‚ùå –ù–µ—Ç | ‚úÖ –î–∞ | ‚ùå –ù–µ—Ç | ‚úÖ –î–∞ (–ø–æ–ª–Ω—ã–π) |
| **PATCH** | –û–±–Ω–æ–≤–∏—Ç—å —á–∞—Å—Ç—å | ‚ùå –ù–µ—Ç | ‚ö†Ô∏è –ú–æ–∂–µ—Ç –±—ã—Ç—å | ‚ùå –ù–µ—Ç | ‚úÖ –î–∞ (—á–∞—Å—Ç–∏—á–Ω—ã–π) |
| **DELETE** | –£–¥–∞–ª–∏—Ç—å —Ä–µ—Å—É—Ä—Å | ‚ùå –ù–µ—Ç | ‚úÖ –î–∞ | ‚ùå –ù–µ—Ç | ‚ö†Ô∏è –ú–æ–∂–µ—Ç –±—ã—Ç—å |
| **HEAD** | –ü–æ–ª—É—á–∏—Ç—å –∑–∞–≥–æ–ª–æ–≤–∫–∏ | ‚úÖ –î–∞ | ‚úÖ –î–∞ | ‚úÖ –î–∞ | ‚ùå –ù–µ—Ç |
| **OPTIONS** | –£–∑–Ω–∞—Ç—å –º–µ—Ç–æ–¥—ã | ‚úÖ –î–∞ | ‚úÖ –î–∞ | ‚ùå –ù–µ—Ç | ‚ùå –ù–µ—Ç |
| **TRACE** | –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ | ‚úÖ –î–∞ | ‚úÖ –î–∞ | ‚ùå –ù–µ—Ç | ‚ùå –ù–µ—Ç |

---

## –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–∏–º–µ—Ä—ã

### –ü—Ä–∏–º–µ—Ä 1: –†–∞–±–æ—Ç–∞ —Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏

\`\`\`http
# –ü–æ–ª—É—á–∏—Ç—å —Å–ø–∏—Å–æ–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
GET /api/users

# –°–æ–∑–¥–∞—Ç—å –Ω–æ–≤–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
POST /api/users
Body: { "name": "–ê–Ω–Ω–∞", "email": "anna@example.com" }

# –ü–æ–ª—É—á–∏—Ç—å –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
GET /api/users/123

# –ü–æ–ª–Ω–æ—Å—Ç—å—é –∑–∞–º–µ–Ω–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
PUT /api/users/123
Body: { "name": "–ê–Ω–Ω–∞ –ò–≤–∞–Ω–æ–≤–∞", "email": "anna@example.com", "age": 25 }

# –û–±–Ω–æ–≤–∏—Ç—å —Ç–æ–ª—å–∫–æ –∏–º—è
PATCH /api/users/123
Body: { "name": "–ê–Ω–Ω–∞ –ü–µ—Ç—Ä–æ–≤–∞" }

# –£–¥–∞–ª–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
DELETE /api/users/123

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏–µ
HEAD /api/users/123

# –£–∑–Ω–∞—Ç—å —Ä–∞–∑—Ä–µ—à—ë–Ω–Ω—ã–µ –º–µ—Ç–æ–¥—ã
OPTIONS /api/users
\`\`\`

### –ü—Ä–∏–º–µ—Ä 2: –ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å PUT vs PATCH

**–°—Ü–µ–Ω–∞—Ä–∏–π:** –£ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –µ—Å—Ç—å –ø—Ä–æ—Ñ–∏–ª—å:
\`\`\`json
{
  "id": "123",
  "name": "–ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤",
  "email": "ivan@example.com",
  "age": 30,
  "city": "–ú–æ—Å–∫–≤–∞"
}
\`\`\`

**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å PUT:**
\`\`\`http
PUT /users/123
Body: {
  "name": "–ò–≤–∞–Ω –ü–µ—Ç—Ä–æ–≤",
  "email": "ivan.petrov@example.com",
  "age": 31,
  "city": "–°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥"
}
\`\`\`
‚Üí –ó–∞–º–µ–Ω—è–µ–º –í–°–ï –¥–∞–Ω–Ω—ã–µ (–µ—Å–ª–∏ –∑–∞–±—É–¥–µ–º –ø–æ–ª–µ, –æ–Ω–æ –º–æ–∂–µ—Ç —É–¥–∞–ª–∏—Ç—å—Å—è!)

**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å PATCH:**
\`\`\`http
PATCH /users/123
Body: {
  "city": "–°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥"
}
\`\`\`
‚Üí –ò–∑–º–µ–Ω—è–µ–º —Ç–æ–ª—å–∫–æ –≥–æ—Ä–æ–¥, –æ—Å—Ç–∞–ª—å–Ω–æ–µ –Ω–µ —Ç—Ä–æ–≥–∞–µ–º

---

## –ß–∞—Å—Ç—ã–µ –æ—à–∏–±–∫–∏ –∏ –∫–∞–∫ –∏—Ö –∏–∑–±–µ–∂–∞—Ç—å

### ‚ùå –û—à–∏–±–∫–∞ 1: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ GET –¥–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö

\`\`\`http
‚ùå –ü–ª–æ—Ö–æ: GET /users/123/activate
‚úÖ –•–æ—Ä–æ—à–æ: POST /users/123/activate
‚úÖ –•–æ—Ä–æ—à–æ: PATCH /users/123 { "active": true }
\`\`\`

### ‚ùå –û—à–∏–±–∫–∞ 2: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ POST –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è

\`\`\`http
‚ùå –ü–ª–æ—Ö–æ: POST /users/123/update
‚úÖ –•–æ—Ä–æ—à–æ: PUT /users/123 (–ø–æ–ª–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ)
‚úÖ –•–æ—Ä–æ—à–æ: PATCH /users/123 (—á–∞—Å—Ç–∏—á–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ)
\`\`\`

### ‚ùå –û—à–∏–±–∫–∞ 3: –ù–µ–ø–æ–ª–Ω—ã–π PUT –∑–∞–ø—Ä–æ—Å

\`\`\`http
‚ùå –ü–ª–æ—Ö–æ: PUT /users/123 { "age": 31 }
‚úÖ –•–æ—Ä–æ—à–æ: PUT /users/123 { "name": "...", "email": "...", "age": 31, "city": "..." }
‚úÖ –ò–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ: PATCH /users/123 { "age": 31 }
\`\`\`

---

## –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

**–ö–ª—é—á–µ–≤—ã–µ –º–æ–º–µ–Ω—Ç—ã:**

1. **GET** ‚Äî —Ç–æ–ª—å–∫–æ –¥–ª—è —á—Ç–µ–Ω–∏—è (–±–µ–∑–æ–ø–∞—Å–Ω—ã–π, –∏–¥–µ–º–ø–æ—Ç–µ–Ω—Ç–Ω—ã–π, –∫–µ—à–∏—Ä—É–µ–º—ã–π)
2. **POST** ‚Äî –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è (–Ω–µ –∏–¥–µ–º–ø–æ—Ç–µ–Ω—Ç–Ω—ã–π)
3. **PUT** ‚Äî –¥–ª—è –ø–æ–ª–Ω–æ–π –∑–∞–º–µ–Ω—ã (–∏–¥–µ–º–ø–æ—Ç–µ–Ω—Ç–Ω—ã–π, —Ç—Ä–µ–±—É–µ—Ç –≤—Å–µ –ø–æ–ª—è)
4. **PATCH** ‚Äî –¥–ª—è —á–∞—Å—Ç–∏—á–Ω–æ–≥–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è (—Ç–æ–ª—å–∫–æ –Ω—É–∂–Ω—ã–µ –ø–æ–ª—è)
5. **DELETE** ‚Äî –¥–ª—è —É–¥–∞–ª–µ–Ω–∏—è (–∏–¥–µ–º–ø–æ—Ç–µ–Ω—Ç–Ω—ã–π)
6. **HEAD** ‚Äî –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Ç–æ–ª—å–∫–æ –∑–∞–≥–æ–ª–æ–≤–∫–æ–≤
7. **OPTIONS** ‚Äî –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Ä–∞–∑—Ä–µ—à—ë–Ω–Ω—ã—Ö –º–µ—Ç–æ–¥–æ–≤
8. **TRACE** ‚Äî –¥–ª—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏ (—Ä–µ–¥–∫–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è)

**–ü—Ä–∞–≤–∏–ª–æ –≤—ã–±–æ—Ä–∞ –º–µ—Ç–æ–¥–∞:**
- –ß–∏—Ç–∞–µ–º ‚Üí **GET**
- –°–æ–∑–¥–∞—ë–º ‚Üí **POST**
- –ó–∞–º–µ–Ω—è–µ–º –ø–æ–ª–Ω–æ—Å—Ç—å—é ‚Üí **PUT**
- –ò–∑–º–µ–Ω—è–µ–º —á–∞—Å—Ç—å ‚Üí **PATCH**
- –£–¥–∞–ª—è–µ–º ‚Üí **DELETE**
- –ü—Ä–æ–≤–µ—Ä—è–µ–º —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏–µ ‚Üí **HEAD**
- –£–∑–Ω–∞—ë–º –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ ‚Üí **OPTIONS**

–ü–æ–Ω–∏–º–∞–Ω–∏–µ HTTP –º–µ—Ç–æ–¥–æ–≤ ‚Äî —ç—Ç–æ –æ—Å–Ω–æ–≤–∞ —Ä–∞–±–æ—Ç—ã —Å –ª—é–±—ã–º REST API! üöÄ
`;

async function createLecture() {
  try {
    console.log('üìö –°–æ–∑–¥–∞–Ω–∏–µ —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–π –ª–µ–∫—Ü–∏–∏ –¥–ª—è —Ç–µ—Å—Ç–∞ "HTTP –º–µ—Ç–æ–¥—ã: –æ—Å–Ω–æ–≤—ã"...\n');

    // –£–¥–∞–ª—è–µ–º —Å—Ç–∞—Ä—ã–µ –ª–µ–∫—Ü–∏–∏ –∏ –ø—Ä–∏–≤—è–∑–∫–∏
    console.log('üóëÔ∏è –£–¥–∞–ª–µ–Ω–∏–µ —Å—Ç–∞—Ä—ã—Ö –ª–µ–∫—Ü–∏–π...');
    await prisma.question.updateMany({
      data: {
        lectureId: null,
      },
    });
    await prisma.lecture.deleteMany({});
    console.log('‚úÖ –°—Ç–∞—Ä—ã–µ –¥–∞–Ω–Ω—ã–µ —É–¥–∞–ª–µ–Ω—ã\n');

    // –°–æ–∑–¥–∞–µ–º –Ω–æ–≤—É—é –ª–µ–∫—Ü–∏—é
    const lecture = await prisma.lecture.create({
      data: {
        title: 'HTTP –º–µ—Ç–æ–¥—ã: –æ—Å–Ω–æ–≤—ã',
        topic: 'HTTP –º–µ—Ç–æ–¥—ã',
        content: lectureContent,
      },
    });

    console.log('‚úÖ –õ–µ–∫—Ü–∏—è —Å–æ–∑–¥–∞–Ω–∞ —É—Å–ø–µ—à–Ω–æ!');
    console.log(`üìù ID –ª–µ–∫—Ü–∏–∏: ${lecture.id}\n`);

    // –ù–∞—Ö–æ–¥–∏–º —Ç–µ—Å—Ç
    const test = await prisma.test.findFirst({
      where: {
        title: 'HTTP –º–µ—Ç–æ–¥—ã: –æ—Å–Ω–æ–≤—ã',
      },
      include: {
        questions: true,
      },
    });

    if (!test) {
      console.log('‚ùå –¢–µ—Å—Ç –Ω–µ –Ω–∞–π–¥–µ–Ω');
      return;
    }

    // –ü—Ä–∏–≤—è–∑—ã–≤–∞–µ–º –ª–µ–∫—Ü–∏—é –∫ –≤–æ–ø—Ä–æ—Å–∞–º —ç—Ç–æ–≥–æ —Ç–µ—Å—Ç–∞
    const questionIds = test.questions.map((tq) => tq.questionId);

    console.log(`üîó –ü—Ä–∏–≤—è–∑–∫–∞ –ª–µ–∫—Ü–∏–∏ –∫ ${questionIds.length} –≤–æ–ø—Ä–æ—Å–∞–º...`);

    for (const questionId of questionIds) {
      await prisma.question.update({
        where: { id: questionId },
        data: { lectureId: lecture.id },
      });
    }

    console.log(`‚úÖ –õ–µ–∫—Ü–∏—è –ø—Ä–∏–≤—è–∑–∞–Ω–∞ –∫ ${questionIds.length} –≤–æ–ø—Ä–æ—Å–∞–º`);
    console.log('\nüéâ –ì–æ—Ç–æ–≤–æ! –õ–µ–∫—Ü–∏—è —Å–æ–∑–¥–∞–Ω–∞ –∏ –ø—Ä–∏–≤—è–∑–∞–Ω–∞ —Ç–æ–ª—å–∫–æ –∫ –≤–æ–ø—Ä–æ—Å–∞–º —Ç–µ—Å—Ç–∞ "HTTP –º–µ—Ç–æ–¥—ã: –æ—Å–Ω–æ–≤—ã"');
  } catch (error) {
    console.error('‚ùå –û—à–∏–±–∫–∞:', error);
    throw error;
  } finally {
    await prisma.$disconnect();
  }
}

createLecture();
