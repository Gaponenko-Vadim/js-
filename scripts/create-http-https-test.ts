import { PrismaClient } from '@prisma/client';
import { PrismaPg } from '@prisma/adapter-pg';
import { Pool } from 'pg';
import dotenv from 'dotenv';
import path from 'path';

const envPath = path.resolve(__dirname, '..', '.env');
dotenv.config({ path: envPath });

if (!process.env.DATABASE_URL) {
  console.error('âŒ DATABASE_URL Ð½Ðµ Ð·Ð°Ð³Ñ€ÑƒÐ¶ÐµÐ½');
  process.exit(1);
}

const pool = new Pool({ connectionString: process.env.DATABASE_URL });
const adapter = new PrismaPg(pool);
const prisma = new PrismaClient({ adapter });

const questions = [
  // Ð‘Ð°Ð·Ð¾Ð²Ð¾Ðµ Ð¿Ð¾Ð½Ð¸Ð¼Ð°Ð½Ð¸Ðµ HTTP (Ð²Ð¾Ð¿Ñ€Ð¾ÑÑ‹ 1-5)
  {
    question: "Ð§Ñ‚Ð¾ Ð¾Ð·Ð½Ð°Ñ‡Ð°ÐµÑ‚ Ð°Ð±Ð±Ñ€ÐµÐ²Ð¸Ð°Ñ‚ÑƒÑ€Ð° HTTP?",
    options: [
      "HyperText Transfer Protocol",
      "High Transfer Text Protocol",
      "HyperText Transmission Protocol",
      "HyperLink Transfer Protocol"
    ],
    correctAnswer: 0,
    explanation: "HTTP Ñ€Ð°ÑÑˆÐ¸Ñ„Ñ€Ð¾Ð²Ñ‹Ð²Ð°ÐµÑ‚ÑÑ ÐºÐ°Ðº HyperText Transfer Protocol â€” Ð¿Ñ€Ð¾Ñ‚Ð¾ÐºÐ¾Ð» Ð¿ÐµÑ€ÐµÐ´Ð°Ñ‡Ð¸ Ð³Ð¸Ð¿ÐµÑ€Ñ‚ÐµÐºÑÑ‚Ð°. Ð Ð°Ð·Ñ€Ð°Ð±Ð¾Ñ‚Ð°Ð½ Ð´Ð»Ñ Ð¿ÐµÑ€ÐµÐ´Ð°Ñ‡Ð¸ HTML Ð´Ð¾ÐºÑƒÐ¼ÐµÐ½Ñ‚Ð¾Ð², Ð½Ð¾ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐµÑ‚ÑÑ Ð´Ð»Ñ Ð»ÑŽÐ±Ñ‹Ñ… Ð´Ð°Ð½Ð½Ñ‹Ñ… (JSON, XML, Ñ„Ð°Ð¹Ð»Ñ‹)."
  },
  {
    question: "ÐÐ° ÐºÐ°ÐºÐ¾Ð¼ Ð¿Ð¾Ñ€Ñ‚Ñƒ Ð¿Ð¾ ÑƒÐ¼Ð¾Ð»Ñ‡Ð°Ð½Ð¸ÑŽ Ñ€Ð°Ð±Ð¾Ñ‚Ð°ÐµÑ‚ HTTP?",
    options: [
      "443",
      "80",
      "8080",
      "3000"
    ],
    correctAnswer: 1,
    explanation: "HTTP Ð¿Ð¾ ÑƒÐ¼Ð¾Ð»Ñ‡Ð°Ð½Ð¸ÑŽ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐµÑ‚ Ð¿Ð¾Ñ€Ñ‚ 80. HTTPS Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐµÑ‚ Ð¿Ð¾Ñ€Ñ‚ 443. ÐŸÐ¾Ñ€Ñ‚Ñ‹ 8080 Ð¸ 3000 Ñ‡Ð°ÑÑ‚Ð¾ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÑŽÑ‚ÑÑ Ð´Ð»Ñ development ÑÐµÑ€Ð²ÐµÑ€Ð¾Ð², Ð½Ð¾ Ð½Ðµ ÑÐ²Ð»ÑÑŽÑ‚ÑÑ ÑÑ‚Ð°Ð½Ð´Ð°Ñ€Ñ‚Ð½Ñ‹Ð¼Ð¸."
  },
  {
    question: "ÐšÐ°ÐºÐ¾Ð¹ ÑƒÑ€Ð¾Ð²ÐµÐ½ÑŒ Ð¼Ð¾Ð´ÐµÐ»Ð¸ OSI Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐµÑ‚ HTTP?",
    options: [
      "Ð¢Ñ€Ð°Ð½ÑÐ¿Ð¾Ñ€Ñ‚Ð½Ñ‹Ð¹ (4)",
      "Ð¡ÐµÑ‚ÐµÐ²Ð¾Ð¹ (3)",
      "ÐŸÑ€Ð¸ÐºÐ»Ð°Ð´Ð½Ð¾Ð¹ (7)",
      "ÐšÐ°Ð½Ð°Ð»ÑŒÐ½Ñ‹Ð¹ (2)"
    ],
    correctAnswer: 2,
    explanation: "HTTP Ñ€Ð°Ð±Ð¾Ñ‚Ð°ÐµÑ‚ Ð½Ð° Ð¿Ñ€Ð¸ÐºÐ»Ð°Ð´Ð½Ð¾Ð¼ ÑƒÑ€Ð¾Ð²Ð½Ðµ (Application Layer, ÑƒÑ€Ð¾Ð²ÐµÐ½ÑŒ 7) Ð¼Ð¾Ð´ÐµÐ»Ð¸ OSI. Ð˜ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐµÑ‚ TCP Ð½Ð° Ñ‚Ñ€Ð°Ð½ÑÐ¿Ð¾Ñ€Ñ‚Ð½Ð¾Ð¼ ÑƒÑ€Ð¾Ð²Ð½Ðµ Ð´Ð»Ñ Ð½Ð°Ð´ÐµÐ¶Ð½Ð¾Ð¹ Ð´Ð¾ÑÑ‚Ð°Ð²ÐºÐ¸ Ð´Ð°Ð½Ð½Ñ‹Ñ…."
  },
  {
    question: "HTTP ÑÐ²Ð»ÑÐµÑ‚ÑÑ Ð¿Ñ€Ð¾Ñ‚Ð¾ÐºÐ¾Ð»Ð¾Ð¼ Ð±ÐµÐ· ÑÐ¾Ñ…Ñ€Ð°Ð½ÐµÐ½Ð¸Ñ ÑÐ¾ÑÑ‚Ð¾ÑÐ½Ð¸Ñ (stateless). Ð§Ñ‚Ð¾ ÑÑ‚Ð¾ Ð·Ð½Ð°Ñ‡Ð¸Ñ‚?",
    options: [
      "Ð¡ÐµÑ€Ð²ÐµÑ€ Ð½Ðµ ÑÐ¾Ñ…Ñ€Ð°Ð½ÑÐµÑ‚ Ð´Ð°Ð½Ð½Ñ‹Ðµ Ð¼ÐµÐ¶Ð´Ñƒ Ð·Ð°Ð¿Ñ€Ð¾ÑÐ°Ð¼Ð¸",
      "ÐšÐ»Ð¸ÐµÐ½Ñ‚ Ð½Ðµ Ð¼Ð¾Ð¶ÐµÑ‚ Ð¾Ñ‚Ð¿Ñ€Ð°Ð²Ð»ÑÑ‚ÑŒ Ð½ÐµÑÐºÐ¾Ð»ÑŒÐºÐ¾ Ð·Ð°Ð¿Ñ€Ð¾ÑÐ¾Ð²",
      "ÐŸÑ€Ð¾Ñ‚Ð¾ÐºÐ¾Ð» Ð½Ðµ Ð¿Ð¾Ð´Ð´ÐµÑ€Ð¶Ð¸Ð²Ð°ÐµÑ‚ cookies",
      "ÐÐµÐ²Ð¾Ð·Ð¼Ð¾Ð¶Ð½Ð¾ ÑƒÑÑ‚Ð°Ð½Ð¾Ð²Ð¸Ñ‚ÑŒ Ð¿Ð¾ÑÑ‚Ð¾ÑÐ½Ð½Ð¾Ðµ ÑÐ¾ÐµÐ´Ð¸Ð½ÐµÐ½Ð¸Ðµ"
    ],
    correctAnswer: 0,
    explanation: "Stateless Ð¾Ð·Ð½Ð°Ñ‡Ð°ÐµÑ‚ Ñ‡Ñ‚Ð¾ ÐºÐ°Ð¶Ð´Ñ‹Ð¹ HTTP Ð·Ð°Ð¿Ñ€Ð¾Ñ Ð½ÐµÐ·Ð°Ð²Ð¸ÑÐ¸Ð¼ â€” ÑÐµÑ€Ð²ÐµÑ€ Ð½Ðµ ÑÐ¾Ñ…Ñ€Ð°Ð½ÑÐµÑ‚ Ð¸Ð½Ñ„Ð¾Ñ€Ð¼Ð°Ñ†Ð¸ÑŽ Ð¾ Ð¿Ñ€ÐµÐ´Ñ‹Ð´ÑƒÑ‰Ð¸Ñ… Ð·Ð°Ð¿Ñ€Ð¾ÑÐ°Ñ… Ð¾Ñ‚ ÐºÐ»Ð¸ÐµÐ½Ñ‚Ð°. Ð”Ð»Ñ ÑÐ¾Ñ…Ñ€Ð°Ð½ÐµÐ½Ð¸Ñ ÑÐ¾ÑÑ‚Ð¾ÑÐ½Ð¸Ñ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÑŽÑ‚ÑÑ cookies, ÑÐµÑÑÐ¸Ð¸ Ð¸Ð»Ð¸ Ñ‚Ð¾ÐºÐµÐ½Ñ‹."
  },
  {
    question: "Ð§Ñ‚Ð¾ Ñ‚Ð°ÐºÐ¾Ðµ HTTPS?",
    options: [
      "HTTP Secure â€” HTTP Ñ ÑˆÐ¸Ñ„Ñ€Ð¾Ð²Ð°Ð½Ð¸ÐµÐ¼ Ñ‡ÐµÑ€ÐµÐ· SSL/TLS",
      "HTTP Server â€” ÑÐµÑ€Ð²ÐµÑ€Ð½Ð°Ñ Ð²ÐµÑ€ÑÐ¸Ñ HTTP",
      "HTTP Special â€” Ñ€Ð°ÑÑˆÐ¸Ñ€ÐµÐ½Ð½Ð°Ñ Ð²ÐµÑ€ÑÐ¸Ñ HTTP",
      "HTTP Swift â€” Ð±Ñ‹ÑÑ‚Ñ€Ð°Ñ Ð²ÐµÑ€ÑÐ¸Ñ HTTP"
    ],
    correctAnswer: 0,
    explanation: "HTTPS (HTTP Secure) â€” ÑÑ‚Ð¾ HTTP Ð¿Ñ€Ð¾Ñ‚Ð¾ÐºÐ¾Ð» Ñ ÑˆÐ¸Ñ„Ñ€Ð¾Ð²Ð°Ð½Ð¸ÐµÐ¼ Ñ‡ÐµÑ€ÐµÐ· SSL/TLS. ÐžÐ±ÐµÑÐ¿ÐµÑ‡Ð¸Ð²Ð°ÐµÑ‚ ÐºÐ¾Ð½Ñ„Ð¸Ð´ÐµÐ½Ñ†Ð¸Ð°Ð»ÑŒÐ½Ð¾ÑÑ‚ÑŒ, Ñ†ÐµÐ»Ð¾ÑÑ‚Ð½Ð¾ÑÑ‚ÑŒ Ð´Ð°Ð½Ð½Ñ‹Ñ… Ð¸ Ð°ÑƒÑ‚ÐµÐ½Ñ‚Ð¸Ñ„Ð¸ÐºÐ°Ñ†Ð¸ÑŽ ÑÐµÑ€Ð²ÐµÑ€Ð°."
  },

  // Ð‘ÐµÐ·Ð¾Ð¿Ð°ÑÐ½Ð¾ÑÑ‚ÑŒ Ð¸ ÑˆÐ¸Ñ„Ñ€Ð¾Ð²Ð°Ð½Ð¸Ðµ (Ð²Ð¾Ð¿Ñ€Ð¾ÑÑ‹ 6-10)
  {
    question: "ÐÐ° ÐºÐ°ÐºÐ¾Ð¼ Ð¿Ð¾Ñ€Ñ‚Ñƒ Ð¿Ð¾ ÑƒÐ¼Ð¾Ð»Ñ‡Ð°Ð½Ð¸ÑŽ Ñ€Ð°Ð±Ð¾Ñ‚Ð°ÐµÑ‚ HTTPS?",
    options: [
      "80",
      "8443",
      "443",
      "8080"
    ],
    correctAnswer: 2,
    explanation: "HTTPS Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐµÑ‚ Ð¿Ð¾Ñ€Ñ‚ 443 Ð¿Ð¾ ÑƒÐ¼Ð¾Ð»Ñ‡Ð°Ð½Ð¸ÑŽ. Ð­Ñ‚Ð¾ Ð¾Ñ‚Ð»Ð¸Ñ‡Ð°ÐµÑ‚ÑÑ Ð¾Ñ‚ HTTP, ÐºÐ¾Ñ‚Ð¾Ñ€Ñ‹Ð¹ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐµÑ‚ Ð¿Ð¾Ñ€Ñ‚ 80. ÐŸÐ¾Ñ€Ñ‚ 8443 Ð¸Ð½Ð¾Ð³Ð´Ð° Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐµÑ‚ÑÑ Ð´Ð»Ñ development HTTPS ÑÐµÑ€Ð²ÐµÑ€Ð¾Ð²."
  },
  {
    question: "Ð§Ñ‚Ð¾ Ð¾Ð·Ð½Ð°Ñ‡Ð°ÐµÑ‚ SSL Ð² ÐºÐ¾Ð½Ñ‚ÐµÐºÑÑ‚Ðµ HTTPS?",
    options: [
      "Secure Socket Layer â€” Ð¿Ñ€Ð¾Ñ‚Ð¾ÐºÐ¾Ð» ÑˆÐ¸Ñ„Ñ€Ð¾Ð²Ð°Ð½Ð¸Ñ",
      "Server Side Language â€” ÑÐµÑ€Ð²ÐµÑ€Ð½Ñ‹Ð¹ ÑÐ·Ñ‹Ðº",
      "Secure Session Link â€” Ð·Ð°Ñ‰Ð¸Ñ‰ÐµÐ½Ð½Ð°Ñ ÑÐµÑÑÐ¸Ñ",
      "Standard Security Level â€” ÑƒÑ€Ð¾Ð²ÐµÐ½ÑŒ Ð±ÐµÐ·Ð¾Ð¿Ð°ÑÐ½Ð¾ÑÑ‚Ð¸"
    ],
    correctAnswer: 0,
    explanation: "SSL (Secure Socket Layer) â€” Ð¿Ñ€Ð¾Ñ‚Ð¾ÐºÐ¾Ð» ÑˆÐ¸Ñ„Ñ€Ð¾Ð²Ð°Ð½Ð¸Ñ Ð´Ð»Ñ Ð·Ð°Ñ‰Ð¸Ñ‚Ñ‹ Ð´Ð°Ð½Ð½Ñ‹Ñ…. Ð£ÑÑ‚Ð°Ñ€ÐµÐ» Ð¸ Ð·Ð°Ð¼ÐµÐ½ÐµÐ½ Ð½Ð° TLS, Ð½Ð¾ Ñ‚ÐµÑ€Ð¼Ð¸Ð½ SSL Ð²ÑÑ‘ ÐµÑ‰Ñ‘ ÑˆÐ¸Ñ€Ð¾ÐºÐ¾ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐµÑ‚ÑÑ. Ð¡Ð¾Ð²Ñ€ÐµÐ¼ÐµÐ½Ð½Ñ‹Ðµ ÑÐ°Ð¹Ñ‚Ñ‹ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÑŽÑ‚ TLS 1.2 Ð¸Ð»Ð¸ TLS 1.3."
  },
  {
    question: "Ð’ Ñ‡Ñ‘Ð¼ Ð³Ð»Ð°Ð²Ð½Ð¾Ðµ Ð¾Ñ‚Ð»Ð¸Ñ‡Ð¸Ðµ HTTPS Ð¾Ñ‚ HTTP?",
    options: [
      "HTTPS Ð±Ñ‹ÑÑ‚Ñ€ÐµÐµ",
      "HTTPS ÑˆÐ¸Ñ„Ñ€ÑƒÐµÑ‚ Ð´Ð°Ð½Ð½Ñ‹Ðµ Ð¼ÐµÐ¶Ð´Ñƒ ÐºÐ»Ð¸ÐµÐ½Ñ‚Ð¾Ð¼ Ð¸ ÑÐµÑ€Ð²ÐµÑ€Ð¾Ð¼",
      "HTTPS Ð¿Ð¾Ð´Ð´ÐµÑ€Ð¶Ð¸Ð²Ð°ÐµÑ‚ Ð±Ð¾Ð»ÑŒÑˆÐµ Ð¼ÐµÑ‚Ð¾Ð´Ð¾Ð²",
      "HTTPS Ñ€Ð°Ð±Ð¾Ñ‚Ð°ÐµÑ‚ Ñ‚Ð¾Ð»ÑŒÐºÐ¾ Ñ JSON"
    ],
    correctAnswer: 1,
    explanation: "Ð“Ð»Ð°Ð²Ð½Ð¾Ðµ Ð¾Ñ‚Ð»Ð¸Ñ‡Ð¸Ðµ HTTPS Ð¾Ñ‚ HTTP â€” ÑˆÐ¸Ñ„Ñ€Ð¾Ð²Ð°Ð½Ð¸Ðµ Ð´Ð°Ð½Ð½Ñ‹Ñ… Ñ Ð¿Ð¾Ð¼Ð¾Ñ‰ÑŒÑŽ SSL/TLS. Ð­Ñ‚Ð¾ Ð·Ð°Ñ‰Ð¸Ñ‰Ð°ÐµÑ‚ Ð¾Ñ‚ Ð¿ÐµÑ€ÐµÑ…Ð²Ð°Ñ‚Ð° (man-in-the-middle Ð°Ñ‚Ð°ÐºÐ¸), Ð¿Ð¾Ð´Ð¼ÐµÐ½Ñ‹ Ð´Ð°Ð½Ð½Ñ‹Ñ… Ð¸ Ð¾Ð±ÐµÑÐ¿ÐµÑ‡Ð¸Ð²Ð°ÐµÑ‚ ÐºÐ¾Ð½Ñ„Ð¸Ð´ÐµÐ½Ñ†Ð¸Ð°Ð»ÑŒÐ½Ð¾ÑÑ‚ÑŒ."
  },
  {
    question: "Ð§Ñ‚Ð¾ Ñ‚Ð°ÐºÐ¾Ðµ SSL/TLS ÑÐµÑ€Ñ‚Ð¸Ñ„Ð¸ÐºÐ°Ñ‚?",
    options: [
      "Ð¤Ð°Ð¹Ð» ÐºÐ¾Ð½Ñ„Ð¸Ð³ÑƒÑ€Ð°Ñ†Ð¸Ð¸ ÑÐµÑ€Ð²ÐµÑ€Ð°",
      "Ð¦Ð¸Ñ„Ñ€Ð¾Ð²Ð¾Ð¹ ÑÐµÑ€Ñ‚Ð¸Ñ„Ð¸ÐºÐ°Ñ‚ Ð¿Ð¾Ð´Ñ‚Ð²ÐµÑ€Ð¶Ð´Ð°ÑŽÑ‰Ð¸Ð¹ Ð¿Ð¾Ð´Ð»Ð¸Ð½Ð½Ð¾ÑÑ‚ÑŒ ÑÐ°Ð¹Ñ‚Ð°",
      "Ð›Ð¸Ñ†ÐµÐ½Ð·Ð¸Ñ Ð½Ð° Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ð½Ð¸Ðµ HTTPS",
      "ÐšÐ»ÑŽÑ‡ Ð´Ð¾ÑÑ‚ÑƒÐ¿Ð° Ðº Ð±Ð°Ð·Ðµ Ð´Ð°Ð½Ð½Ñ‹Ñ…"
    ],
    correctAnswer: 1,
    explanation: "SSL/TLS ÑÐµÑ€Ñ‚Ð¸Ñ„Ð¸ÐºÐ°Ñ‚ â€” Ñ†Ð¸Ñ„Ñ€Ð¾Ð²Ð¾Ð¹ Ð´Ð¾ÐºÑƒÐ¼ÐµÐ½Ñ‚, Ð¿Ð¾Ð´Ñ‚Ð²ÐµÑ€Ð¶Ð´Ð°ÑŽÑ‰Ð¸Ð¹ Ð¿Ð¾Ð´Ð»Ð¸Ð½Ð½Ð¾ÑÑ‚ÑŒ ÑÐ°Ð¹Ñ‚Ð° Ð¸ ÑÐ¾Ð´ÐµÑ€Ð¶Ð°Ñ‰Ð¸Ð¹ Ð¿ÑƒÐ±Ð»Ð¸Ñ‡Ð½Ñ‹Ð¹ ÐºÐ»ÑŽÑ‡ Ð´Ð»Ñ ÑˆÐ¸Ñ„Ñ€Ð¾Ð²Ð°Ð½Ð¸Ñ. Ð’Ñ‹Ð´Ð°ÐµÑ‚ÑÑ Certificate Authority (CA). Ð‘Ñ€Ð°ÑƒÐ·ÐµÑ€Ñ‹ Ð¿Ñ€Ð¾Ð²ÐµÑ€ÑÑŽÑ‚ ÑÐµÑ€Ñ‚Ð¸Ñ„Ð¸ÐºÐ°Ñ‚ Ð¿Ñ€Ð¸ Ð¿Ð¾Ð´ÐºÐ»ÑŽÑ‡ÐµÐ½Ð¸Ð¸."
  },
  {
    question: "ÐœÐ¾Ð¶Ð½Ð¾ Ð»Ð¸ Ð¿ÐµÑ€ÐµÑ…Ð²Ð°Ñ‚Ð¸Ñ‚ÑŒ Ð´Ð°Ð½Ð½Ñ‹Ðµ Ð¿ÐµÑ€ÐµÐ´Ð°Ð²Ð°ÐµÐ¼Ñ‹Ðµ Ð¿Ð¾ HTTP?",
    options: [
      "ÐÐµÑ‚, HTTP Ð·Ð°Ñ‰Ð¸Ñ‰ÐµÐ½ Ð¿Ð¾ ÑƒÐ¼Ð¾Ð»Ñ‡Ð°Ð½Ð¸ÑŽ",
      "Ð”Ð°, Ð´Ð°Ð½Ð½Ñ‹Ðµ Ð¿ÐµÑ€ÐµÐ´Ð°ÑŽÑ‚ÑÑ Ð² Ð¾Ñ‚ÐºÑ€Ñ‹Ñ‚Ð¾Ð¼ Ð²Ð¸Ð´Ðµ",
      "Ð¢Ð¾Ð»ÑŒÐºÐ¾ ÐµÑÐ»Ð¸ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÑŒ VPN",
      "Ð¢Ð¾Ð»ÑŒÐºÐ¾ Ð°Ð´Ð¼Ð¸Ð½Ð¸ÑÑ‚Ñ€Ð°Ñ‚Ð¾Ñ€ ÑÐµÑ€Ð²ÐµÑ€Ð° Ð¼Ð¾Ð¶ÐµÑ‚ Ð²Ð¸Ð´ÐµÑ‚ÑŒ Ð´Ð°Ð½Ð½Ñ‹Ðµ"
    ],
    correctAnswer: 1,
    explanation: "Ð”Ð°, HTTP Ð¿ÐµÑ€ÐµÐ´Ð°ÐµÑ‚ Ð´Ð°Ð½Ð½Ñ‹Ðµ Ð² Ð¾Ñ‚ÐºÑ€Ñ‹Ñ‚Ð¾Ð¼ Ð²Ð¸Ð´Ðµ (plain text). Ð›ÑŽÐ±Ð¾Ð¹, ÐºÑ‚Ð¾ Ð¸Ð¼ÐµÐµÑ‚ Ð´Ð¾ÑÑ‚ÑƒÐ¿ Ðº ÑÐµÑ‚Ð¸ Ð¼ÐµÐ¶Ð´Ñƒ ÐºÐ»Ð¸ÐµÐ½Ñ‚Ð¾Ð¼ Ð¸ ÑÐµÑ€Ð²ÐµÑ€Ð¾Ð¼ (Ð½Ð°Ð¿Ñ€Ð¸Ð¼ÐµÑ€, Ð² Ð¿ÑƒÐ±Ð»Ð¸Ñ‡Ð½Ð¾Ð¼ WiFi), Ð¼Ð¾Ð¶ÐµÑ‚ Ð¿ÐµÑ€ÐµÑ…Ð²Ð°Ñ‚Ð¸Ñ‚ÑŒ Ð¸ Ð¿Ñ€Ð¾Ñ‡Ð¸Ñ‚Ð°Ñ‚ÑŒ Ð´Ð°Ð½Ð½Ñ‹Ðµ Ð²ÐºÐ»ÑŽÑ‡Ð°Ñ Ð¿Ð°Ñ€Ð¾Ð»Ð¸. HTTPS Ñ€ÐµÑˆÐ°ÐµÑ‚ ÑÑ‚Ñƒ Ð¿Ñ€Ð¾Ð±Ð»ÐµÐ¼Ñƒ ÑˆÐ¸Ñ„Ñ€Ð¾Ð²Ð°Ð½Ð¸ÐµÐ¼."
  },

  // Handshake Ð¸ ÑÐ¾ÐµÐ´Ð¸Ð½ÐµÐ½Ð¸Ðµ (Ð²Ð¾Ð¿Ñ€Ð¾ÑÑ‹ 11-15)
  {
    question: "Ð§Ñ‚Ð¾ Ð¿Ñ€Ð¾Ð¸ÑÑ…Ð¾Ð´Ð¸Ñ‚ Ð²Ð¾ Ð²Ñ€ÐµÐ¼Ñ TLS handshake?",
    options: [
      "ÐšÐ»Ð¸ÐµÐ½Ñ‚ Ð¸ ÑÐµÑ€Ð²ÐµÑ€ Ð¾Ð±Ð¼ÐµÐ½Ð¸Ð²Ð°ÑŽÑ‚ÑÑ Ð¿Ñ€Ð¸Ð²ÐµÑ‚ÑÑ‚Ð²Ð¸ÑÐ¼Ð¸",
      "ÐšÐ»Ð¸ÐµÐ½Ñ‚ Ð¸ ÑÐµÑ€Ð²ÐµÑ€ ÑÐ¾Ð³Ð»Ð°ÑÐ¾Ð²Ñ‹Ð²Ð°ÑŽÑ‚ Ð¿Ð°Ñ€Ð°Ð¼ÐµÑ‚Ñ€Ñ‹ ÑˆÐ¸Ñ„Ñ€Ð¾Ð²Ð°Ð½Ð¸Ñ Ð¸ Ð¾Ð±Ð¼ÐµÐ½Ð¸Ð²Ð°ÑŽÑ‚ÑÑ ÐºÐ»ÑŽÑ‡Ð°Ð¼Ð¸",
      "Ð¡ÐµÑ€Ð²ÐµÑ€ Ð¾Ñ‚Ð¿Ñ€Ð°Ð²Ð»ÑÐµÑ‚ HTML ÑÑ‚Ñ€Ð°Ð½Ð¸Ñ†Ñƒ",
      "ÐšÐ»Ð¸ÐµÐ½Ñ‚ Ð°Ð²Ñ‚Ð¾Ñ€Ð¸Ð·ÑƒÐµÑ‚ÑÑ Ð½Ð° ÑÐµÑ€Ð²ÐµÑ€Ðµ"
    ],
    correctAnswer: 1,
    explanation: "TLS handshake â€” Ð¿Ñ€Ð¾Ñ†ÐµÑÑ ÑƒÑÑ‚Ð°Ð½Ð¾Ð²ÐºÐ¸ Ð·Ð°Ñ‰Ð¸Ñ‰ÐµÐ½Ð½Ð¾Ð³Ð¾ ÑÐ¾ÐµÐ´Ð¸Ð½ÐµÐ½Ð¸Ñ. Ð’ÐºÐ»ÑŽÑ‡Ð°ÐµÑ‚: ÑÐ¾Ð³Ð»Ð°ÑÐ¾Ð²Ð°Ð½Ð¸Ðµ Ð²ÐµÑ€ÑÐ¸Ð¸ TLS, Ð²Ñ‹Ð±Ð¾Ñ€ cipher suite, Ð¿Ñ€Ð¾Ð²ÐµÑ€ÐºÑƒ ÑÐµÑ€Ñ‚Ð¸Ñ„Ð¸ÐºÐ°Ñ‚Ð° ÑÐµÑ€Ð²ÐµÑ€Ð°, Ð¾Ð±Ð¼ÐµÐ½ ÐºÐ»ÑŽÑ‡Ð°Ð¼Ð¸ ÑˆÐ¸Ñ„Ñ€Ð¾Ð²Ð°Ð½Ð¸Ñ. ÐŸÐ¾ÑÐ»Ðµ handshake Ð´Ð°Ð½Ð½Ñ‹Ðµ Ð¿ÐµÑ€ÐµÐ´Ð°ÑŽÑ‚ÑÑ Ð² Ð·Ð°ÑˆÐ¸Ñ„Ñ€Ð¾Ð²Ð°Ð½Ð½Ð¾Ð¼ Ð²Ð¸Ð´Ðµ."
  },
  {
    question: "ÐšÐ°ÐºÐ¾Ð¹ Ð¿Ñ€Ð¾Ñ‚Ð¾ÐºÐ¾Ð» Ñ‚Ñ€Ð°Ð½ÑÐ¿Ð¾Ñ€Ñ‚Ð½Ð¾Ð³Ð¾ ÑƒÑ€Ð¾Ð²Ð½Ñ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐµÑ‚ HTTP/HTTPS?",
    options: [
      "UDP",
      "TCP",
      "ICMP",
      "FTP"
    ],
    correctAnswer: 1,
    explanation: "HTTP Ð¸ HTTPS Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÑŽÑ‚ TCP (Transmission Control Protocol) Ð´Ð»Ñ Ð½Ð°Ð´ÐµÐ¶Ð½Ð¾Ð¹ Ð´Ð¾ÑÑ‚Ð°Ð²ÐºÐ¸ Ð´Ð°Ð½Ð½Ñ‹Ñ…. TCP Ð³Ð°Ñ€Ð°Ð½Ñ‚Ð¸Ñ€ÑƒÐµÑ‚ Ð¿Ð¾Ñ€ÑÐ´Ð¾Ðº Ð¿Ð°ÐºÐµÑ‚Ð¾Ð² Ð¸ Ð¿Ð¾Ð²Ñ‚Ð¾Ñ€Ð½ÑƒÑŽ Ð¾Ñ‚Ð¿Ñ€Ð°Ð²ÐºÑƒ Ð¿Ñ€Ð¸ Ð¿Ð¾Ñ‚ÐµÑ€Ðµ. HTTP/3 Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐµÑ‚ QUIC Ð¿Ð¾Ð²ÐµÑ€Ñ… UDP."
  },
  {
    question: "Ð§Ñ‚Ð¾ Ñ‚Ð°ÐºÐ¾Ðµ mixed content Ð² ÐºÐ¾Ð½Ñ‚ÐµÐºÑÑ‚Ðµ HTTPS?",
    options: [
      "Ð¡Ñ‚Ñ€Ð°Ð½Ð¸Ñ†Ð° Ñ Ñ€Ð°Ð·Ð½Ñ‹Ð¼Ð¸ ÑÐ·Ñ‹ÐºÐ°Ð¼Ð¸ Ð¿Ñ€Ð¾Ð³Ñ€Ð°Ð¼Ð¼Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ñ",
      "HTTPS ÑÑ‚Ñ€Ð°Ð½Ð¸Ñ†Ð° Ð·Ð°Ð³Ñ€ÑƒÐ¶Ð°ÑŽÑ‰Ð°Ñ Ñ€ÐµÑÑƒÑ€ÑÑ‹ Ð¿Ð¾ HTTP",
      "Ð¡Ñ‚Ñ€Ð°Ð½Ð¸Ñ†Ð° Ñ Ñ‚ÐµÐºÑÑ‚Ð¾Ð¼ Ð¸ Ð¸Ð·Ð¾Ð±Ñ€Ð°Ð¶ÐµÐ½Ð¸ÑÐ¼Ð¸",
      "Ð¡Ñ‚Ñ€Ð°Ð½Ð¸Ñ†Ð° Ð´Ð¾ÑÑ‚ÑƒÐ¿Ð½Ð°Ñ Ð¿Ð¾ HTTP Ð¸ HTTPS"
    ],
    correctAnswer: 1,
    explanation: "Mixed content â€” ÐºÐ¾Ð³Ð´Ð° HTTPS ÑÑ‚Ñ€Ð°Ð½Ð¸Ñ†Ð° Ð·Ð°Ð³Ñ€ÑƒÐ¶Ð°ÐµÑ‚ Ñ€ÐµÑÑƒÑ€ÑÑ‹ (Ð¸Ð·Ð¾Ð±Ñ€Ð°Ð¶ÐµÐ½Ð¸Ñ, ÑÐºÑ€Ð¸Ð¿Ñ‚Ñ‹, ÑÑ‚Ð¸Ð»Ð¸) Ð¿Ð¾ Ð½ÐµÐ·Ð°Ñ‰Ð¸Ñ‰ÐµÐ½Ð½Ð¾Ð¼Ñƒ HTTP. Ð‘Ñ€Ð°ÑƒÐ·ÐµÑ€Ñ‹ Ð±Ð»Ð¾ÐºÐ¸Ñ€ÑƒÑŽÑ‚ Ñ‚Ð°ÐºÐ¾Ð¹ ÐºÐ¾Ð½Ñ‚ÐµÐ½Ñ‚, Ñ‚Ð°Ðº ÐºÐ°Ðº Ð¾Ð½ ÑÐ¾Ð·Ð´Ð°ÐµÑ‚ ÑƒÑÐ·Ð²Ð¸Ð¼Ð¾ÑÑ‚ÑŒ â€” HTTP Ñ€ÐµÑÑƒÑ€ÑÑ‹ Ð¼Ð¾Ð³ÑƒÑ‚ Ð±Ñ‹Ñ‚ÑŒ Ð¿Ð¾Ð´Ð¼ÐµÐ½ÐµÐ½Ñ‹ Ð°Ñ‚Ð°ÐºÑƒÑŽÑ‰Ð¸Ð¼."
  },
  {
    question: "Ð—Ð°Ñ‡ÐµÐ¼ Ð½ÑƒÐ¶ÐµÐ½ HSTS (HTTP Strict Transport Security)?",
    options: [
      "Ð”Ð»Ñ ÑƒÑÐºÐ¾Ñ€ÐµÐ½Ð¸Ñ Ð·Ð°Ð³Ñ€ÑƒÐ·ÐºÐ¸ ÑÑ‚Ñ€Ð°Ð½Ð¸Ñ†",
      "Ð§Ñ‚Ð¾Ð±Ñ‹ Ð·Ð°ÑÑ‚Ð°Ð²Ð¸Ñ‚ÑŒ Ð±Ñ€Ð°ÑƒÐ·ÐµÑ€ Ð²ÑÐµÐ³Ð´Ð° Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÑŒ HTTPS Ð´Ð»Ñ ÑÐ°Ð¹Ñ‚Ð°",
      "Ð”Ð»Ñ ÑÐ¶Ð°Ñ‚Ð¸Ñ HTTP Ð·Ð°Ð³Ð¾Ð»Ð¾Ð²ÐºÐ¾Ð²",
      "Ð”Ð»Ñ ÐºÐµÑˆÐ¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ñ ÑÑ‚Ð°Ñ‚Ð¸Ñ‡ÐµÑÐºÐ¸Ñ… Ñ€ÐµÑÑƒÑ€ÑÐ¾Ð²"
    ],
    correctAnswer: 1,
    explanation: "HSTS (HTTP Strict Transport Security) â€” Ð·Ð°Ð³Ð¾Ð»Ð¾Ð²Ð¾Ðº, ÑƒÐºÐ°Ð·Ñ‹Ð²Ð°ÑŽÑ‰Ð¸Ð¹ Ð±Ñ€Ð°ÑƒÐ·ÐµÑ€Ñƒ Ð²ÑÐµÐ³Ð´Ð° Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÑŒ HTTPS Ð´Ð»Ñ ÑÑ‚Ð¾Ð³Ð¾ Ð´Ð¾Ð¼ÐµÐ½Ð°. ÐŸÑ€ÐµÐ´Ð¾Ñ‚Ð²Ñ€Ð°Ñ‰Ð°ÐµÑ‚ SSL stripping Ð°Ñ‚Ð°ÐºÐ¸. ÐŸÑ€Ð¸Ð¼ÐµÑ€: Strict-Transport-Security: max-age=31536000; includeSubDomains"
  },
  {
    question: "Ð§Ñ‚Ð¾ Ð¿Ñ€Ð¾Ð¸ÑÑ…Ð¾Ð´Ð¸Ñ‚ ÐµÑÐ»Ð¸ ÑÐµÑ€Ñ‚Ð¸Ñ„Ð¸ÐºÐ°Ñ‚ ÑÐ°Ð¹Ñ‚Ð° Ð¸ÑÑ‚ÐµÐº Ð¸Ð»Ð¸ Ð½ÐµÐ´ÐµÐ¹ÑÑ‚Ð²Ð¸Ñ‚ÐµÐ»ÐµÐ½?",
    options: [
      "Ð‘Ñ€Ð°ÑƒÐ·ÐµÑ€ Ð°Ð²Ñ‚Ð¾Ð¼Ð°Ñ‚Ð¸Ñ‡ÐµÑÐºÐ¸ Ð¿Ñ€Ð¾Ð´Ð»ÐµÐ²Ð°ÐµÑ‚ ÑÐµÑ€Ñ‚Ð¸Ñ„Ð¸ÐºÐ°Ñ‚",
      "Ð‘Ñ€Ð°ÑƒÐ·ÐµÑ€ Ð¿Ð¾ÐºÐ°Ð·Ñ‹Ð²Ð°ÐµÑ‚ Ð¿Ñ€ÐµÐ´ÑƒÐ¿Ñ€ÐµÐ¶Ð´ÐµÐ½Ð¸Ðµ Ð¾ Ð±ÐµÐ·Ð¾Ð¿Ð°ÑÐ½Ð¾ÑÑ‚Ð¸",
      "Ð¡Ð°Ð¹Ñ‚ Ð¿ÐµÑ€ÐµÐºÐ»ÑŽÑ‡Ð°ÐµÑ‚ÑÑ Ð½Ð° HTTP",
      "ÐÐ¸Ñ‡ÐµÐ³Ð¾, ÑÐ°Ð¹Ñ‚ Ñ€Ð°Ð±Ð¾Ñ‚Ð°ÐµÑ‚ ÐºÐ°Ðº Ð¾Ð±Ñ‹Ñ‡Ð½Ð¾"
    ],
    correctAnswer: 1,
    explanation: "Ð‘Ñ€Ð°ÑƒÐ·ÐµÑ€ Ð¿Ð¾ÐºÐ°Ð·Ñ‹Ð²Ð°ÐµÑ‚ Ð¿Ñ€ÐµÐ´ÑƒÐ¿Ñ€ÐµÐ¶Ð´ÐµÐ½Ð¸Ðµ Ð¾ Ð±ÐµÐ·Ð¾Ð¿Ð°ÑÐ½Ð¾ÑÑ‚Ð¸ (Ð½Ð°Ð¿Ñ€Ð¸Ð¼ÐµÑ€, 'Your connection is not private') Ð¸ Ð±Ð»Ð¾ÐºÐ¸Ñ€ÑƒÐµÑ‚ Ð´Ð¾ÑÑ‚ÑƒÐ¿ Ðº ÑÐ°Ð¹Ñ‚Ñƒ Ð¿Ð¾ ÑƒÐ¼Ð¾Ð»Ñ‡Ð°Ð½Ð¸ÑŽ. ÐŸÐ¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»ÑŒ Ð¼Ð¾Ð¶ÐµÑ‚ Ð¿Ñ€Ð¾Ð´Ð¾Ð»Ð¶Ð¸Ñ‚ÑŒ Ð½Ð° ÑÐ²Ð¾Ð¹ Ñ€Ð¸ÑÐº, Ð½Ð¾ ÑÑ‚Ð¾ ÐºÑ€Ð°Ð¹Ð½Ðµ Ð½Ðµ Ñ€ÐµÐºÐ¾Ð¼ÐµÐ½Ð´ÑƒÐµÑ‚ÑÑ."
  },

  // Ð’ÐµÑ€ÑÐ¸Ð¸ Ð¸ Ð¿Ñ€Ð¾Ð¸Ð·Ð²Ð¾Ð´Ð¸Ñ‚ÐµÐ»ÑŒÐ½Ð¾ÑÑ‚ÑŒ (Ð²Ð¾Ð¿Ñ€Ð¾ÑÑ‹ 16-20)
  {
    question: "ÐšÐ°ÐºÐ°Ñ Ð²ÐµÑ€ÑÐ¸Ñ HTTP Ð¿Ð¾Ð´Ð´ÐµÑ€Ð¶Ð¸Ð²Ð°ÐµÑ‚ multiplexing (Ð½ÐµÑÐºÐ¾Ð»ÑŒÐºÐ¾ Ð·Ð°Ð¿Ñ€Ð¾ÑÐ¾Ð² Ð² Ð¾Ð´Ð½Ð¾Ð¼ ÑÐ¾ÐµÐ´Ð¸Ð½ÐµÐ½Ð¸Ð¸)?",
    options: [
      "HTTP/1.0",
      "HTTP/1.1",
      "HTTP/2",
      "Ð’ÑÐµ Ð²ÐµÑ€ÑÐ¸Ð¸"
    ],
    correctAnswer: 2,
    explanation: "HTTP/2 Ð¿Ð¾Ð´Ð´ÐµÑ€Ð¶Ð¸Ð²Ð°ÐµÑ‚ multiplexing â€” Ð¾Ñ‚Ð¿Ñ€Ð°Ð²ÐºÑƒ Ð½ÐµÑÐºÐ¾Ð»ÑŒÐºÐ¸Ñ… Ð·Ð°Ð¿Ñ€Ð¾ÑÐ¾Ð² Ð¸ Ð¿Ð¾Ð»ÑƒÑ‡ÐµÐ½Ð¸Ðµ Ð¾Ñ‚Ð²ÐµÑ‚Ð¾Ð² Ð¾Ð´Ð½Ð¾Ð²Ñ€ÐµÐ¼ÐµÐ½Ð½Ð¾ Ñ‡ÐµÑ€ÐµÐ· Ð¾Ð´Ð½Ð¾ TCP ÑÐ¾ÐµÐ´Ð¸Ð½ÐµÐ½Ð¸Ðµ. HTTP/1.1 Ñ‚Ñ€ÐµÐ±ÑƒÐµÑ‚ Ð¾Ñ‚Ð´ÐµÐ»ÑŒÐ½Ð¾Ðµ ÑÐ¾ÐµÐ´Ð¸Ð½ÐµÐ½Ð¸Ðµ Ð´Ð»Ñ ÐºÐ°Ð¶Ð´Ð¾Ð³Ð¾ Ð·Ð°Ð¿Ñ€Ð¾ÑÐ° (Ð¸Ð»Ð¸ sequential pipeline). Ð­Ñ‚Ð¾ Ð·Ð½Ð°Ñ‡Ð¸Ñ‚ÐµÐ»ÑŒÐ½Ð¾ ÑƒÑÐºÐ¾Ñ€ÑÐµÑ‚ Ð·Ð°Ð³Ñ€ÑƒÐ·ÐºÑƒ."
  },
  {
    question: "Ð’ Ñ‡Ñ‘Ð¼ Ð¿Ñ€ÐµÐ¸Ð¼ÑƒÑ‰ÐµÑÑ‚Ð²Ð¾ HTTP/2 Ð½Ð°Ð´ HTTP/1.1?",
    options: [
      "ÐŸÐ¾Ð´Ð´ÐµÑ€Ð¶ÐºÐ° Ð½Ð¾Ð²Ñ‹Ñ… Ð¼ÐµÑ‚Ð¾Ð´Ð¾Ð²",
      "Ð‘Ð¸Ð½Ð°Ñ€Ð½Ñ‹Ð¹ Ð¿Ñ€Ð¾Ñ‚Ð¾ÐºÐ¾Ð», multiplexing, server push, ÑÐ¶Ð°Ñ‚Ð¸Ðµ Ð·Ð°Ð³Ð¾Ð»Ð¾Ð²ÐºÐ¾Ð²",
      "Ð Ð°Ð±Ð¾Ñ‚Ð°ÐµÑ‚ Ð±ÐµÐ· TCP",
      "ÐÐµ Ñ‚Ñ€ÐµÐ±ÑƒÐµÑ‚ HTTPS"
    ],
    correctAnswer: 1,
    explanation: "HTTP/2 Ð¿Ñ€ÐµÐ¸Ð¼ÑƒÑ‰ÐµÑÑ‚Ð²Ð°: Ð±Ð¸Ð½Ð°Ñ€Ð½Ñ‹Ð¹ Ð¿Ñ€Ð¾Ñ‚Ð¾ÐºÐ¾Ð» (Ð²Ð¼ÐµÑÑ‚Ð¾ Ñ‚ÐµÐºÑÑ‚Ð¾Ð²Ð¾Ð³Ð¾), multiplexing (Ð½ÐµÑÐºÐ¾Ð»ÑŒÐºÐ¾ Ð·Ð°Ð¿Ñ€Ð¾ÑÐ¾Ð² Ð² Ð¾Ð´Ð½Ð¾Ð¼ ÑÐ¾ÐµÐ´Ð¸Ð½ÐµÐ½Ð¸Ð¸), server push (ÑÐµÑ€Ð²ÐµÑ€ Ð¾Ñ‚Ð¿Ñ€Ð°Ð²Ð»ÑÐµÑ‚ Ñ€ÐµÑÑƒÑ€ÑÑ‹ Ð´Ð¾ Ð·Ð°Ð¿Ñ€Ð¾ÑÐ°), HPACK ÑÐ¶Ð°Ñ‚Ð¸Ðµ Ð·Ð°Ð³Ð¾Ð»Ð¾Ð²ÐºÐ¾Ð². Ð‘Ð¾Ð»ÑŒÑˆÐ¸Ð½ÑÑ‚Ð²Ð¾ Ð±Ñ€Ð°ÑƒÐ·ÐµÑ€Ð¾Ð² Ñ‚Ñ€ÐµÐ±ÑƒÑŽÑ‚ HTTPS Ð´Ð»Ñ HTTP/2."
  },
  {
    question: "ÐŸÑ€Ð°Ð²Ð´Ð° Ð»Ð¸ Ñ‡Ñ‚Ð¾ HTTPS Ð¼ÐµÐ´Ð»ÐµÐ½Ð½ÐµÐµ HTTP?",
    options: [
      "Ð”Ð°, Ð²ÑÐµÐ³Ð´Ð° Ð¼ÐµÐ´Ð»ÐµÐ½Ð½ÐµÐµ Ð¸Ð·-Ð·Ð° ÑˆÐ¸Ñ„Ñ€Ð¾Ð²Ð°Ð½Ð¸Ñ",
      "ÐÐµÑ‚, Ñ HTTP/2 Ð¸ ÑÐ¾Ð²Ñ€ÐµÐ¼ÐµÐ½Ð½Ñ‹Ð¼Ð¸ Ð¿Ñ€Ð¾Ñ†ÐµÑÑÐ¾Ñ€Ð°Ð¼Ð¸ Ñ€Ð°Ð·Ð½Ð¸Ñ†Ð° Ð¼Ð¸Ð½Ð¸Ð¼Ð°Ð»ÑŒÐ½Ð°",
      "Ð”Ð°, Ð¼ÐµÐ´Ð»ÐµÐ½Ð½ÐµÐµ Ð² 2 Ñ€Ð°Ð·Ð°",
      "HTTPS Ð±Ñ‹ÑÑ‚Ñ€ÐµÐµ HTTP"
    ],
    correctAnswer: 1,
    explanation: "Ð¡ ÑÐ¾Ð²Ñ€ÐµÐ¼ÐµÐ½Ð½Ñ‹Ð¼Ð¸ Ð¿Ñ€Ð¾Ñ†ÐµÑÑÐ¾Ñ€Ð°Ð¼Ð¸ (Ð¿Ð¾Ð´Ð´ÐµÑ€Ð¶ÐºÐ° AES-NI) Ð¸ HTTP/2 overhead ÑˆÐ¸Ñ„Ñ€Ð¾Ð²Ð°Ð½Ð¸Ñ Ð¼Ð¸Ð½Ð¸Ð¼Ð°Ð»ÐµÐ½. TLS handshake Ð´Ð¾Ð±Ð°Ð²Ð»ÑÐµÑ‚ ~1 RTT Ð¿Ñ€Ð¸ Ð¿ÐµÑ€Ð²Ð¾Ð¼ ÑÐ¾ÐµÐ´Ð¸Ð½ÐµÐ½Ð¸Ð¸, Ð½Ð¾ Ð´Ð°Ð»ÑŒÐ½ÐµÐ¹ÑˆÐ¸Ðµ Ð·Ð°Ð¿Ñ€Ð¾ÑÑ‹ Ð¿Ñ€Ð°ÐºÑ‚Ð¸Ñ‡ÐµÑÐºÐ¸ Ð½Ðµ Ð·Ð°Ð¼ÐµÐ´Ð»ÑÑŽÑ‚ÑÑ. HTTP/2 features Ñ‡Ð°ÑÑ‚Ð¾ ÐºÐ¾Ð¼Ð¿ÐµÐ½ÑÐ¸Ñ€ÑƒÑŽÑ‚ overhead TLS."
  },
  {
    question: "Ð§Ñ‚Ð¾ Ñ‚Ð°ÐºÐ¾Ðµ certificate pinning?",
    options: [
      "Ð—Ð°ÐºÑ€ÐµÐ¿Ð»ÐµÐ½Ð¸Ðµ ÑÐµÑ€Ñ‚Ð¸Ñ„Ð¸ÐºÐ°Ñ‚Ð° Ð½Ð° ÑÐµÑ€Ð²ÐµÑ€Ðµ",
      "Ð¢ÐµÑ…Ð½Ð¸ÐºÐ° ÐºÐ¾Ð³Ð´Ð° ÐºÐ»Ð¸ÐµÐ½Ñ‚ Ð´Ð¾Ð²ÐµÑ€ÑÐµÑ‚ Ñ‚Ð¾Ð»ÑŒÐºÐ¾ Ð¾Ð¿Ñ€ÐµÐ´ÐµÐ»ÐµÐ½Ð½Ñ‹Ð¼ ÑÐµÑ€Ñ‚Ð¸Ñ„Ð¸ÐºÐ°Ñ‚Ð°Ð¼",
      "ÐÐ²Ñ‚Ð¾Ð¼Ð°Ñ‚Ð¸Ñ‡ÐµÑÐºÐ¾Ðµ Ð¿Ñ€Ð¾Ð´Ð»ÐµÐ½Ð¸Ðµ ÑÐµÑ€Ñ‚Ð¸Ñ„Ð¸ÐºÐ°Ñ‚Ð°",
      "Ð ÐµÐ·ÐµÑ€Ð²Ð½Ð¾Ðµ ÐºÐ¾Ð¿Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ðµ ÑÐµÑ€Ñ‚Ð¸Ñ„Ð¸ÐºÐ°Ñ‚Ð°"
    ],
    correctAnswer: 1,
    explanation: "Certificate pinning â€” Ñ‚ÐµÑ…Ð½Ð¸ÐºÐ° Ð±ÐµÐ·Ð¾Ð¿Ð°ÑÐ½Ð¾ÑÑ‚Ð¸, ÐºÐ¾Ð³Ð´Ð° Ð¿Ñ€Ð¸Ð»Ð¾Ð¶ÐµÐ½Ð¸Ðµ (Ð¾Ð±Ñ‹Ñ‡Ð½Ð¾ Ð¼Ð¾Ð±Ð¸Ð»ÑŒÐ½Ð¾Ðµ) Ð¶ÐµÑÑ‚ÐºÐ¾ Ð·Ð°ÐºÑ€ÐµÐ¿Ð»ÑÐµÑ‚ (pins) ÐºÐ¾Ð½ÐºÑ€ÐµÑ‚Ð½Ñ‹Ð¹ ÑÐµÑ€Ñ‚Ð¸Ñ„Ð¸ÐºÐ°Ñ‚ Ð¸Ð»Ð¸ Ð¿ÑƒÐ±Ð»Ð¸Ñ‡Ð½Ñ‹Ð¹ ÐºÐ»ÑŽÑ‡ ÑÐµÑ€Ð²ÐµÑ€Ð°. Ð—Ð°Ñ‰Ð¸Ñ‰Ð°ÐµÑ‚ Ð¾Ñ‚ MITM Ð°Ñ‚Ð°Ðº Ð´Ð°Ð¶Ðµ ÐµÑÐ»Ð¸ CA ÑÐºÐ¾Ð¼Ð¿Ñ€Ð¾Ð¼ÐµÑ‚Ð¸Ñ€Ð¾Ð²Ð°Ð½, Ð½Ð¾ ÑƒÑÐ»Ð¾Ð¶Ð½ÑÐµÑ‚ Ð¾Ð±Ð½Ð¾Ð²Ð»ÐµÐ½Ð¸Ðµ ÑÐµÑ€Ñ‚Ð¸Ñ„Ð¸ÐºÐ°Ñ‚Ð¾Ð²."
  },
  {
    question: "ÐœÐ¾Ð¶Ð½Ð¾ Ð»Ð¸ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÑŒ POST Ð·Ð°Ð¿Ñ€Ð¾Ñ Ð¿Ð¾ HTTP Ð´Ð»Ñ Ð¾Ñ‚Ð¿Ñ€Ð°Ð²ÐºÐ¸ Ñ‡ÑƒÐ²ÑÑ‚Ð²Ð¸Ñ‚ÐµÐ»ÑŒÐ½Ñ‹Ñ… Ð´Ð°Ð½Ð½Ñ‹Ñ…?",
    options: [
      "Ð”Ð°, POST Ð±ÐµÐ·Ð¾Ð¿Ð°ÑÐµÐ½",
      "ÐÐµÑ‚, Ð´Ð°Ð½Ð½Ñ‹Ðµ Ð²ÑÑ‘ Ñ€Ð°Ð²Ð½Ð¾ Ð¿ÐµÑ€ÐµÐ´Ð°ÑŽÑ‚ÑÑ Ð½ÐµÐ·Ð°ÑˆÐ¸Ñ„Ñ€Ð¾Ð²Ð°Ð½Ð½Ñ‹Ð¼Ð¸",
      "Ð”Ð°, ÐµÑÐ»Ð¸ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÑŒ Base64 ÐºÐ¾Ð´Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ðµ",
      "POST Ð°Ð²Ñ‚Ð¾Ð¼Ð°Ñ‚Ð¸Ñ‡ÐµÑÐºÐ¸ ÑˆÐ¸Ñ„Ñ€ÑƒÐµÑ‚ Ð´Ð°Ð½Ð½Ñ‹Ðµ"
    ],
    correctAnswer: 1,
    explanation: "ÐÐµÑ‚! POST Ð¿Ð¾ HTTP Ñ‚Ð°ÐºÐ¶Ðµ Ð¿ÐµÑ€ÐµÐ´Ð°ÐµÑ‚ Ð´Ð°Ð½Ð½Ñ‹Ðµ Ð² Ð¾Ñ‚ÐºÑ€Ñ‹Ñ‚Ð¾Ð¼ Ð²Ð¸Ð´Ðµ, ÐºÐ°Ðº Ð¸ GET. Ð¢ÐµÐ»Ð¾ Ð·Ð°Ð¿Ñ€Ð¾ÑÐ° (body) Ð¼Ð¾Ð¶ÐµÑ‚ Ð±Ñ‹Ñ‚ÑŒ Ð¿ÐµÑ€ÐµÑ…Ð²Ð°Ñ‡ÐµÐ½Ð¾. Ð”Ð»Ñ Ñ‡ÑƒÐ²ÑÑ‚Ð²Ð¸Ñ‚ÐµÐ»ÑŒÐ½Ñ‹Ñ… Ð´Ð°Ð½Ð½Ñ‹Ñ… (Ð¿Ð°Ñ€Ð¾Ð»Ð¸, Ñ‚Ð¾ÐºÐµÐ½Ñ‹, Ð»Ð¸Ñ‡Ð½Ð°Ñ Ð¸Ð½Ñ„Ð¾Ñ€Ð¼Ð°Ñ†Ð¸Ñ) Ð²ÑÐµÐ³Ð´Ð° Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐ¹Ñ‚Ðµ HTTPS, Ð½ÐµÐ·Ð°Ð²Ð¸ÑÐ¸Ð¼Ð¾ Ð¾Ñ‚ Ð¼ÐµÑ‚Ð¾Ð´Ð°."
  }
];

async function createHTTPHTTPSTest() {
  console.log('ðŸš€ Ð¡Ð¾Ð·Ð´Ð°Ð½Ð¸Ðµ Ñ‚ÐµÑÑ‚Ð° "HTTP Ð¸ HTTPS: Ð¿Ñ€Ð¾Ñ‚Ð¾ÐºÐ¾Ð»Ñ‹ Ð¸ Ð±ÐµÐ·Ð¾Ð¿Ð°ÑÐ½Ð¾ÑÑ‚ÑŒ"...\n');

  try {
    // 1. Ð¡Ð¾Ð·Ð´Ð°ÐµÐ¼ Ñ‚ÐµÑÑ‚
    const test = await prisma.test.create({
      data: {
        title: 'HTTP Ð¸ HTTPS: Ð¿Ñ€Ð¾Ñ‚Ð¾ÐºÐ¾Ð»Ñ‹ Ð¸ Ð±ÐµÐ·Ð¾Ð¿Ð°ÑÐ½Ð¾ÑÑ‚ÑŒ',
        description: 'ÐŸÐ¾Ð½Ð¸Ð¼Ð°Ð½Ð¸Ðµ Ð¾ÑÐ½Ð¾Ð² HTTP Ð¿Ñ€Ð¾Ñ‚Ð¾ÐºÐ¾Ð»Ð°, Ñ€Ð°Ð·Ð»Ð¸Ñ‡Ð¸Ð¹ Ð¼ÐµÐ¶Ð´Ñƒ HTTP Ð¸ HTTPS, Ð¿Ñ€Ð¸Ð½Ñ†Ð¸Ð¿Ð¾Ð² ÑˆÐ¸Ñ„Ñ€Ð¾Ð²Ð°Ð½Ð¸Ñ SSL/TLS, Ð±ÐµÐ·Ð¾Ð¿Ð°ÑÐ½Ð¾ÑÑ‚Ð¸ Ð²ÐµÐ±-ÐºÐ¾Ð¼Ð¼ÑƒÐ½Ð¸ÐºÐ°Ñ†Ð¸Ð¹. Ð˜Ð·ÑƒÑ‡Ð¸Ñ‚Ðµ ÐºÐ°Ðº Ñ€Ð°Ð±Ð¾Ñ‚Ð°ÑŽÑ‚ ÑÐµÑ€Ñ‚Ð¸Ñ„Ð¸ÐºÐ°Ñ‚Ñ‹, TLS handshake, Ð¸ Ð¿Ð¾Ñ‡ÐµÐ¼Ñƒ HTTPS ÐºÑ€Ð¸Ñ‚Ð¸Ñ‡ÐµÑÐºÐ¸ Ð²Ð°Ð¶ÐµÐ½ Ð´Ð»Ñ ÑÐ¾Ð²Ñ€ÐµÐ¼ÐµÐ½Ð½Ñ‹Ñ… Ð²ÐµÐ±-Ð¿Ñ€Ð¸Ð»Ð¾Ð¶ÐµÐ½Ð¸Ð¹.',
        difficulty: 'beginner',
        tags: ['system-analyst', 'qa-engineer', 'frontend', 'backend', 'fullstack'], // Ð”Ð»Ñ Ð²ÑÐµÑ… Ð¿Ñ€Ð¾Ñ„ÐµÑÑÐ¸Ð¹
        createdAt: new Date(),
      }
    });

    console.log(`âœ… Ð¢ÐµÑÑ‚ ÑÐ¾Ð·Ð´Ð°Ð½: ${test.id}`);
    console.log(`   ÐÐ°Ð·Ð²Ð°Ð½Ð¸Ðµ: ${test.title}`);
    console.log(`   Ð£Ñ€Ð¾Ð²ÐµÐ½ÑŒ: ${test.difficulty}`);
    console.log(`   Ð¢ÐµÐ³Ð¸: ${test.tags.join(', ')}\n`);

    // 2. Ð¡Ð¾Ð·Ð´Ð°ÐµÐ¼ Ð²Ð¾Ð¿Ñ€Ð¾ÑÑ‹ Ð¸ Ð¿Ñ€Ð¸Ð²ÑÐ·Ñ‹Ð²Ð°ÐµÐ¼ Ðº Ñ‚ÐµÑÑ‚Ñƒ
    let order = 1;

    for (const q of questions) {
      // ÐŸÑ€Ð¾Ð²ÐµÑ€ÐºÐ° Ð½Ð° Ð´ÑƒÐ±Ð»Ð¸ÐºÐ°Ñ‚
      const existing = await prisma.question.findFirst({
        where: { question: q.question }
      });

      let questionId: string;

      if (existing) {
        console.log(`âš ï¸  Ð’Ð¾Ð¿Ñ€Ð¾Ñ ÑƒÐ¶Ðµ ÑÑƒÑ‰ÐµÑÑ‚Ð²ÑƒÐµÑ‚: ${q.question.substring(0, 50)}...`);
        questionId = existing.id;
      } else {
        // Ð¡Ð¾Ð·Ð´Ð°ÐµÐ¼ Ð½Ð¾Ð²Ñ‹Ð¹ Ð²Ð¾Ð¿Ñ€Ð¾Ñ
        const newQuestion = await prisma.question.create({
          data: {
            question: q.question,
            options: q.options,
            correctAnswer: q.correctAnswer,
            explanation: q.explanation
          }
        });
        questionId = newQuestion.id;
        console.log(`âœ… Ð¡Ð¾Ð·Ð´Ð°Ð½ Ð²Ð¾Ð¿Ñ€Ð¾Ñ ${order}: ${q.question.substring(0, 60)}...`);
      }

      // ÐŸÑ€Ð¸Ð²ÑÐ·Ñ‹Ð²Ð°ÐµÐ¼ Ðº Ñ‚ÐµÑÑ‚Ñƒ
      await prisma.testQuestion.create({
        data: {
          testId: test.id,
          questionId: questionId,
          order: order++
        }
      });
    }

    console.log(`\nâœ… Ð’ÑÐµ ${questions.length} Ð²Ð¾Ð¿Ñ€Ð¾ÑÐ¾Ð² Ð´Ð¾Ð±Ð°Ð²Ð»ÐµÐ½Ñ‹ Ðº Ñ‚ÐµÑÑ‚Ñƒ!`);

    // 3. Ð¡Ñ‚Ð°Ñ‚Ð¸ÑÑ‚Ð¸ÐºÐ°
    console.log('\nðŸ“Š Ð¡Ñ‚Ð°Ñ‚Ð¸ÑÑ‚Ð¸ÐºÐ° Ñ‚ÐµÑÑ‚Ð°:');
    console.log(`   ID: ${test.id}`);
    console.log(`   ÐÐ°Ð·Ð²Ð°Ð½Ð¸Ðµ: ${test.title}`);
    console.log(`   Ð’Ð¾Ð¿Ñ€Ð¾ÑÐ¾Ð²: ${questions.length}`);
    console.log(`   Ð£Ñ€Ð¾Ð²ÐµÐ½ÑŒ: ${test.difficulty}`);
    console.log(`   ÐŸÑ€Ð¾Ñ„ÐµÑÑÐ¸Ð¸: ${test.tags.join(', ')}`);

    console.log('\nðŸ“š Ð¡Ð»ÐµÐ´ÑƒÑŽÑ‰Ð¸Ð¹ ÑˆÐ°Ð³: ÑÐ¾Ð·Ð´Ð°Ð¹Ñ‚Ðµ Ð»ÐµÐºÑ†Ð¸ÑŽ Ð´Ð»Ñ ÑÑ‚Ð¾Ð³Ð¾ Ñ‚ÐµÑÑ‚Ð°');
    console.log(`   npx tsx scripts/create-http-https-lecture.ts\n`);

    return test;

  } catch (error) {
    console.error('âŒ ÐžÑˆÐ¸Ð±ÐºÐ°:', error);
    throw error;
  } finally {
    await prisma.$disconnect();
  }
}

createHTTPHTTPSTest()
  .then(() => {
    console.log('ðŸŽ‰ Ð“Ð¾Ñ‚Ð¾Ð²Ð¾!');
    process.exit(0);
  })
  .catch((error) => {
    console.error('ðŸ’¥ ÐžÑˆÐ¸Ð±ÐºÐ°:', error);
    process.exit(1);
  });
