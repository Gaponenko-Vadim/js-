# üèóÔ∏è –ß–µ–∫-–ª–∏—Å—Ç —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã REST API Trainer

**–¶–µ–ª—å:** –ò–∑–±–∞–≤–∏—Ç—å—Å—è –æ—Ç –º–æ–Ω–æ–ª–∏—Ç–∞, —É—Å—Ç—Ä–∞–Ω–∏—Ç—å –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ, –≤–Ω–µ–¥—Ä–∏—Ç—å Redux, —Å–æ–∑–¥–∞—Ç—å –æ–±—â–∏–µ —Å—Ç–∏–ª–∏

**–°—Ç–∞—Ç—É—Å:** üöÄ –í –ø—Ä–æ—Ü–µ—Å—Å–µ
**–î–∞—Ç–∞ –Ω–∞—á–∞–ª–∞:** 2026-01-26

---

## üìä –¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞

### –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–æ–±–ª–µ–º—ã (–Ω–∞–π–¥–µ–Ω—ã –∞–Ω–∞–ª–∏–∑–æ–º)

**üî¥ –ú–æ–Ω–æ–ª–∏—Ç–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã (–ö–†–ò–¢–ò–ß–ù–û):**
- ‚ùå `combined-test/page.tsx` - **703 —Å—Ç—Ä–æ–∫–∏**
- ‚ùå `LectureModal.tsx` - **672 —Å—Ç—Ä–æ–∫–∏**
- ‚ùå `tests/[id]/page.tsx` - **669 —Å—Ç—Ä–æ–∫**
- ‚ö†Ô∏è `tests/page.tsx` - **522 —Å—Ç—Ä–æ–∫–∏**
- ‚ö†Ô∏è `results/page.tsx` - **479 —Å—Ç—Ä–æ–∫**
- ‚ö†Ô∏è `my-lists/page.tsx` - **383 —Å—Ç—Ä–æ–∫–∏**

**üî¥ –î—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–¥–∞:**
- ‚ùå 58 –ø–æ–≤—Ç–æ—Ä–µ–Ω–∏–π `getServerSession()` –≤ 17 API routes
- ‚ùå –î—É–±–ª–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –ª–æ–≥–∏–∫–∞ —Ç–∞–π–º–µ—Ä–∞ –≤ `tests/[id]` –∏ `combined-test`
- ‚ùå –î—É–±–ª–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –ª–æ–≥–∏–∫–∞ submit —Ç–µ—Å—Ç–∞
- ‚ùå –î—É–±–ª–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Å—Ç–∏–ª–∏ –∫–Ω–æ–ø–æ–∫, –∫–∞—Ä—Ç–æ—á–µ–∫, –º–æ–¥–∞–ª—å–Ω—ã—Ö –æ–∫–æ–Ω

**üî¥ –ù–µ–æ–ø—Ç–∏–º–∞–ª—å–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ Redux:**
- ‚ùå Redux –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –¥–ª—è Pomodoro –∏ UserLists
- ‚ùå –°–æ—Å—Ç–æ—è–Ω–∏–µ —Ç–µ—Å—Ç–æ–≤ —É–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è —á–µ—Ä–µ–∑ `useState` + sessionStorage
- ‚ùå –ù–µ—Ç —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–≥–æ API layer (RTK Query)
- ‚ùå –ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ `fetch()` –≤—ã–∑–æ–≤—ã –≤ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞—Ö

**üî¥ –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –æ–±—â–∏—Ö —Å—Ç–∏–ª–µ–π:**
- ‚ùå –î—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ CSS –≤ –∫–∞–∂–¥–æ–º `.module.scss` —Ñ–∞–π–ª–µ
- ‚ùå –ù–µ—Ç design tokens (—Ü–≤–µ—Ç–∞, –æ—Ç—Å—Ç—É–ø—ã, —à—Ä–∏—Ñ—Ç—ã)
- ‚ùå –ù–µ—Ç –µ–¥–∏–Ω–æ–π —Å–∏—Å—Ç–µ–º—ã –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
- ‚ùå Hardcoded –∑–Ω–∞—á–µ–Ω–∏—è —Ü–≤–µ—Ç–æ–≤ –∏ —Ä–∞–∑–º–µ—Ä–æ–≤

---

## üéØ –§–∞–∑—ã —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞

### ‚úÖ –§–∞–∑–∞ 0: –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ (1-2 –¥–Ω—è)
- [ ] –°–æ–∑–¥–∞—Ç—å —Å–∏—Å—Ç–µ–º—É Design Tokens
- [ ] –°–æ–∑–¥–∞—Ç—å –æ–±—â–∏–µ SCSS –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ
- [ ] –ù–∞—Å—Ç—Ä–æ–∏—Ç—å feature-based —Å—Ç—Ä—É–∫—Ç—É—Ä—É –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–π
- [ ] –°–æ–∑–¥–∞—Ç—å Auth Middleware –¥–ª—è API

### üöÄ –§–∞–∑–∞ 1: –†–∞–∑–±–∏–≤–∫–∞ –º–æ–Ω–æ–ª–∏—Ç–æ–≤ (1 –Ω–µ–¥–µ–ª—è)
- [ ] –†–∞–∑–±–∏—Ç—å `tests/[id]/page.tsx` –Ω–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
- [ ] –†–∞–∑–±–∏—Ç—å `combined-test/page.tsx` –Ω–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
- [ ] –†–∞–∑–±–∏—Ç—å `LectureModal.tsx` –Ω–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
- [ ] –°–æ–∑–¥–∞—Ç—å –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

### üîÑ –§–∞–∑–∞ 2: –í–Ω–µ–¥—Ä–µ–Ω–∏–µ Redux + RTK Query (1 –Ω–µ–¥–µ–ª—è)
- [ ] –ù–∞—Å—Ç—Ä–æ–∏—Ç—å RTK Query
- [ ] –°–æ–∑–¥–∞—Ç—å API endpoints –¥–ª—è —Ç–µ—Å—Ç–æ–≤
- [ ] –°–æ–∑–¥–∞—Ç—å API endpoints –¥–ª—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
- [ ] –ú–∏–≥—Ä–∏—Ä–æ–≤–∞—Ç—å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –Ω–∞ Redux hooks

### üé® –§–∞–∑–∞ 3: –û–±—â–∏–µ —Å—Ç–∏–ª–∏ –∏ UI Kit (3-5 –¥–Ω–µ–π)
- [ ] –°–æ–∑–¥–∞—Ç—å Design System
- [ ] –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
- [ ] –°–æ–∑–¥–∞—Ç—å –Ω–µ–¥–æ—Å—Ç–∞—é—â–∏–µ UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
- [ ] –ü—Ä–∏–º–µ–Ω–∏—Ç—å –æ–±—â–∏–µ —Å—Ç–∏–ª–∏ –≤–µ–∑–¥–µ

### üßπ –§–∞–∑–∞ 4: –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è (2-3 –¥–Ω—è)
- [ ] –í–Ω–µ–¥—Ä–∏—Ç—å Auth Middleware –≤–æ –≤—Å–µ—Ö API
- [ ] –ò–∑–≤–ª–µ—á—å –æ–±—â—É—é –ª–æ–≥–∏–∫—É —Ç–∞–π–º–µ—Ä–∞
- [ ] –ò–∑–≤–ª–µ—á—å –æ–±—â—É—é –ª–æ–≥–∏–∫—É submit —Ç–µ—Å—Ç–∞
- [ ] –£–¥–∞–ª–∏—Ç—å –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∫–æ–¥

---

## üìù –î–µ—Ç–∞–ª—å–Ω—ã–π —á–µ–∫-–ª–∏—Å—Ç

## –§–∞–∑–∞ 0: –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞

### 0.1. –°–æ–∑–¥–∞—Ç—å —Å–∏—Å—Ç–µ–º—É Design Tokens
**–§–∞–π–ª:** `src/styles/tokens.scss`

- [ ] –°–æ–∑–¥–∞—Ç—å —Ü–≤–µ—Ç–æ–≤—É—é –ø–∞–ª–∏—Ç—Ä—É
  ```scss
  // Primary colors
  $color-primary: #007bff;
  $color-primary-hover: #0056b3;
  $color-primary-light: #e7f3ff;

  // Semantic colors
  $color-success: #28a745;
  $color-error: #dc3545;
  $color-warning: #ffc107;
  $color-info: #17a2b8;

  // Neutral colors
  $color-text-primary: #212529;
  $color-text-secondary: #6c757d;
  $color-background: #f8f9fa;
  $color-border: #dee2e6;
  ```

- [ ] –°–æ–∑–¥–∞—Ç—å spacing tokens
  ```scss
  $spacing-xs: 0.25rem;  // 4px
  $spacing-sm: 0.5rem;   // 8px
  $spacing-md: 1rem;     // 16px
  $spacing-lg: 1.5rem;   // 24px
  $spacing-xl: 2rem;     // 32px
  $spacing-xxl: 3rem;    // 48px
  ```

- [ ] –°–æ–∑–¥–∞—Ç—å typography tokens
  ```scss
  $font-size-xs: 0.75rem;   // 12px
  $font-size-sm: 0.875rem;  // 14px
  $font-size-md: 1rem;      // 16px
  $font-size-lg: 1.125rem;  // 18px
  $font-size-xl: 1.5rem;    // 24px
  $font-size-xxl: 2rem;     // 32px

  $font-weight-normal: 400;
  $font-weight-medium: 500;
  $font-weight-bold: 700;
  ```

- [ ] –°–æ–∑–¥–∞—Ç—å border radius tokens
  ```scss
  $border-radius-sm: 0.25rem;  // 4px
  $border-radius-md: 0.5rem;   // 8px
  $border-radius-lg: 1rem;     // 16px
  $border-radius-full: 9999px; // –∫—Ä—É–≥–ª—ã–µ –∫–Ω–æ–ø–∫–∏
  ```

- [ ] –°–æ–∑–¥–∞—Ç—å shadow tokens
  ```scss
  $shadow-sm: 0 1px 2px 0 rgba(0, 0, 0, 0.05);
  $shadow-md: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
  $shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
  ```

- [ ] –°–æ–∑–¥–∞—Ç—å breakpoint tokens
  ```scss
  $breakpoint-mobile: 320px;
  $breakpoint-tablet: 768px;
  $breakpoint-desktop: 1024px;
  $breakpoint-wide: 1280px;
  ```

**–ö—Ä–∏—Ç–µ—Ä–∏–π –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏:** ‚úÖ –§–∞–π–ª `tokens.scss` —Å–æ–∑–¥–∞–Ω, –≤—Å–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω—ã

---

### 0.2. –°–æ–∑–¥–∞—Ç—å –≥–ª–æ–±–∞–ª—å–Ω—ã–µ SCSS —É—Ç–∏–ª–∏—Ç—ã
**–§–∞–π–ª:** `src/styles/utilities.scss`

- [ ] –°–æ–∑–¥–∞—Ç—å mixins –¥–ª—è —Ñ–ª–µ–∫—Å–±–æ–∫—Å–∞
  ```scss
  @mixin flex-center {
    display: flex;
    align-items: center;
    justify-content: center;
  }

  @mixin flex-between {
    display: flex;
    align-items: center;
    justify-content: space-between;
  }
  ```

- [ ] –°–æ–∑–¥–∞—Ç—å mixins –¥–ª—è –∞–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç–∏
  ```scss
  @mixin mobile {
    @media (max-width: $breakpoint-tablet - 1) { @content; }
  }

  @mixin tablet {
    @media (min-width: $breakpoint-tablet) { @content; }
  }

  @mixin desktop {
    @media (min-width: $breakpoint-desktop) { @content; }
  }
  ```

- [ ] –°–æ–∑–¥–∞—Ç—å utility –∫–ª–∞—Å—Å—ã
  ```scss
  .text-center { text-align: center; }
  .text-left { text-align: left; }
  .text-right { text-align: right; }

  .mb-sm { margin-bottom: $spacing-sm; }
  .mb-md { margin-bottom: $spacing-md; }
  .mb-lg { margin-bottom: $spacing-lg; }
  ```

**–ö—Ä–∏—Ç–µ—Ä–∏–π –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏:** ‚úÖ –§–∞–π–ª `utilities.scss` —Å–æ–∑–¥–∞–Ω –∏ –∏–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω –≤ `globals.scss`

---

### 0.3. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å feature-based —Å—Ç—Ä—É–∫—Ç—É—Ä—É
**–¶–µ–ª—å:** –°–æ–∑–¥–∞—Ç—å –º–æ–¥—É–ª—å–Ω—É—é –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É

- [ ] –°–æ–∑–¥–∞—Ç—å –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é `src/features/`
- [ ] –°–æ–∑–¥–∞—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä—É –¥–ª—è feature `tests`
  ```
  src/features/tests/
  ‚îú‚îÄ‚îÄ components/
  ‚îÇ   ‚îú‚îÄ‚îÄ TestCard/
  ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ TestCard.tsx
  ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ TestCard.module.scss
  ‚îÇ   ‚îú‚îÄ‚îÄ TestFilters/
  ‚îÇ   ‚îú‚îÄ‚îÄ TestQuestion/
  ‚îÇ   ‚îî‚îÄ‚îÄ TestTimer/
  ‚îú‚îÄ‚îÄ hooks/
  ‚îÇ   ‚îú‚îÄ‚îÄ useTestTimer.ts
  ‚îÇ   ‚îú‚îÄ‚îÄ useTestSubmit.ts
  ‚îÇ   ‚îî‚îÄ‚îÄ useTestProgress.ts
  ‚îú‚îÄ‚îÄ store/
  ‚îÇ   ‚îú‚îÄ‚îÄ testsSlice.ts
  ‚îÇ   ‚îî‚îÄ‚îÄ testsApi.ts (RTK Query)
  ‚îú‚îÄ‚îÄ types/
  ‚îÇ   ‚îî‚îÄ‚îÄ index.ts
  ‚îî‚îÄ‚îÄ utils/
      ‚îî‚îÄ‚îÄ testHelpers.ts
  ```

- [ ] –°–æ–∑–¥–∞—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä—É –¥–ª—è feature `results`
  ```
  src/features/results/
  ‚îú‚îÄ‚îÄ components/
  ‚îÇ   ‚îú‚îÄ‚îÄ ResultCard/
  ‚îÇ   ‚îú‚îÄ‚îÄ ResultFilters/
  ‚îÇ   ‚îî‚îÄ‚îÄ ResultChart/
  ‚îú‚îÄ‚îÄ store/
  ‚îÇ   ‚îî‚îÄ‚îÄ resultsApi.ts
  ‚îî‚îÄ‚îÄ types/
      ‚îî‚îÄ‚îÄ index.ts
  ```

- [ ] –°–æ–∑–¥–∞—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä—É –¥–ª—è feature `lectures`
  ```
  src/features/lectures/
  ‚îú‚îÄ‚îÄ components/
  ‚îÇ   ‚îú‚îÄ‚îÄ LectureContent/
  ‚îÇ   ‚îú‚îÄ‚îÄ LectureNavigation/
  ‚îÇ   ‚îî‚îÄ‚îÄ LectureTasks/
  ‚îú‚îÄ‚îÄ store/
  ‚îÇ   ‚îî‚îÄ‚îÄ lecturesApi.ts
  ‚îî‚îÄ‚îÄ types/
      ‚îî‚îÄ‚îÄ index.ts
  ```

- [ ] –°–æ–∑–¥–∞—Ç—å `src/shared/` –¥–ª—è –æ–±—â–∏—Ö —Ä–µ—Å—É—Ä—Å–æ–≤
  ```
  src/shared/
  ‚îú‚îÄ‚îÄ ui/              # UI Kit –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
  ‚îú‚îÄ‚îÄ layouts/         # Layout –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
  ‚îú‚îÄ‚îÄ hooks/           # –û–±—â–∏–µ hooks
  ‚îú‚îÄ‚îÄ api/
  ‚îÇ   ‚îî‚îÄ‚îÄ middleware/
  ‚îÇ       ‚îî‚îÄ‚îÄ authMiddleware.ts
  ‚îî‚îÄ‚îÄ utils/           # –£—Ç–∏–ª–∏—Ç—ã
  ```

**–ö—Ä–∏—Ç–µ—Ä–∏–π –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏:** ‚úÖ –í—Å–µ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ —Å–æ–∑–¥–∞–Ω—ã, —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –≥–æ—Ç–æ–≤–∞ –∫ –º–∏–≥—Ä–∞—Ü–∏–∏

---

### 0.4. –°–æ–∑–¥–∞—Ç—å Auth Middleware –¥–ª—è API
**–§–∞–π–ª:** `src/shared/api/middleware/authMiddleware.ts`

- [ ] –°–æ–∑–¥–∞—Ç—å —Ç–∏–ø—ã –¥–ª—è middleware
  ```typescript
  export interface AuthContext {
    user: User;
    session: Session;
    params?: any;
  }

  export type AuthHandler = (
    req: Request,
    context: AuthContext
  ) => Promise<Response>;
  ```

- [ ] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å `withAuth` middleware
  ```typescript
  export async function withAuth(handler: AuthHandler) {
    return async (req: Request, context: any) => {
      const session = await getServerSession(authOptions);

      if (!session?.user?.email) {
        return NextResponse.json(
          { error: 'Unauthorized' },
          { status: 401 }
        );
      }

      const user = await prisma.user.findUnique({
        where: { email: session.user.email }
      });

      if (!user) {
        return NextResponse.json(
          { error: 'User not found' },
          { status: 404 }
        );
      }

      return handler(req, {
        user,
        session,
        params: context.params
      });
    };
  }
  ```

- [ ] –°–æ–∑–¥–∞—Ç—å –ø—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
  ```typescript
  // app/api/tests/route.ts
  export const GET = withAuth(async (req, { user }) => {
    const tests = await prisma.test.findMany({
      where: { userId: user.id }
    });
    return NextResponse.json(tests);
  });
  ```

**–ö—Ä–∏—Ç–µ—Ä–∏–π –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏:** ‚úÖ Middleware —Å–æ–∑–¥–∞–Ω, –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω –Ω–∞ 1 API route

---

## –§–∞–∑–∞ 1: –†–∞–∑–±–∏–≤–∫–∞ –º–æ–Ω–æ–ª–∏—Ç–æ–≤

### 1.1. –†–∞–∑–±–∏—Ç—å `tests/[id]/page.tsx` (669 —Å—Ç—Ä–æ–∫ ‚Üí ~80 —Å—Ç—Ä–æ–∫)

**–ê–Ω–∞–ª–∏–∑:** –≠—Ç–æ—Ç —Ñ–∞–π–ª —Å–æ–¥–µ—Ä–∂–∏—Ç:
- –õ–æ–≥–∏–∫—É —Ç–∞–π–º–µ—Ä–∞
- –õ–æ–≥–∏–∫—É –ø—Ä–æ–≥—Ä–µ—Å—Å–∞ —Ç–µ—Å—Ç–∞
- –õ–æ–≥–∏–∫—É submit
- UI –≤–æ–ø—Ä–æ—Å–æ–≤
- UI —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
- –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –∏–∑ sessionStorage

**–ü–ª–∞–Ω —Ä–∞–∑–±–∏–≤–∫–∏:**

- [ ] –°–æ–∑–¥–∞—Ç—å `src/features/tests/hooks/useTestTimer.ts`
  ```typescript
  export function useTestTimer(
    testStarted: boolean,
    isExamMode: boolean,
    examDuration: number
  ) {
    const [timeLeft, setTimeLeft] = useState(examDuration);
    const [endTime, setEndTime] = useState<number | null>(null);

    // ... –≤—Å—è –ª–æ–≥–∏–∫–∞ —Ç–∞–π–º–µ—Ä–∞

    return { timeLeft, isTimeUp };
  }
  ```

- [ ] –°–æ–∑–¥–∞—Ç—å `src/features/tests/hooks/useTestProgress.ts`
  ```typescript
  export function useTestProgress(testId: string) {
    const [currentQuestionIndex, setCurrentQuestionIndex] = useState(0);
    const [userAnswers, setUserAnswers] = useState<number[]>([]);

    // –ê–≤—Ç–æ—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ sessionStorage
    useEffect(() => {
      if (!showResults) {
        sessionStorage.setItem(`test_${testId}_state`, JSON.stringify({
          currentQuestionIndex,
          userAnswers,
          // ...
        }));
      }
    }, [currentQuestionIndex, userAnswers]);

    // –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –∏–∑ sessionStorage
    useEffect(() => {
      const saved = sessionStorage.getItem(`test_${testId}_state`);
      if (saved) {
        const state = JSON.parse(saved);
        setCurrentQuestionIndex(state.currentQuestionIndex);
        // ...
      }
    }, [testId]);

    return {
      currentQuestionIndex,
      userAnswers,
      setCurrentQuestionIndex,
      setUserAnswers,
      // ...
    };
  }
  ```

- [ ] –°–æ–∑–¥–∞—Ç—å `src/features/tests/hooks/useTestSubmit.ts`
  ```typescript
  export function useTestSubmit() {
    const [isSubmitting, setIsSubmitting] = useState(false);

    const submitTest = async (testId: string, answers: number[]) => {
      setIsSubmitting(true);
      try {
        const response = await fetch(`/api/tests/${testId}/submit`, {
          method: 'POST',
          headers: { 'Content-Type': 'application/json' },
          body: JSON.stringify({ answers })
        });
        const result = await response.json();
        return result;
      } finally {
        setIsSubmitting(false);
      }
    };

    return { submitTest, isSubmitting };
  }
  ```

- [ ] –°–æ–∑–¥–∞—Ç—å `src/features/tests/components/TestQuestion/TestQuestion.tsx`
  ```typescript
  interface TestQuestionProps {
    question: QuestionWithOptions;
    questionNumber: number;
    totalQuestions: number;
    selectedAnswer: number | null;
    onAnswerSelect: (index: number) => void;
    isExamMode: boolean;
  }

  export function TestQuestion({
    question,
    questionNumber,
    totalQuestions,
    selectedAnswer,
    onAnswerSelect,
    isExamMode
  }: TestQuestionProps) {
    return (
      <div className={styles.questionContainer}>
        <div className={styles.questionHeader}>
          <span>–í–æ–ø—Ä–æ—Å {questionNumber} –∏–∑ {totalQuestions}</span>
        </div>
        <h2>{question.text}</h2>
        <div className={styles.options}>
          {question.options.map((option, index) => (
            <button
              key={index}
              className={cn(
                styles.option,
                selectedAnswer === index && styles.selected
              )}
              onClick={() => onAnswerSelect(index)}
            >
              {option}
            </button>
          ))}
        </div>
      </div>
    );
  }
  ```

- [ ] –°–æ–∑–¥–∞—Ç—å `src/features/tests/components/TestTimer/TestTimer.tsx`
  ```typescript
  interface TestTimerProps {
    timeLeft: number;
    isWarning: boolean;
  }

  export function TestTimer({ timeLeft, isWarning }: TestTimerProps) {
    const minutes = Math.floor(timeLeft / 60);
    const seconds = timeLeft % 60;

    return (
      <div className={cn(
        styles.timer,
        isWarning && styles.warning
      )}>
        ‚è±Ô∏è {minutes}:{seconds.toString().padStart(2, '0')}
      </div>
    );
  }
  ```

- [ ] –°–æ–∑–¥–∞—Ç—å `src/features/tests/components/TestNavigation/TestNavigation.tsx`
  ```typescript
  interface TestNavigationProps {
    currentIndex: number;
    totalQuestions: number;
    hasAnswer: boolean;
    onPrevious: () => void;
    onNext: () => void;
    onSubmit: () => void;
  }

  export function TestNavigation({
    currentIndex,
    totalQuestions,
    hasAnswer,
    onPrevious,
    onNext,
    onSubmit
  }: TestNavigationProps) {
    const isFirstQuestion = currentIndex === 0;
    const isLastQuestion = currentIndex === totalQuestions - 1;

    return (
      <div className={styles.navigation}>
        <button
          onClick={onPrevious}
          disabled={isFirstQuestion}
        >
          ‚Üê –ù–∞–∑–∞–¥
        </button>

        {isLastQuestion ? (
          <button
            onClick={onSubmit}
            disabled={!hasAnswer}
            className={styles.submitButton}
          >
            –ó–∞–≤–µ—Ä—à–∏—Ç—å —Ç–µ—Å—Ç
          </button>
        ) : (
          <button
            onClick={onNext}
            disabled={!hasAnswer}
          >
            –î–∞–ª–µ–µ ‚Üí
          </button>
        )}
      </div>
    );
  }
  ```

- [ ] –°–æ–∑–¥–∞—Ç—å `src/features/tests/components/TestResults/TestResults.tsx`
  ```typescript
  interface TestResultsProps {
    score: number;
    totalQuestions: number;
    correctAnswers: number[];
    userAnswers: number[];
    questions: Question[];
    onRestart: () => void;
  }

  export function TestResults({
    score,
    totalQuestions,
    correctAnswers,
    userAnswers,
    questions,
    onRestart
  }: TestResultsProps) {
    return (
      <div className={styles.results}>
        <h2>–†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ç–µ—Å—Ç–∞</h2>
        <div className={styles.scoreCircle}>
          {score}%
        </div>

        <div className={styles.questionReview}>
          {questions.map((q, index) => (
            <QuestionReviewCard
              key={q.id}
              question={q}
              userAnswer={userAnswers[index]}
              correctAnswer={correctAnswers[index]}
              questionNumber={index + 1}
            />
          ))}
        </div>

        <button onClick={onRestart}>
          –ü—Ä–æ–π—Ç–∏ –∑–∞–Ω–æ–≤–æ
        </button>
      </div>
    );
  }
  ```

- [ ] –û–±–Ω–æ–≤–∏—Ç—å `app/(dashboard)/tests/[id]/page.tsx` - –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –Ω–æ–≤—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
  ```typescript
  export default function TestPage({ params }: Props) {
    const { data: test, isLoading } = useGetTestQuery(params.id);

    const [testMode, setTestMode] = useState<'learning' | 'exam' | null>(null);
    const [showResults, setShowResults] = useState(false);

    const {
      currentQuestionIndex,
      userAnswers,
      handleAnswerSelect,
      handleNext,
      handlePrevious
    } = useTestProgress(params.id);

    const { timeLeft, isTimeUp } = useTestTimer(
      !!testMode,
      testMode === 'exam',
      (test?.questions.length || 0) * 20
    );

    const { submitTest, isSubmitting } = useTestSubmit();

    // –ö–æ–º–ø–∞–∫—Ç–Ω–∞—è –ª–æ–≥–∏–∫–∞ - —Ç–æ–ª—å–∫–æ –æ—Ä–∫–µ—Å—Ç—Ä–æ–≤–∫–∞

    if (isLoading) return <LoadingSpinner />;

    if (!testMode) {
      return <TestModeSelector onSelect={setTestMode} />;
    }

    if (showResults) {
      return <TestResults {...resultsData} />;
    }

    return (
      <div>
        {testMode === 'exam' && (
          <TestTimer timeLeft={timeLeft} isWarning={timeLeft < 60} />
        )}

        <TestQuestion
          question={currentQuestion}
          questionNumber={currentQuestionIndex + 1}
          totalQuestions={test.questions.length}
          selectedAnswer={userAnswers[currentQuestionIndex]}
          onAnswerSelect={handleAnswerSelect}
          isExamMode={testMode === 'exam'}
        />

        <TestNavigation
          currentIndex={currentQuestionIndex}
          totalQuestions={test.questions.length}
          hasAnswer={userAnswers[currentQuestionIndex] !== undefined}
          onPrevious={handlePrevious}
          onNext={handleNext}
          onSubmit={handleSubmit}
        />
      </div>
    );
  }
  ```

**–ö—Ä–∏—Ç–µ—Ä–∏–π –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏:**
- ‚úÖ –§–∞–π–ª `tests/[id]/page.tsx` —Å–æ–∫—Ä–∞—â–µ–Ω –¥–æ ~80-100 —Å—Ç—Ä–æ–∫
- ‚úÖ –í—Å–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –∏–∑–≤–ª–µ—á–µ–Ω—ã –∏ —Ä–∞–±–æ—Ç–∞—é—Ç
- ‚úÖ –¢–µ—Å—Ç—ã –ø—Ä–æ—Ö–æ–¥—è—Ç –±–µ–∑ –æ—à–∏–±–æ–∫
- ‚úÖ –ê–≤—Ç–æ—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ

---

### 1.2. –†–∞–∑–±–∏—Ç—å `combined-test/page.tsx` (703 —Å—Ç—Ä–æ–∫–∏ ‚Üí ~80 —Å—Ç—Ä–æ–∫)

**–ü–ª–∞–Ω:**
- [ ] –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ç–µ –∂–µ hooks —á—Ç–æ –∏ –¥–ª—è –æ–±—ã—á–Ω—ã—Ö —Ç–µ—Å—Ç–æ–≤ (`useTestTimer`, `useTestProgress`, `useTestSubmit`)
- [ ] –°–æ–∑–¥–∞—Ç—å `CombinedTestQuestion` –∫–æ–º–ø–æ–Ω–µ–Ω—Ç (–æ—Ç–ª–∏—á–∏–µ - –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç sourceTestId)
- [ ] –ü–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `TestNavigation`, `TestTimer`, `TestResults`
- [ ] –û–±–Ω–æ–≤–∏—Ç—å –æ—Å–Ω–æ–≤–Ω–æ–π —Ñ–∞–π–ª - —É–±—Ä–∞—Ç—å –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ

**–ö—Ä–∏—Ç–µ—Ä–∏–π –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏:**
- ‚úÖ –§–∞–π–ª —Å–æ–∫—Ä–∞—â–µ–Ω –¥–æ ~80-100 —Å—Ç—Ä–æ–∫
- ‚úÖ –ü–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –∏–∑ `tests/[id]`
- ‚úÖ –ù–µ—Ç –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è –ª–æ–≥–∏–∫–∏

---

### 1.3. –†–∞–∑–±–∏—Ç—å `LectureModal.tsx` (672 —Å—Ç—Ä–æ–∫–∏ ‚Üí ~150 —Å—Ç—Ä–æ–∫)

**–ê–Ω–∞–ª–∏–∑:** –ö–æ–º–ø–æ–Ω–µ–Ω—Ç —Å–æ–¥–µ—Ä–∂–∏—Ç:
- Markdown —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥
- –ù–∞–≤–∏–≥–∞—Ü–∏—é –ø–æ —Ä–∞–∑–¥–µ–ª–∞–º
- –õ–æ–≥–∏–∫—É –∑–∞–¥–∞—á (tasks)
- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ

**–ü–ª–∞–Ω:**
- [ ] –°–æ–∑–¥–∞—Ç—å `src/features/lectures/components/LectureContent/LectureContent.tsx`
  - –¢–æ–ª—å–∫–æ markdown —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥
  - –ë–µ–∑ –ª–æ–≥–∏–∫–∏ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏

- [ ] –°–æ–∑–¥–∞—Ç—å `src/features/lectures/components/LectureNavigation/LectureNavigation.tsx`
  - –ù–∞–≤–∏–≥–∞—Ü–∏—è –ø–æ —Ä–∞–∑–¥–µ–ª–∞–º
  - TOC (table of contents)

- [ ] –°–æ–∑–¥–∞—Ç—å `src/features/lectures/components/LectureTasks/LectureTasks.tsx`
  - –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∑–∞–¥–∞—á
  - –ü—Ä–æ–≥—Ä–µ—Å—Å –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è

- [ ] –°–æ–∑–¥–∞—Ç—å `src/shared/ui/Modal/Modal.tsx`
  - –£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π –º–æ–¥–∞–ª—å–Ω—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç
  - –ü–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–π –¥–ª—è –≤—Å–µ—Ö –º–æ–¥–∞–ª–æ–∫

- [ ] –û–±–Ω–æ–≤–∏—Ç—å `LectureModal.tsx` - —Å–æ–±—Ä–∞—Ç—å –∏–∑ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤

**–ö—Ä–∏—Ç–µ—Ä–∏–π –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏:**
- ‚úÖ –§–∞–π–ª —Å–æ–∫—Ä–∞—â–µ–Ω –¥–æ ~150 —Å—Ç—Ä–æ–∫
- ‚úÖ –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –∏–∑–≤–ª–µ—á–µ–Ω—ã
- ‚úÖ –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ —Ä–∞–±–æ—Ç–∞–µ—Ç

---

### 1.4. –°–æ–∑–¥–∞—Ç—å –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

- [ ] `src/shared/ui/Button/Button.tsx`
  - –í–∞—Ä–∏–∞–Ω—Ç—ã: primary, secondary, danger, ghost
  - –†–∞–∑–º–µ—Ä—ã: sm, md, lg
  - States: loading, disabled

- [ ] `src/shared/ui/Card/Card.tsx`
  - –û–±–Ω–æ–≤–∏—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π
  - –î–æ–±–∞–≤–∏—Ç—å –≤–∞—Ä–∏–∞–Ω—Ç—ã: default, outlined, elevated

- [ ] `src/shared/ui/Input/Input.tsx`
  - –û–±–Ω–æ–≤–∏—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π
  - –î–æ–±–∞–≤–∏—Ç—å error states, icons

- [ ] `src/shared/ui/Modal/Modal.tsx`
  - –£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–æ–µ –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ
  - Close on ESC, backdrop click

- [ ] `src/shared/ui/Spinner/Spinner.tsx`
  - –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä –∑–∞–≥—Ä—É–∑–∫–∏
  - –í–∞—Ä–∏–∞–Ω—Ç—ã: inline, fullscreen

- [ ] `src/shared/ui/Badge/Badge.tsx`
  - –ë–µ–π–¥–∂–∏ –¥–ª—è —Å—Ç–∞—Ç—É—Å–æ–≤
  - –í–∞—Ä–∏–∞–Ω—Ç—ã: success, error, warning, info

- [ ] `src/shared/ui/Tabs/Tabs.tsx`
  - –¢–∞–±—ã –¥–ª—è –Ω–∞–≤–∏–≥–∞—Ü–∏–∏
  - –î–ª—è —Å—Ç—Ä–∞–Ω–∏—Ü—ã tests (—Ñ–∏–ª—å—Ç—Ä—ã)

**–ö—Ä–∏—Ç–µ—Ä–∏–π –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏:**
- ‚úÖ –í—Å–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Å–æ–∑–¥–∞–Ω—ã
- ‚úÖ –ò—Å–ø–æ–ª—å–∑—É—é—Ç design tokens
- ‚úÖ –î–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω—ã –≤ Storybook (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

---

## –§–∞–∑–∞ 2: –í–Ω–µ–¥—Ä–µ–Ω–∏–µ Redux + RTK Query

### 2.1. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å RTK Query
**–§–∞–π–ª:** `src/store/api.ts`

- [ ] –°–æ–∑–¥–∞—Ç—å –±–∞–∑–æ–≤—ã–π API slice
  ```typescript
  import { createApi, fetchBaseQuery } from '@reduxjs/toolkit/query/react';

  export const api = createApi({
    reducerPath: 'api',
    baseQuery: fetchBaseQuery({ baseUrl: '/api' }),
    tagTypes: ['Tests', 'Results', 'Lectures', 'Categories', 'UserLists'],
    endpoints: () => ({}),
  });
  ```

- [ ] –î–æ–±–∞–≤–∏—Ç—å –≤ store
  ```typescript
  export const store = configureStore({
    reducer: {
      pomodoro: pomodoroReducer,
      userLists: userListsReducer,
      [api.reducerPath]: api.reducer,
    },
    middleware: (getDefaultMiddleware) =>
      getDefaultMiddleware().concat(api.middleware),
  });
  ```

**–ö—Ä–∏—Ç–µ—Ä–∏–π –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏:** ‚úÖ RTK Query –Ω–∞—Å—Ç—Ä–æ–µ–Ω, store –æ–±–Ω–æ–≤–ª–µ–Ω

---

### 2.2. –°–æ–∑–¥–∞—Ç—å API endpoints –¥–ª—è —Ç–µ—Å—Ç–æ–≤
**–§–∞–π–ª:** `src/features/tests/store/testsApi.ts`

- [ ] –°–æ–∑–¥–∞—Ç—å queries –∏ mutations
  ```typescript
  export const testsApi = api.injectEndpoints({
    endpoints: (builder) => ({
      getTests: builder.query<Test[], FilterParams>({
        query: (params) => ({
          url: '/tests',
          params: {
            difficulty: params.difficulty,
            category: params.category,
            // ...
          }
        }),
        providesTags: ['Tests'],
      }),

      getTestById: builder.query<TestWithQuestions, string>({
        query: (id) => `/tests/${id}`,
        providesTags: (result, error, id) => [{ type: 'Tests', id }],
      }),

      submitTest: builder.mutation<TestResult, SubmitTestDto>({
        query: ({ testId, answers }) => ({
          url: `/tests/${testId}/submit`,
          method: 'POST',
          body: { answers },
        }),
        invalidatesTags: ['Results', 'Tests'],
      }),
    }),
  });

  export const {
    useGetTestsQuery,
    useGetTestByIdQuery,
    useSubmitTestMutation,
  } = testsApi;
  ```

**–ö—Ä–∏—Ç–µ—Ä–∏–π –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏:** ‚úÖ API endpoints —Ä–∞–±–æ—Ç–∞—é—Ç, –¥–∞–Ω–Ω—ã–µ –∫—ç—à–∏—Ä—É—é—Ç—Å—è

---

### 2.3. –°–æ–∑–¥–∞—Ç—å API endpoints –¥–ª—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
**–§–∞–π–ª:** `src/features/results/store/resultsApi.ts`

- [ ] –°–æ–∑–¥–∞—Ç—å queries
  ```typescript
  export const resultsApi = api.injectEndpoints({
    endpoints: (builder) => ({
      getResults: builder.query<TestResult[], void>({
        query: () => '/results',
        providesTags: ['Results'],
      }),

      getResultById: builder.query<TestResultDetailed, string>({
        query: (id) => `/results/${id}`,
        providesTags: (result, error, id) => [{ type: 'Results', id }],
      }),
    }),
  });

  export const {
    useGetResultsQuery,
    useGetResultByIdQuery,
  } = resultsApi;
  ```

**–ö—Ä–∏—Ç–µ—Ä–∏–π –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏:** ‚úÖ API endpoints —Ä–∞–±–æ—Ç–∞—é—Ç

---

### 2.4. –ú–∏–≥—Ä–∏—Ä–æ–≤–∞—Ç—å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –Ω–∞ Redux hooks

- [ ] –û–±–Ω–æ–≤–∏—Ç—å `tests/page.tsx`
  - –ó–∞–º–µ–Ω–∏—Ç—å `fetch()` –Ω–∞ `useGetTestsQuery()`
  - –£–¥–∞–ª–∏—Ç—å useState –¥–ª—è tests, loading, error

- [ ] –û–±–Ω–æ–≤–∏—Ç—å `tests/[id]/page.tsx`
  - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `useGetTestByIdQuery(params.id)`
  - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `useSubmitTestMutation()`

- [ ] –û–±–Ω–æ–≤–∏—Ç—å `results/page.tsx`
  - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `useGetResultsQuery()`

- [ ] –û–±–Ω–æ–≤–∏—Ç—å `lectures/page.tsx`
  - –°–æ–∑–¥–∞—Ç—å `lecturesApi.ts`
  - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `useGetLecturesQuery()`

**–ö—Ä–∏—Ç–µ—Ä–∏–π –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏:**
- ‚úÖ –í—Å–µ fetch –≤—ã–∑–æ–≤—ã –∑–∞–º–µ–Ω–µ–Ω—ã –Ω–∞ RTK Query
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–∞–±–æ—Ç–∞–µ—Ç
- ‚úÖ –ó–∞–≥—Ä—É–∑–∫–∞ —É—Å–∫–æ—Ä–∏–ª–∞—Å—å –±–ª–∞–≥–æ–¥–∞—Ä—è –∫—ç—à—É

---

## –§–∞–∑–∞ 3: –û–±—â–∏–µ —Å—Ç–∏–ª–∏ –∏ UI Kit

### 3.1. –°–æ–∑–¥–∞—Ç—å Design System —Ñ–∞–π–ª
**–§–∞–π–ª:** `src/styles/design-system.scss`

- [ ] –ò–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –≤—Å–µ tokens
  ```scss
  @import './tokens.scss';
  @import './utilities.scss';
  ```

- [ ] –°–æ–∑–¥–∞—Ç—å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–Ω—ã–µ —Å—Ç–∏–ª–∏
  ```scss
  // Button variants
  .button {
    padding: $spacing-sm $spacing-md;
    border-radius: $border-radius-md;
    font-weight: $font-weight-medium;
    transition: all 0.2s ease;

    &-primary {
      background: $color-primary;
      color: white;

      &:hover {
        background: $color-primary-hover;
      }
    }

    &-secondary {
      background: transparent;
      border: 1px solid $color-border;
      color: $color-text-primary;
    }
  }

  // Card variants
  .card {
    background: white;
    border-radius: $border-radius-lg;
    padding: $spacing-lg;
    box-shadow: $shadow-md;
  }
  ```

**–ö—Ä–∏—Ç–µ—Ä–∏–π –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏:** ‚úÖ Design system —Ñ–∞–π–ª —Å–æ–∑–¥–∞–Ω

---

### 3.2. –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏—Ç—å UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

- [ ] –û–±–Ω–æ–≤–∏—Ç—å `Button.tsx` –∏ `Button.module.scss`
  - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å tokens –≤–º–µ—Å—Ç–æ hardcoded –∑–Ω–∞—á–µ–Ω–∏–π
  - –î–æ–±–∞–≤–∏—Ç—å –≤–∞—Ä–∏–∞–Ω—Ç—ã (primary, secondary, danger)
  - –î–æ–±–∞–≤–∏—Ç—å —Ä–∞–∑–º–µ—Ä—ã (sm, md, lg)

- [ ] –û–±–Ω–æ–≤–∏—Ç—å `Card.tsx` –∏ `Card.module.scss`
  - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å tokens
  - –î–æ–±–∞–≤–∏—Ç—å –≤–∞—Ä–∏–∞–Ω—Ç—ã (default, outlined, elevated)

- [ ] –û–±–Ω–æ–≤–∏—Ç—å `Input.tsx` –∏ `Input.module.scss`
  - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å tokens
  - –î–æ–±–∞–≤–∏—Ç—å error states

**–ö—Ä–∏—Ç–µ—Ä–∏–π –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏:**
- ‚úÖ –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –∏—Å–ø–æ–ª—å–∑—É—é—Ç design tokens
- ‚úÖ –ù–µ—Ç hardcoded —Ü–≤–µ—Ç–æ–≤/—Ä–∞–∑–º–µ—Ä–æ–≤

---

### 3.3. –°–æ–∑–¥–∞—Ç—å –Ω–µ–¥–æ—Å—Ç–∞—é—â–∏–µ UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

- [ ] `LoadingSpinner.tsx` - –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä –∑–∞–≥—Ä—É–∑–∫–∏
- [ ] `Badge.tsx` - –±–µ–π–¥–∂–∏ –¥–ª—è —Å—Ç–∞—Ç—É—Å–æ–≤
- [ ] `Tabs.tsx` - —Ç–∞–±—ã
- [ ] `Select.tsx` - –≤—ã–ø–∞–¥–∞—é—â–∏–π —Å–ø–∏—Å–æ–∫
- [ ] `Checkbox.tsx` - —á–µ–∫–±–æ–∫—Å
- [ ] `Radio.tsx` - —Ä–∞–¥–∏–æ –∫–Ω–æ–ø–∫–∞
- [ ] `Tooltip.tsx` - —Ç—É–ª—Ç–∏–ø
- [ ] `Alert.tsx` - —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è

**–ö—Ä–∏—Ç–µ—Ä–∏–π –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏:** ‚úÖ UI Kit —Å–æ–¥–µ—Ä–∂–∏—Ç 15+ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤

---

### 3.4. –ü—Ä–∏–º–µ–Ω–∏—Ç—å –æ–±—â–∏–µ —Å—Ç–∏–ª–∏ –≤–µ–∑–¥–µ

- [ ] –û–±–Ω–æ–≤–∏—Ç—å –≤—Å–µ `.module.scss` —Ñ–∞–π–ª—ã
  - –ó–∞–º–µ–Ω–∏—Ç—å hardcoded —Ü–≤–µ—Ç–∞ –Ω–∞ `$color-*`
  - –ó–∞–º–µ–Ω–∏—Ç—å —Ä–∞–∑–º–µ—Ä—ã –Ω–∞ `$spacing-*`
  - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å mixins

- [ ] –£–¥–∞–ª–∏—Ç—å –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ —Å—Ç–∏–ª–µ–π
  - –ò–∑–≤–ª–µ—á—å –ø–æ–≤—Ç–æ—Ä—è—é—â–∏–µ—Å—è –ø–∞—Ç—Ç–µ—Ä–Ω—ã –≤ utilities

**–ö—Ä–∏—Ç–µ—Ä–∏–π –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏:**
- ‚úÖ –ù–µ—Ç hardcoded –∑–Ω–∞—á–µ–Ω–∏–π
- ‚úÖ –í—Å–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç design tokens

---

## –§–∞–∑–∞ 4: –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è

### 4.1. –í–Ω–µ–¥—Ä–∏—Ç—å Auth Middleware –≤–æ –≤—Å–µ—Ö API

**–ó–∞—Ç—Ä–æ–Ω—É—Ç—ã–µ —Ñ–∞–π–ª—ã (17 API routes):**
- [ ] `app/api/tests/route.ts`
- [ ] `app/api/tests/[id]/route.ts`
- [ ] `app/api/tests/[id]/submit/route.ts`
- [ ] `app/api/results/route.ts`
- [ ] `app/api/combined-results/route.ts`
- [ ] `app/api/combined-test/route.ts`
- [ ] `app/api/pomodoro/route.ts`
- [ ] `app/api/lectures/route.ts`
- [ ] `app/api/lectures/[id]/route.ts`
- [ ] `app/api/lectures/by-question/[questionId]/route.ts`
- [ ] `app/api/lectures/[id]/tasks-progress/route.ts`
- [ ] `app/api/categories/route.ts`
- [ ] `app/api/user-lists/route.ts`
- [ ] `app/api/user-lists/[id]/route.ts`
- [ ] `app/api/user-lists/[id]/items/route.ts`
- [ ] `app/api/user/route.ts`
- [ ] `app/api/user/settings/route.ts`

**–î–ª—è –∫–∞–∂–¥–æ–≥–æ —Ñ–∞–π–ª–∞:**
1. –ò–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å `withAuth`
2. –û–±–µ—Ä–Ω—É—Ç—å handler
3. –£–¥–∞–ª–∏—Ç—å `getServerSession()` –∏ `prisma.user.findUnique()`
4. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `user` –∏–∑ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞

**–ö—Ä–∏—Ç–µ—Ä–∏–π –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏:**
- ‚úÖ –í—Å–µ 17 API routes –∏—Å–ø–æ–ª—å–∑—É—é—Ç `withAuth`
- ‚úÖ 58 –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–π —É—Å—Ç—Ä–∞–Ω–µ–Ω—ã ‚Üí 1 —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è
- ‚úÖ –ö–æ–¥ —Å–æ–∫—Ä–∞—Ç–∏–ª—Å—è –Ω–∞ ~400 —Å—Ç—Ä–æ–∫

---

### 4.2. –ò–∑–≤–ª–µ—á—å –æ–±—â—É—é –ª–æ–≥–∏–∫—É —Ç–∞–π–º–µ—Ä–∞

**–§–∞–π–ª:** `src/features/tests/hooks/useTestTimer.ts`

- [ ] –°–æ–∑–¥–∞—Ç—å —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π hook
  ```typescript
  export function useTestTimer(
    isActive: boolean,
    duration: number,
    onTimeUp?: () => void
  ) {
    const [timeLeft, setTimeLeft] = useState(duration);
    const [endTime, setEndTime] = useState<number | null>(null);

    // endTime pattern –¥–ª—è —Ç–æ—á–Ω–æ—Å—Ç–∏
    useEffect(() => {
      if (isActive && !endTime) {
        setEndTime(Date.now() + timeLeft * 1000);
      }
    }, [isActive]);

    useEffect(() => {
      if (!isActive || !endTime) return;

      const interval = setInterval(() => {
        const remaining = Math.max(
          0,
          Math.ceil((endTime - Date.now()) / 1000)
        );
        setTimeLeft(remaining);

        if (remaining === 0) {
          clearInterval(interval);
          onTimeUp?.();
        }
      }, 100);

      return () => clearInterval(interval);
    }, [isActive, endTime, onTimeUp]);

    return {
      timeLeft,
      isTimeUp: timeLeft === 0,
      reset: () => {
        setTimeLeft(duration);
        setEndTime(null);
      }
    };
  }
  ```

- [ ] –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤ `tests/[id]/page.tsx`
- [ ] –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤ `combined-test/page.tsx`
- [ ] –£–¥–∞–ª–∏—Ç—å –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–Ω—É—é –ª–æ–≥–∏–∫—É

**–ö—Ä–∏—Ç–µ—Ä–∏–π –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏:**
- ‚úÖ –û–¥–∏–Ω hook –¥–ª—è –≤—Å–µ—Ö —Ç–∞–π–º–µ—Ä–æ–≤
- ‚úÖ –ù–µ—Ç –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è

---

### 4.3. –ò–∑–≤–ª–µ—á—å –æ–±—â—É—é –ª–æ–≥–∏–∫—É submit —Ç–µ—Å—Ç–∞

**–§–∞–π–ª:** `src/features/tests/hooks/useTestSubmit.ts`

- [ ] –°–æ–∑–¥–∞—Ç—å —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π hook —Å RTK Query
  ```typescript
  export function useTestSubmit() {
    const [submitTest, { isLoading: isSubmitting }] = useSubmitTestMutation();

    const handleSubmit = async (
      testId: string,
      answers: number[],
      mode: 'learning' | 'exam'
    ) => {
      try {
        const result = await submitTest({
          testId,
          answers,
          mode
        }).unwrap();

        // –û—á–∏—Å—Ç–∫–∞ sessionStorage
        sessionStorage.removeItem(`test_${testId}_state`);

        return result;
      } catch (error) {
        console.error('Submit failed:', error);
        throw error;
      }
    };

    return { handleSubmit, isSubmitting };
  }
  ```

**–ö—Ä–∏—Ç–µ—Ä–∏–π –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏:**
- ‚úÖ –û–¥–∏–Ω hook –¥–ª—è submit
- ‚úÖ –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤–æ –≤—Å–µ—Ö —Ç–µ—Å—Ç–∞—Ö

---

## üìä –ú–µ—Ç—Ä–∏–∫–∏ —É—Å–ø–µ—Ö–∞

### –î–æ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞
- ‚ùå –°—Ä–µ–¥–Ω–∏–π —Ä–∞–∑–º–µ—Ä –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞: **500+ —Å—Ç—Ä–æ–∫**
- ‚ùå –î—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–¥–∞: **58 —Ä–∞–∑ auth, ~200 —Å—Ç—Ä–æ–∫ —Ç–∞–π–º–µ—Ä**
- ‚ùå –ö–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ –≤ UI Kit: **3**
- ‚ùå Design tokens: **0**
- ‚ùå API layer: **fetch –≤ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞—Ö**

### –ü–æ—Å–ª–µ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞ (—Ü–µ–ª—å)
- ‚úÖ –°—Ä–µ–¥–Ω–∏–π —Ä–∞–∑–º–µ—Ä –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞: **80-150 —Å—Ç—Ä–æ–∫**
- ‚úÖ –î—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ —É—Å—Ç—Ä–∞–Ω–µ–Ω–æ: **auth 1 —Ä–∞–∑, —Ç–∞–π–º–µ—Ä 1 —Ä–∞–∑**
- ‚úÖ –ö–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ –≤ UI Kit: **15+**
- ‚úÖ Design tokens: **–ø–æ–ª–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞**
- ‚úÖ API layer: **RTK Query —Å –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ–º**

### –£–ª—É—á—à–µ–Ω–∏–µ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ (–æ–∂–∏–¥–∞–µ–º–æ–µ)
- ‚ö° Bundle size: **-40%** (code splitting)
- ‚ö° Re-renders: **-60%** (–º–µ–º–æ–∏–∑–∞—Ü–∏—è)
- ‚ö° API calls: **-70%** (RTK Query –∫—ç—à)

---

## üöÄ –ü–ª–∞–Ω –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è (–ø–æ –Ω–µ–¥–µ–ª—è–º)

### –ù–µ–¥–µ–ª—è 1: –§—É–Ω–¥–∞–º–µ–Ω—Ç
- –î–µ–Ω—å 1-2: –§–∞–∑–∞ 0 (Design Tokens, —Å—Ç—Ä—É–∫—Ç—É—Ä–∞)
- –î–µ–Ω—å 3-4: –ù–∞—á–∞–ª–æ –§–∞–∑—ã 1 (—Ä–∞–∑–±–∏—Ç—å 1 –º–æ–Ω–æ–ª–∏—Ç)
- –î–µ–Ω—å 5: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ —Ñ–∏–∫—Å—ã

### –ù–µ–¥–µ–ª—è 2: –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
- –î–µ–Ω—å 1-3: –§–∞–∑–∞ 1 (—Ä–∞–∑–±–∏—Ç—å –æ—Å—Ç–∞–≤—à–∏–µ—Å—è –º–æ–Ω–æ–ª–∏—Ç—ã)
- –î–µ–Ω—å 4-5: –°–æ–∑–¥–∞—Ç—å UI Kit –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

### –ù–µ–¥–µ–ª—è 3: Redux
- –î–µ–Ω—å 1-2: –§–∞–∑–∞ 2 (–Ω–∞—Å—Ç—Ä–æ–∏—Ç—å RTK Query)
- –î–µ–Ω—å 3-4: –ú–∏–≥—Ä–∏—Ä–æ–≤–∞—Ç—å –Ω–∞ RTK Query
- –î–µ–Ω—å 5: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –ù–µ–¥–µ–ª—è 4: –§–∏–Ω–∞–ª–∏–∑–∞—Ü–∏—è
- –î–µ–Ω—å 1-2: –§–∞–∑–∞ 3 (–æ–±—â–∏–µ —Å—Ç–∏–ª–∏)
- –î–µ–Ω—å 3-4: –§–∞–∑–∞ 4 (—É—Å—Ç—Ä–∞–Ω–∏—Ç—å –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ)
- –î–µ–Ω—å 5: –§–∏–Ω–∞–ª—å–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

---

## ‚úÖ –ö—Ä–∏—Ç–µ—Ä–∏–∏ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è

**–ü—Ä–æ–µ–∫—Ç —Å—á–∏—Ç–∞–µ—Ç—Å—è –∑–∞–≤–µ—Ä—à–µ–Ω–Ω—ã–º –∫–æ–≥–¥–∞:**

1. ‚úÖ –í—Å–µ –º–æ–Ω–æ–ª–∏—Ç–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Ä–∞–∑–±–∏—Ç—ã (<150 —Å—Ç—Ä–æ–∫ –∫–∞–∂–¥—ã–π)
2. ‚úÖ Auth Middleware –≤–Ω–µ–¥—Ä–µ–Ω –≤–æ –≤—Å–µ 17 API routes
3. ‚úÖ RTK Query –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –≤—Å–µ—Ö API –≤—ã–∑–æ–≤–æ–≤
4. ‚úÖ Design System –ø–æ–ª–Ω–æ—Å—Ç—å—é –≤–Ω–µ–¥—Ä–µ–Ω
5. ‚úÖ UI Kit —Å–æ–¥–µ—Ä–∂–∏—Ç 15+ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
6. ‚úÖ –ù–µ—Ç –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è –∫–æ–¥–∞ (auth, —Ç–∞–π–º–µ—Ä, submit)
7. ‚úÖ –í—Å–µ —Ç–µ—Å—Ç—ã –ø—Ä–æ—Ö–æ–¥—è—Ç
8. ‚úÖ –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å —É–ª—É—á—à–µ–Ω–∞ (–∏–∑–º–µ—Ä–µ–Ω–æ —á–µ—Ä–µ–∑ Lighthouse)

---

## üìö –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

–ü–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è —Å–æ–∑–¥–∞—Ç—å:
- [ ] `ARCHITECTURE.md` - –æ–ø–∏—Å–∞–Ω–∏–µ –Ω–æ–≤–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã
- [ ] `UI_KIT.md` - –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
- [ ] `REDUX_GUIDE.md` - –≥–∞–π–¥ –ø–æ Redux –≤ –ø—Ä–æ–µ–∫—Ç–µ
- [ ] –û–±–Ω–æ–≤–∏—Ç—å `CLAUDE.md` —Å –Ω–æ–≤–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä–æ–π

---

**–ê–≤—Ç–æ—Ä:** Claude Code
**–î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è:** 2026-01-26
**–°—Ç–∞—Ç—É—Å:** üöÄ –ì–æ—Ç–æ–≤ –∫ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—é
