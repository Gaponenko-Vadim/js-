# ĞÑ€Ñ…Ğ¸Ñ‚ĞµĞºÑ‚ÑƒÑ€Ğ° REST API Trainer

> **Ğ’ĞµÑ€ÑĞ¸Ñ Ğ´Ğ¾ĞºÑƒĞ¼ĞµĞ½Ñ‚Ğ°:** 1.0
> **Ğ”Ğ°Ñ‚Ğ°:** 2026-01-28
> **Ğ”Ğ»Ñ:** Ğ Ğ°Ğ·Ñ€Ğ°Ğ±Ğ¾Ñ‚Ñ‡Ğ¸ĞºĞ¾Ğ² Ğ¸ AI-Ğ°ÑÑĞ¸ÑÑ‚ĞµĞ½Ñ‚Ğ¾Ğ²

Ğ­Ñ‚Ğ¾Ñ‚ Ğ´Ğ¾ĞºÑƒĞ¼ĞµĞ½Ñ‚ Ğ¾Ğ¿Ğ¸ÑÑ‹Ğ²Ğ°ĞµÑ‚ Ğ¿Ğ¾Ğ»Ğ½ÑƒÑ Ğ°Ñ€Ñ…Ğ¸Ñ‚ĞµĞºÑ‚ÑƒÑ€Ñƒ Ğ¿Ñ€Ğ¸Ğ»Ğ¾Ğ¶ĞµĞ½Ğ¸Ñ REST API Trainer: ÑÑ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ñƒ Ğ¿Ñ€Ğ¾ĞµĞºÑ‚Ğ°, Ğ¿Ğ°Ñ‚Ñ‚ĞµÑ€Ğ½Ñ‹ Ğ¿Ñ€Ğ¾ĞµĞºÑ‚Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ñ, Ñ‚ĞµÑ…Ğ½Ğ¾Ğ»Ğ¾Ğ³Ğ¸Ñ‡ĞµÑĞºĞ¸Ğ¹ ÑÑ‚ĞµĞº Ğ¸ Ğ¿Ñ€Ğ¸Ğ½Ñ†Ğ¸Ğ¿Ñ‹ Ñ€Ğ°Ğ·Ñ€Ğ°Ğ±Ğ¾Ñ‚ĞºĞ¸.

---

## ğŸ“‹ Ğ¡Ğ¾Ğ´ĞµÑ€Ğ¶Ğ°Ğ½Ğ¸Ğµ

1. [Ğ¢ĞµÑ…Ğ½Ğ¾Ğ»Ğ¾Ğ³Ğ¸Ñ‡ĞµÑĞºĞ¸Ğ¹ ÑÑ‚ĞµĞº](#Ñ‚ĞµÑ…Ğ½Ğ¾Ğ»Ğ¾Ğ³Ğ¸Ñ‡ĞµÑĞºĞ¸Ğ¹-ÑÑ‚ĞµĞº)
2. [Ğ¡Ñ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ğ° Ğ¿Ñ€Ğ¾ĞµĞºÑ‚Ğ°](#ÑÑ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ğ°-Ğ¿Ñ€Ğ¾ĞµĞºÑ‚Ğ°)
3. [ĞÑ€Ñ…Ğ¸Ñ‚ĞµĞºÑ‚ÑƒÑ€Ğ½Ñ‹Ğµ Ğ¿Ğ°Ñ‚Ñ‚ĞµÑ€Ğ½Ñ‹](#Ğ°Ñ€Ñ…Ğ¸Ñ‚ĞµĞºÑ‚ÑƒÑ€Ğ½Ñ‹Ğµ-Ğ¿Ğ°Ñ‚Ñ‚ĞµÑ€Ğ½Ñ‹)
4. [ĞœĞ¾Ğ´ĞµĞ»Ğ¸ Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ…](#Ğ¼Ğ¾Ğ´ĞµĞ»Ğ¸-Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ…)
5. [ĞÑƒÑ‚ĞµĞ½Ñ‚Ğ¸Ñ„Ğ¸ĞºĞ°Ñ†Ğ¸Ñ Ğ¸ Ğ°Ğ²Ñ‚Ğ¾Ñ€Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ](#Ğ°ÑƒÑ‚ĞµĞ½Ñ‚Ğ¸Ñ„Ğ¸ĞºĞ°Ñ†Ğ¸Ñ-Ğ¸-Ğ°Ğ²Ñ‚Ğ¾Ñ€Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ)
6. [State Management](#state-management)
7. [Ğ¡Ñ‚Ğ¸Ğ»Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ](#ÑÑ‚Ğ¸Ğ»Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ)
8. [API Routes](#api-routes)
9. [Ğ¡Ğ¸ÑÑ‚ĞµĞ¼Ğ° Ñ‚ĞµÑÑ‚Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ñ](#ÑĞ¸ÑÑ‚ĞµĞ¼Ğ°-Ñ‚ĞµÑÑ‚Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ñ)

---

## ğŸ›  Ğ¢ĞµÑ…Ğ½Ğ¾Ğ»Ğ¾Ğ³Ğ¸Ñ‡ĞµÑĞºĞ¸Ğ¹ ÑÑ‚ĞµĞº

### Frontend
- **Framework:** Next.js 16 (App Router)
- **UI Library:** React 19
- **Language:** TypeScript (strict mode)
- **Styling:** CSS Modules + SCSS
- **State Management:** Redux Toolkit (Pomodoro) + useState/useContext

### Backend
- **Runtime:** Next.js API Routes (Node.js)
- **Database:** PostgreSQL 14+
- **ORM:** Prisma 5
- **Authentication:** NextAuth.js v4
- **Password Hashing:** bcryptjs

### Development Tools
- **Package Manager:** npm
- **Linting:** ESLint
- **Database GUI:** Prisma Studio
- **Scripts:** TypeScript (tsx)

---

## ğŸ“ Ğ¡Ñ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ğ° Ğ¿Ñ€Ğ¾ĞµĞºÑ‚Ğ°

```
rest-api-trainer/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ app/                          # Next.js 16 App Router
â”‚   â”‚   â”œâ”€â”€ (auth)/                   # Route Group: Ğ¿ÑƒĞ±Ğ»Ğ¸Ñ‡Ğ½Ñ‹Ğµ ÑÑ‚Ñ€Ğ°Ğ½Ğ¸Ñ†Ñ‹
â”‚   â”‚   â”‚   â”œâ”€â”€ login/
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ page.tsx          # Ğ¡Ñ‚Ñ€Ğ°Ğ½Ğ¸Ñ†Ğ° Ğ²Ñ…Ğ¾Ğ´Ğ°
â”‚   â”‚   â”‚   â””â”€â”€ register/
â”‚   â”‚   â”‚       â””â”€â”€ page.tsx          # Ğ¡Ñ‚Ñ€Ğ°Ğ½Ğ¸Ñ†Ğ° Ñ€ĞµĞ³Ğ¸ÑÑ‚Ñ€Ğ°Ñ†Ğ¸Ğ¸
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ (dashboard)/              # Route Group: Ğ·Ğ°Ñ‰Ğ¸Ñ‰ĞµĞ½Ğ½Ñ‹Ğµ ÑÑ‚Ñ€Ğ°Ğ½Ğ¸Ñ†Ñ‹
â”‚   â”‚   â”‚   â”œâ”€â”€ layout.tsx            # Shared layout Ñ DashboardHeader
â”‚   â”‚   â”‚   â”œâ”€â”€ dashboard/            # Ğ“Ğ»Ğ°Ğ²Ğ½Ğ°Ñ ÑÑ‚Ñ€Ğ°Ğ½Ğ¸Ñ†Ğ°
â”‚   â”‚   â”‚   â”œâ”€â”€ tests/                # Ğ¡Ğ¿Ğ¸ÑĞ¾Ğº Ñ‚ĞµÑÑ‚Ğ¾Ğ² Ğ¸ Ğ¿Ñ€Ğ¾Ñ…Ğ¾Ğ¶Ğ´ĞµĞ½Ğ¸Ğµ
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ page.tsx          # Ğ¡Ğ¿Ğ¸ÑĞ¾Ğº Ñ‚ĞµÑÑ‚Ğ¾Ğ² (Server Component)
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ TestsPageContent.tsx  # Client Component
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ [id]/
â”‚   â”‚   â”‚   â”‚       â”œâ”€â”€ page.tsx      # Test wrapper (Server)
â”‚   â”‚   â”‚   â”‚       â””â”€â”€ TestPageContent.tsx  # Client Component
â”‚   â”‚   â”‚   â”œâ”€â”€ combined-test/        # ĞšĞ¾Ğ¼Ğ±Ğ¸Ğ½Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ½Ñ‹Ğµ Ñ‚ĞµÑÑ‚Ñ‹
â”‚   â”‚   â”‚   â”œâ”€â”€ lectures/             # Ğ¡Ğ¿Ğ¸ÑĞ¾Ğº Ğ»ĞµĞºÑ†Ğ¸Ğ¹
â”‚   â”‚   â”‚   â”œâ”€â”€ results/              # Ğ˜ÑÑ‚Ğ¾Ñ€Ğ¸Ñ Ñ€ĞµĞ·ÑƒĞ»ÑŒÑ‚Ğ°Ñ‚Ğ¾Ğ²
â”‚   â”‚   â”‚   â”œâ”€â”€ pomodoro/             # Ğ¡Ñ‚Ñ€Ğ°Ğ½Ğ¸Ñ†Ğ° Pomodoro Ñ‚Ğ°Ğ¹Ğ¼ĞµÑ€Ğ°
â”‚   â”‚   â”‚   â””â”€â”€ my-lists/             # ĞŸĞ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»ÑŒÑĞºĞ¸Ğµ ÑĞ¿Ğ¸ÑĞºĞ¸
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ api/                      # API Routes (Backend)
â”‚   â”‚   â”‚   â”œâ”€â”€ auth/[...nextauth]/   # NextAuth endpoints
â”‚   â”‚   â”‚   â”œâ”€â”€ register/             # POST /api/register
â”‚   â”‚   â”‚   â”œâ”€â”€ tests/                # CRUD Ñ‚ĞµÑÑ‚Ğ¾Ğ²
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ route.ts          # GET /api/tests
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ [id]/
â”‚   â”‚   â”‚   â”‚       â”œâ”€â”€ route.ts      # GET /api/tests/[id]
â”‚   â”‚   â”‚   â”‚       â””â”€â”€ submit/
â”‚   â”‚   â”‚   â”‚           â””â”€â”€ route.ts  # POST /api/tests/[id]/submit
â”‚   â”‚   â”‚   â”œâ”€â”€ results/              # Ğ˜ÑÑ‚Ğ¾Ñ€Ğ¸Ñ Ñ‚ĞµÑÑ‚Ğ¾Ğ²
â”‚   â”‚   â”‚   â”œâ”€â”€ lectures/             # API Ğ»ĞµĞºÑ†Ğ¸Ğ¹
â”‚   â”‚   â”‚   â”œâ”€â”€ categories/           # API ĞºĞ°Ñ‚ĞµĞ³Ğ¾Ñ€Ğ¸Ğ¹
â”‚   â”‚   â”‚   â”œâ”€â”€ pomodoro/             # Ğ¡Ğ¾Ñ…Ñ€Ğ°Ğ½ĞµĞ½Ğ¸Ğµ Pomodoro ÑĞµÑÑĞ¸Ğ¹
â”‚   â”‚   â”‚   â””â”€â”€ user-lists/           # CRUD Ğ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»ÑŒÑĞºĞ¸Ñ… ÑĞ¿Ğ¸ÑĞºĞ¾Ğ²
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ layout.tsx                # Root layout (Providers)
â”‚   â”‚   â”œâ”€â”€ page.tsx                  # Landing page
â”‚   â”‚   â””â”€â”€ globals.css               # Ğ“Ğ»Ğ¾Ğ±Ğ°Ğ»ÑŒĞ½Ñ‹Ğµ ÑÑ‚Ğ¸Ğ»Ğ¸
â”‚   â”‚
â”‚   â”œâ”€â”€ components/                   # React ĞºĞ¾Ğ¼Ğ¿Ğ¾Ğ½ĞµĞ½Ñ‚Ñ‹
â”‚   â”‚   â”œâ”€â”€ auth/                     # LoginForm, RegisterForm
â”‚   â”‚   â”œâ”€â”€ layout/                   # DashboardHeader, Navigation
â”‚   â”‚   â”œâ”€â”€ pomodoro/                 # PomodoroTimer, PomodoroWidget
â”‚   â”‚   â”œâ”€â”€ lecture/                  # LectureModal
â”‚   â”‚   â”œâ”€â”€ lists/                    # AddToListModal
â”‚   â”‚   â”œâ”€â”€ providers/                # SessionProvider, ReduxProvider
â”‚   â”‚   â””â”€â”€ ui/                       # Button, Input, Card (UI Kit)
â”‚   â”‚
â”‚   â”œâ”€â”€ features/                     # Feature-based modules (NEW!)
â”‚   â”‚   â””â”€â”€ tests/                    # Ğ¢ĞµÑÑ‚Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ (Feature)
â”‚   â”‚       â”œâ”€â”€ api/                  # RTK Query API
â”‚   â”‚       â”‚   â””â”€â”€ testsApi.ts
â”‚   â”‚       â”œâ”€â”€ components/           # UI ĞºĞ¾Ğ¼Ğ¿Ğ¾Ğ½ĞµĞ½Ñ‚Ñ‹ feature
â”‚   â”‚       â”‚   â”œâ”€â”€ TestHeader/
â”‚   â”‚       â”‚   â”œâ”€â”€ TestQuestion/
â”‚   â”‚       â”‚   â”œâ”€â”€ TestNavigation/
â”‚   â”‚       â”‚   â”œâ”€â”€ TestModeSelector/
â”‚   â”‚       â”‚   â”œâ”€â”€ TestRestoreDialog/
â”‚   â”‚       â”‚   â”œâ”€â”€ TestResults/
â”‚   â”‚       â”‚   â””â”€â”€ ExamExitConfirmModal/
â”‚   â”‚       â”œâ”€â”€ hooks/                # Custom hooks
â”‚   â”‚       â”‚   â”œâ”€â”€ useTestTimer.ts
â”‚   â”‚       â”‚   â”œâ”€â”€ useTestProgress.ts
â”‚   â”‚       â”‚   â””â”€â”€ useTestSubmit.ts
â”‚   â”‚       â”œâ”€â”€ types/                # TypeScript Ñ‚Ğ¸Ğ¿Ñ‹
â”‚   â”‚       â”‚   â””â”€â”€ index.ts
â”‚   â”‚       â”œâ”€â”€ utils/                # Ğ£Ñ‚Ğ¸Ğ»Ğ¸Ñ‚Ñ‹
â”‚   â”‚       â”‚   â””â”€â”€ calculateCombinedTestScores.ts
â”‚   â”‚       â””â”€â”€ index.ts              # Barrel export
â”‚   â”‚
â”‚   â”œâ”€â”€ store/                        # Redux Toolkit
â”‚   â”‚   â”œâ”€â”€ store.ts                  # ĞšĞ¾Ğ½Ñ„Ğ¸Ğ³ÑƒÑ€Ğ°Ñ†Ğ¸Ñ store
â”‚   â”‚   â”œâ”€â”€ pomodoroSlice.ts          # Pomodoro state
â”‚   â”‚   â”œâ”€â”€ userListsSlice.ts         # ĞŸĞ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»ÑŒÑĞºĞ¸Ğµ ÑĞ¿Ğ¸ÑĞºĞ¸
â”‚   â”‚   â”œâ”€â”€ hooks.ts                  # useAppDispatch, useAppSelector
â”‚   â”‚   â””â”€â”€ localStorage.ts           # Persistence
â”‚   â”‚
â”‚   â”œâ”€â”€ contexts/                     # React Context
â”‚   â”‚   â””â”€â”€ PomodoroContext.tsx       # Ğ¡Ğ¸Ğ½Ñ…Ñ€Ğ¾Ğ½Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ Ğ¼ĞµĞ¶Ğ´Ñƒ Ğ²ĞºĞ»Ğ°Ğ´ĞºĞ°Ğ¼Ğ¸
â”‚   â”‚
â”‚   â”œâ”€â”€ lib/                          # Ğ£Ñ‚Ğ¸Ğ»Ğ¸Ñ‚Ñ‹ Ğ¸ ĞºĞ¾Ğ½Ñ„Ğ¸Ğ³ÑƒÑ€Ğ°Ñ†Ğ¸Ğ¸
â”‚   â”‚   â”œâ”€â”€ prisma.ts                 # Singleton Prisma Client
â”‚   â”‚   â”œâ”€â”€ auth.ts                   # NextAuth ĞºĞ¾Ğ½Ñ„Ğ¸Ğ³ÑƒÑ€Ğ°Ñ†Ğ¸Ñ
â”‚   â”‚   â”œâ”€â”€ bcrypt.ts                 # hashPassword, verifyPassword
â”‚   â”‚   â””â”€â”€ utils.ts                  # shuffleArray, shuffleOptions
â”‚   â”‚
â”‚   â”œâ”€â”€ types/                        # Ğ“Ğ»Ğ¾Ğ±Ğ°Ğ»ÑŒĞ½Ñ‹Ğµ TypeScript Ñ‚Ğ¸Ğ¿Ñ‹
â”‚   â”‚   â”œâ”€â”€ index.ts
â”‚   â”‚   â””â”€â”€ next-auth.d.ts            # Ğ Ğ°ÑÑˆĞ¸Ñ€ĞµĞ½Ğ¸Ğµ NextAuth Ñ‚Ğ¸Ğ¿Ğ¾Ğ²
â”‚   â”‚
â”‚   â”œâ”€â”€ styles/                       # Ğ“Ğ»Ğ¾Ğ±Ğ°Ğ»ÑŒĞ½Ñ‹Ğµ ÑÑ‚Ğ¸Ğ»Ğ¸
â”‚   â”‚   â”œâ”€â”€ tokens.scss               # Design tokens (Ñ†Ğ²ĞµÑ‚Ğ°, ÑˆÑ€Ğ¸Ñ„Ñ‚Ñ‹)
â”‚   â”‚   â””â”€â”€ utilities.scss            # ĞœĞ¸ĞºÑĞ¸Ğ½Ñ‹ Ğ¸ ÑƒÑ‚Ğ¸Ğ»Ğ¸Ñ‚Ñ‹
â”‚   â”‚
â”‚   â””â”€â”€ middleware.ts                 # NextAuth middleware
â”‚
â”œâ”€â”€ prisma/
â”‚   â”œâ”€â”€ schema.prisma                 # Database schema
â”‚   â””â”€â”€ seed.ts                       # Seed ÑĞºÑ€Ğ¸Ğ¿Ñ‚
â”‚
â”œâ”€â”€ scripts/                          # TypeScript ÑĞºÑ€Ğ¸Ğ¿Ñ‚Ñ‹ (40+)
â”‚   â”œâ”€â”€ create-profession-marathons.ts
â”‚   â”œâ”€â”€ create-example-collections.ts
â”‚   â””â”€â”€ ...
â”‚
â”œâ”€â”€ docs/                             # Ğ”Ğ¾ĞºÑƒĞ¼ĞµĞ½Ñ‚Ğ°Ñ†Ğ¸Ñ
â”‚   â”œâ”€â”€ ARCHITECTURE.md               # ğŸ‘ˆ Ğ­Ñ‚Ğ¾Ñ‚ Ğ´Ğ¾ĞºÑƒĞ¼ĞµĞ½Ñ‚
â”‚   â”œâ”€â”€ FEATURE_DEVELOPMENT_GUIDE.md  # Ğ ÑƒĞºĞ¾Ğ²Ğ¾Ğ´ÑÑ‚Ğ²Ğ¾ Ğ¿Ğ¾ Ğ´Ğ¾Ğ±Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ñ Ñ„Ğ¸Ñ‡
â”‚   â”œâ”€â”€ DATABASE_COMPLETE_GUIDE.md    # Ğ Ğ°Ğ±Ğ¾Ñ‚Ğ° Ñ Ğ‘Ğ”
â”‚   â”œâ”€â”€ LECTURE_CREATION_GUIDE.md     # Ğ¡Ğ¾Ğ·Ğ´Ğ°Ğ½Ğ¸Ğµ Ğ»ĞµĞºÑ†Ğ¸Ğ¹
â”‚   â””â”€â”€ QUESTION_CREATION_GUIDE.md    # Ğ¡Ğ¾Ğ·Ğ´Ğ°Ğ½Ğ¸Ğµ Ğ²Ğ¾Ğ¿Ñ€Ğ¾ÑĞ¾Ğ²
â”‚
â”œâ”€â”€ public/                           # Ğ¡Ñ‚Ğ°Ñ‚Ğ¸Ñ‡ĞµÑĞºĞ¸Ğµ Ñ„Ğ°Ğ¹Ğ»Ñ‹
â”‚   â””â”€â”€ sounds/                       # Ğ—Ğ²ÑƒĞºĞ¸ Ğ´Ğ»Ñ Pomodoro
â”‚
â”œâ”€â”€ package.json
â”œâ”€â”€ tsconfig.json
â”œâ”€â”€ next.config.ts
â”œâ”€â”€ .env                              # Environment variables (Ğ½Ğµ Ğ² git)
â””â”€â”€ CLAUDE.md                         # Ğ˜Ğ½ÑÑ‚Ñ€ÑƒĞºÑ†Ğ¸Ğ¸ Ğ´Ğ»Ñ Claude Code
```

---

## ğŸ› ĞÑ€Ñ…Ğ¸Ñ‚ĞµĞºÑ‚ÑƒÑ€Ğ½Ñ‹Ğµ Ğ¿Ğ°Ñ‚Ñ‚ĞµÑ€Ğ½Ñ‹

### 1. Next.js App Router (File-based Routing)

**Route Groups** Ğ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·ÑƒÑÑ‚ÑÑ Ğ´Ğ»Ñ Ğ¾Ñ€Ğ³Ğ°Ğ½Ğ¸Ğ·Ğ°Ñ†Ğ¸Ğ¸ ÑÑ‚Ñ€Ğ°Ğ½Ğ¸Ñ†:

```typescript
// (auth) - Ğ¿ÑƒĞ±Ğ»Ğ¸Ñ‡Ğ½Ñ‹Ğµ ÑÑ‚Ñ€Ğ°Ğ½Ğ¸Ñ†Ñ‹ Ğ‘Ğ•Ğ— DashboardHeader
app/(auth)/
  â”œâ”€â”€ login/page.tsx      â†’ /login
  â””â”€â”€ register/page.tsx   â†’ /register

// (dashboard) - Ğ·Ğ°Ñ‰Ğ¸Ñ‰ĞµĞ½Ğ½Ñ‹Ğµ ÑÑ‚Ñ€Ğ°Ğ½Ğ¸Ñ†Ñ‹ Ğ¡ DashboardHeader
app/(dashboard)/
  â”œâ”€â”€ layout.tsx          â†’ Shared layout
  â”œâ”€â”€ dashboard/page.tsx  â†’ /dashboard
  â””â”€â”€ tests/page.tsx      â†’ /tests
```

**Server vs Client Components:**

```typescript
// âŒ ĞĞ• ĞŸĞ ĞĞ’Ğ˜Ğ›Ğ¬ĞĞ: ÑÑ‚Ñ€Ğ°Ğ½Ğ¸Ñ†Ğ° Ğ½Ğ°Ğ¿Ñ€ÑĞ¼ÑƒÑ Ğ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·ÑƒĞµÑ‚ useState
export default function TestsPage() {
  const [filter, setFilter] = useState('');  // ĞÑˆĞ¸Ğ±ĞºĞ°!
}

// âœ… ĞŸĞ ĞĞ’Ğ˜Ğ›Ğ¬ĞĞ: Server Component â†’ Client Component
// page.tsx (Server Component)
export default function TestsPage() {
  return <TestsPageContent />;  // Client Component
}

// TestsPageContent.tsx (Client Component)
'use client';
export function TestsPageContent() {
  const [filter, setFilter] = useState('');
}
```

### 2. Feature-Based Architecture (FSD-inspired)

ĞĞ¾Ğ²Ñ‹Ğµ Ñ„Ğ¸Ñ‡Ğ¸ Ğ¾Ñ€Ğ³Ğ°Ğ½Ğ¸Ğ·ÑƒÑÑ‚ÑÑ Ğ¿Ğ¾ Ğ¿Ğ°Ğ¿ĞºĞ°Ğ¼:

```
features/tests/
  â”œâ”€â”€ api/           # RTK Query endpoints
  â”œâ”€â”€ components/    # UI ĞºĞ¾Ğ¼Ğ¿Ğ¾Ğ½ĞµĞ½Ñ‚Ñ‹
  â”œâ”€â”€ hooks/         # Custom hooks
  â”œâ”€â”€ types/         # TypeScript Ñ‚Ğ¸Ğ¿Ñ‹
  â”œâ”€â”€ utils/         # Ğ£Ñ‚Ğ¸Ğ»Ğ¸Ñ‚Ñ‹
  â””â”€â”€ index.ts       # Barrel export
```

**ĞŸÑ€Ğ¸Ğ½Ñ†Ğ¸Ğ¿Ñ‹:**
- âœ… Ğ˜Ğ½ĞºĞ°Ğ¿ÑÑƒĞ»ÑÑ†Ğ¸Ñ: Ğ²ÑÑ Ğ»Ğ¾Ğ³Ğ¸ĞºĞ° Ñ„Ğ¸Ñ‡Ğ¸ Ğ² Ğ¾Ğ´Ğ½Ğ¾Ğ¹ Ğ¿Ğ°Ğ¿ĞºĞµ
- âœ… ĞŸĞµÑ€ĞµĞ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ: ÑĞºÑĞ¿Ğ¾Ñ€Ñ‚ Ñ‡ĞµÑ€ĞµĞ· barrel file
- âœ… Ğ¢ĞµÑÑ‚Ğ¸Ñ€ÑƒĞµĞ¼Ğ¾ÑÑ‚ÑŒ: Ğ¸Ğ·Ğ¾Ğ»Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ½Ñ‹Ğµ Ğ¼Ğ¾Ğ´ÑƒĞ»Ğ¸

### 3. Many-to-Many Database Relations

**Junction Tables** Ğ´Ğ»Ñ Ğ³Ğ¸Ğ±ĞºĞ¾ÑÑ‚Ğ¸:

```prisma
// Test â†” Question (Many-to-Many)
model TestQuestion {
  testId     String
  questionId String
  order      Int      // ĞŸĞ¾Ñ€ÑĞ´Ğ¾Ğº Ğ²Ğ¾Ğ¿Ñ€Ğ¾ÑĞ° Ğ² Ñ‚ĞµÑÑ‚Ğµ

  test       Test     @relation(...)
  question   Question @relation(...)
}

// Category â†” Test (Many-to-Many)
model CategoryTest {
  categoryId String
  testId     String
  order      Int      // ĞŸĞ¾Ñ€ÑĞ´Ğ¾Ğº Ñ‚ĞµÑÑ‚Ğ° Ğ² ĞºĞ°Ñ‚ĞµĞ³Ğ¾Ñ€Ğ¸Ğ¸

  category   Category @relation(...)
  test       Test     @relation(...)
}
```

**ĞŸÑ€ĞµĞ¸Ğ¼ÑƒÑ‰ĞµÑÑ‚Ğ²Ğ°:**
- ĞĞ´Ğ¸Ğ½ Ğ²Ğ¾Ğ¿Ñ€Ğ¾Ñ Ğ² Ğ½ĞµÑĞºĞ¾Ğ»ÑŒĞºĞ¸Ñ… Ñ‚ĞµÑÑ‚Ğ°Ñ… (Ğ±ĞµĞ· Ğ´ÑƒĞ±Ğ»Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ñ)
- ĞĞ´Ğ¸Ğ½ Ñ‚ĞµÑÑ‚ Ğ² Ğ½ĞµÑĞºĞ¾Ğ»ÑŒĞºĞ¸Ñ… ĞºĞ°Ñ‚ĞµĞ³Ğ¾Ñ€Ğ¸ÑÑ…
- ĞšĞ°ÑÑ‚Ğ¾Ğ¼Ğ½Ñ‹Ğ¹ Ğ¿Ğ¾Ñ€ÑĞ´Ğ¾Ğº Ğ´Ğ»Ñ ĞºĞ°Ğ¶Ğ´Ğ¾Ğ¹ ÑĞ²ÑĞ·Ğ¸

### 4. CSS Modules Pattern

```typescript
// Component.tsx
import styles from './Component.module.scss';

export function Component() {
  return (
    <div className={styles.container}>
      <button className={styles.primaryButton}>Click</button>
    </div>
  );
}
```

```scss
// Component.module.scss
@use '@/styles/tokens.scss' as *;

.container {
  padding: $spacing-lg;
  background: $color-background;
}

.primaryButton {
  background: $color-primary;
  color: white;
  border-radius: $border-radius-md;
}
```

### 5. API Routes Authentication Pattern

```typescript
// api/some-endpoint/route.ts
import { getServerSession } from 'next-auth';
import { authOptions } from '@/lib/auth';
import { prisma } from '@/lib/prisma';

export async function GET(request: Request) {
  // 1. ĞŸÑ€Ğ¾Ğ²ĞµÑ€ĞºĞ° Ğ°ÑƒÑ‚ĞµĞ½Ñ‚Ğ¸Ñ„Ğ¸ĞºĞ°Ñ†Ğ¸Ğ¸
  const session = await getServerSession(authOptions);
  if (!session?.user?.email) {
    return NextResponse.json({ error: 'Unauthorized' }, { status: 401 });
  }

  // 2. ĞŸĞ¾Ğ»ÑƒÑ‡ĞµĞ½Ğ¸Ğµ userId
  const user = await prisma.user.findUnique({
    where: { email: session.user.email }
  });

  if (!user) {
    return NextResponse.json({ error: 'User not found' }, { status: 404 });
  }

  // 3. Ğ‘Ğ¸Ğ·Ğ½ĞµÑ-Ğ»Ğ¾Ğ³Ğ¸ĞºĞ°
  const data = await prisma.someModel.findMany({
    where: { userId: user.id }
  });

  return NextResponse.json(data);
}
```

---

## ğŸ—„ ĞœĞ¾Ğ´ĞµĞ»Ğ¸ Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ…

### ĞÑĞ½Ğ¾Ğ²Ğ½Ñ‹Ğµ Ğ¼Ğ¾Ğ´ĞµĞ»Ğ¸

```prisma
model User {
  id               String   @id @default(cuid())
  email            String   @unique
  password         String
  name             String?
  skipTasksWarning Boolean  @default(false)

  // Relations
  testResults         TestResult[]
  pomodoroSessions    PomodoroSession[]
  testLists           UserTestList[]
  combinedTestResults CombinedTestResult[]
  taskProgress        LectureTaskProgress[]
}

model Category {
  id          String @id @default(cuid())
  name        String @unique
  slug        String @unique
  description String
  icon        String
  order       Int

  // Ğ˜ĞµÑ€Ğ°Ñ€Ñ…Ğ¸Ñ (Ğ¾Ğ¿Ñ†Ğ¸Ğ¾Ğ½Ğ°Ğ»ÑŒĞ½Ğ¾)
  parentId String?
  parent   Category?  @relation("CategoryHierarchy", ...)
  children Category[] @relation("CategoryHierarchy")

  // Many-to-Many Ñ Ñ‚ĞµÑÑ‚Ğ°Ğ¼Ğ¸
  tests CategoryTest[]
}

model Test {
  id          String     @id @default(cuid())
  title       String
  description String
  difficulty  Difficulty  // ENUM: beginner | intermediate | advanced
  tags        String[]    // ["system-analyst", "qa-engineer", ...]

  // Many-to-Many ÑĞ²ÑĞ·Ğ¸
  categories  CategoryTest[]
  collections CollectionTest[]
  questions   TestQuestion[]
  results     TestResult[]
  userLists   UserTestListItem[]
}

model Question {
  id            String   @id @default(cuid())
  question      String
  options       Json      // ["Option A", "Option B", ...]
  correctAnswer Int       // Index Ğ¿Ñ€Ğ°Ğ²Ğ¸Ğ»ÑŒĞ½Ğ¾Ğ³Ğ¾ Ğ¾Ñ‚Ğ²ĞµÑ‚Ğ°
  explanation   String
  lectureId     String?
  lecture       Lecture? @relation(...)

  tests         TestQuestion[]
}

model Lecture {
  id               String  @id @default(cuid())
  title            String
  topic            String
  content          String  @db.Text  // Markdown
  scenariosContent String? @db.Text  // Markdown (Ğ²ĞºĞ»Ğ°Ğ´ĞºĞ°)
  exampleContent   String? @db.Text  // Markdown (Ğ²ĞºĞ»Ğ°Ğ´ĞºĞ°)
  tasksContent     String? @db.Text  // Markdown (Ğ²ĞºĞ»Ğ°Ğ´ĞºĞ°)

  questions    Question[]
  taskProgress LectureTaskProgress[]
}
```

### Junction Tables

```prisma
// Test â†” Question
model TestQuestion {
  id         String @id @default(cuid())
  testId     String
  questionId String
  order      Int

  test     Test     @relation(...)
  question Question @relation(...)

  @@unique([testId, questionId])
  @@index([testId, order])
}

// Category â†” Test
model CategoryTest {
  id         String @id @default(cuid())
  categoryId String
  testId     String
  order      Int

  category Category @relation(...)
  test     Test     @relation(...)

  @@unique([categoryId, testId])
  @@index([categoryId, order])
}

// Collection â†” Test (Ğ´Ğ»Ñ ĞºĞ¾Ğ»Ğ»ĞµĞºÑ†Ğ¸Ğ¹ Ñ‚ĞµÑÑ‚Ğ¾Ğ²)
model CollectionTest {
  id           String  @id @default(cuid())
  collectionId String
  testId       String
  order        Int
  isRequired   Boolean @default(true)

  collection Collection @relation(...)
  test       Test       @relation(...)

  @@unique([collectionId, testId])
  @@index([collectionId, order])
}

// UserTestList â†” Test (Ğ´Ğ»Ñ Ğ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»ÑŒÑĞºĞ¸Ñ… ÑĞ¿Ğ¸ÑĞºĞ¾Ğ²)
model UserTestListItem {
  id     String @id @default(cuid())
  listId String
  testId String
  order  Int

  list UserTestList @relation(...)
  test Test         @relation(...)

  @@unique([listId, testId])
  @@index([listId, order])
}
```

### Ğ ĞµĞ·ÑƒĞ»ÑŒÑ‚Ğ°Ñ‚Ñ‹ Ñ‚ĞµÑÑ‚Ğ¾Ğ²

```prisma
model TestResult {
  id          String   @id @default(cuid())
  userId      String
  testId      String
  answers     Json      // [0, 2, 1, ...] - Ğ¸Ğ½Ğ´ĞµĞºÑÑ‹ Ğ²Ñ‹Ğ±Ñ€Ğ°Ğ½Ğ½Ñ‹Ñ… Ğ¾Ñ‚Ğ²ĞµÑ‚Ğ¾Ğ²
  score       Int       // 0-100
  mode        TestMode  // ENUM: learning | exam
  completedAt DateTime @default(now())

  user User @relation(...)
  test Test @relation(...)

  @@index([userId])
  @@index([userId, completedAt])
  @@index([testId, score])
}

model CombinedTestResult {
  id       String @id @default(cuid())
  userId   String
  listName String
  testIds  String[]  // ["test-id-1", "test-id-2", ...]

  totalScore     Int
  totalQuestions Int
  correctAnswers Int

  // Ğ”ĞµÑ‚Ğ°Ğ»Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ Ğ¿Ğ¾ Ñ‚ĞµÑÑ‚Ğ°Ğ¼
  testScores Json  // { "testId": { "score": 85, "correct": 17, "total": 20 } }

  completedAt DateTime @default(now())
  user        User     @relation(...)
}
```

---

## ğŸ” ĞÑƒÑ‚ĞµĞ½Ñ‚Ğ¸Ñ„Ğ¸ĞºĞ°Ñ†Ğ¸Ñ Ğ¸ Ğ°Ğ²Ñ‚Ğ¾Ñ€Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ

### NextAuth.js Configuration

```typescript
// src/lib/auth.ts
import { NextAuthOptions } from 'next-auth';
import CredentialsProvider from 'next-auth/providers/credentials';

export const authOptions: NextAuthOptions = {
  providers: [
    CredentialsProvider({
      name: 'Credentials',
      credentials: {
        email: { label: 'Email', type: 'email' },
        password: { label: 'Password', type: 'password' },
      },
      async authorize(credentials) {
        // 1. ĞŸÑ€Ğ¾Ğ²ĞµÑ€ĞºĞ° credentials
        if (!credentials?.email || !credentials?.password) {
          throw new Error('Ğ’Ğ²ĞµĞ´Ğ¸Ñ‚Ğµ email Ğ¸ Ğ¿Ğ°Ñ€Ğ¾Ğ»ÑŒ');
        }

        // 2. ĞŸĞ¾Ğ¸ÑĞº Ğ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»Ñ
        const user = await prisma.user.findUnique({
          where: { email: credentials.email },
        });

        if (!user) {
          throw new Error('ĞŸĞ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»ÑŒ Ğ½Ğµ Ğ½Ğ°Ğ¹Ğ´ĞµĞ½');
        }

        // 3. ĞŸÑ€Ğ¾Ğ²ĞµÑ€ĞºĞ° Ğ¿Ğ°Ñ€Ğ¾Ğ»Ñ
        const isValid = await verifyPassword(
          credentials.password,
          user.password
        );

        if (!isValid) {
          throw new Error('ĞĞµĞ²ĞµÑ€Ğ½Ñ‹Ğ¹ Ğ¿Ğ°Ñ€Ğ¾Ğ»ÑŒ');
        }

        // 4. Ğ’Ğ¾Ğ·Ğ²Ñ€Ğ°Ñ‚ user Ğ¾Ğ±ÑŠĞµĞºÑ‚Ğ°
        return {
          id: user.id,
          email: user.email,
          name: user.name,
        };
      },
    }),
  ],
  session: {
    strategy: 'jwt',  // JWT Ñ‚Ğ¾ĞºĞµĞ½Ñ‹ (Ğ±ĞµĞ· Ğ‘Ğ”)
  },
  pages: {
    signIn: '/login',
  },
  callbacks: {
    async jwt({ token, user }) {
      // Ğ”Ğ¾Ğ±Ğ°Ğ²Ğ»ÑĞµĞ¼ user.id Ğ² JWT Ñ‚Ğ¾ĞºĞµĞ½
      if (user) {
        token.id = user.id;
      }
      return token;
    },
    async session({ session, token }) {
      // Ğ”Ğ¾Ğ±Ğ°Ğ²Ğ»ÑĞµĞ¼ id Ğ² session.user
      if (session.user) {
        session.user.id = token.id as string;
      }
      return session;
    },
  },
  secret: process.env.NEXTAUTH_SECRET,
};
```

### Middleware Protection

```typescript
// src/middleware.ts
export { default } from 'next-auth/middleware';

export const config = {
  matcher: [
    '/dashboard/:path*',
    '/tests/:path*',
    '/results/:path*',
    '/pomodoro/:path*',
    '/lectures/:path*',
    '/my-lists/:path*'
  ]
};
```

### Client-side Session

```typescript
'use client';
import { useSession } from 'next-auth/react';

export function ProtectedComponent() {
  const { data: session, status } = useSession();

  if (status === 'loading') {
    return <div>Ğ—Ğ°Ğ³Ñ€ÑƒĞ·ĞºĞ°...</div>;
  }

  if (status === 'unauthenticated') {
    return <div>Ğ”Ğ¾ÑÑ‚ÑƒĞ¿ Ğ·Ğ°Ğ¿Ñ€ĞµÑ‰ĞµĞ½</div>;
  }

  return <div>ĞŸÑ€Ğ¸Ğ²ĞµÑ‚, {session?.user?.name}!</div>;
}
```

---

## ğŸ”„ State Management

### Redux Toolkit (Ğ“Ğ»Ğ¾Ğ±Ğ°Ğ»ÑŒĞ½Ğ¾Ğµ ÑĞ¾ÑÑ‚Ğ¾ÑĞ½Ğ¸Ğµ)

Ğ˜ÑĞ¿Ğ¾Ğ»ÑŒĞ·ÑƒĞµÑ‚ÑÑ Ğ´Ğ»Ñ:
- â±ï¸ Pomodoro Ñ‚Ğ°Ğ¹Ğ¼ĞµÑ€
- ğŸ“ ĞŸĞ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»ÑŒÑĞºĞ¸Ğµ ÑĞ¿Ğ¸ÑĞºĞ¸ (ĞºÑÑˆ)

```typescript
// store/pomodoroSlice.ts
interface PomodoroState {
  mode: 'work' | 'short_break' | 'long_break';
  timeLeft: number;
  isRunning: boolean;
  completedPomodoros: number;
  endTime: number | null;
}

export const pomodoroSlice = createSlice({
  name: 'pomodoro',
  initialState,
  reducers: {
    startTimer: (state) => {
      state.isRunning = true;
      state.endTime = Date.now() + state.timeLeft * 1000;
    },
    pauseTimer: (state) => {
      state.isRunning = false;
      state.endTime = null;
    },
    tick: (state) => {
      if (state.isRunning && state.endTime) {
        const remaining = Math.max(
          0,
          Math.ceil((state.endTime - Date.now()) / 1000)
        );
        state.timeLeft = remaining;
      }
    },
    // ...
  },
});
```

**Typed Hooks:**

```typescript
// store/hooks.ts
import { useDispatch, useSelector } from 'react-redux';
import type { TypedUseSelectorHook } from 'react-redux';
import type { RootState, AppDispatch } from './store';

export const useAppDispatch: () => AppDispatch = useDispatch;
export const useAppSelector: TypedUseSelectorHook<RootState> = useSelector;
```

**Usage:**

```typescript
import { useAppDispatch, useAppSelector } from '@/store/hooks';
import { startTimer, pauseTimer } from '@/store/pomodoroSlice';

export function PomodoroTimer() {
  const dispatch = useAppDispatch();
  const { timeLeft, isRunning } = useAppSelector((state) => state.pomodoro);

  const handleStart = () => dispatch(startTimer());
  const handlePause = () => dispatch(pauseTimer());

  return (
    <div>
      <div>{timeLeft}s</div>
      <button onClick={isRunning ? handlePause : handleStart}>
        {isRunning ? 'ĞŸĞ°ÑƒĞ·Ğ°' : 'Ğ¡Ñ‚Ğ°Ñ€Ñ‚'}
      </button>
    </div>
  );
}
```

### useState + sessionStorage (Ğ›Ğ¾ĞºĞ°Ğ»ÑŒĞ½Ğ¾Ğµ ÑĞ¾ÑÑ‚Ğ¾ÑĞ½Ğ¸Ğµ)

Ğ˜ÑĞ¿Ğ¾Ğ»ÑŒĞ·ÑƒĞµÑ‚ÑÑ Ğ´Ğ»Ñ:
- ğŸ“š ĞŸÑ€Ğ¾Ğ³Ñ€ĞµÑÑ Ñ‚ĞµÑÑ‚Ğ°
- ğŸ“– Ğ¡Ğ¾ÑÑ‚Ğ¾ÑĞ½Ğ¸Ğµ Ğ»ĞµĞºÑ†Ğ¸Ğ¹

```typescript
// ĞĞ²Ñ‚Ğ¾ÑĞ¾Ñ…Ñ€Ğ°Ğ½ĞµĞ½Ğ¸Ğµ Ğ² sessionStorage
useEffect(() => {
  if (testStarted && testId && !showResults) {
    const testState = {
      userAnswers,
      currentQuestionIndex,
      selectedAnswer,
      testMode,
      timeLeft,
      endTime
    };
    sessionStorage.setItem(`test_${testId}_state`, JSON.stringify(testState));
  }
}, [testStarted, userAnswers, currentQuestionIndex, testMode, timeLeft]);

// Ğ’Ğ¾ÑÑÑ‚Ğ°Ğ½Ğ¾Ğ²Ğ»ĞµĞ½Ğ¸Ğµ Ğ¿Ñ€Ğ¸ Ğ¼Ğ¾Ğ½Ñ‚Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğ¸
useEffect(() => {
  if (testId && !testStarted) {
    const savedStateStr = sessionStorage.getItem(`test_${testId}_state`);
    if (savedStateStr) {
      const state = JSON.parse(savedStateStr);
      // Ğ’Ğ¾ÑÑÑ‚Ğ°Ğ½Ğ¾Ğ²Ğ»ĞµĞ½Ğ¸Ğµ ÑĞ¾ÑÑ‚Ğ¾ÑĞ½Ğ¸Ñ...
    }
  }
}, [testId]);
```

---

## ğŸ¨ Ğ¡Ñ‚Ğ¸Ğ»Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ

### Design Tokens

```scss
// src/styles/tokens.scss

// Colors
$color-primary: #667eea;
$color-primary-dark: #5568d3;
$color-primary-gradient: linear-gradient(135deg, #667eea 0%, #764ba2 100%);

$color-success: #10b981;
$color-error: #ef4444;
$color-warning: #f59e0b;
$color-info: #3b82f6;

$color-text-primary: #111827;
$color-text-secondary: #6b7280;
$color-background: #ffffff;
$color-background-secondary: #f9fafb;
$color-border: #e5e7eb;

// Spacing
$spacing-xs: 0.25rem;   // 4px
$spacing-sm: 0.5rem;    // 8px
$spacing-md: 1rem;      // 16px
$spacing-lg: 1.5rem;    // 24px
$spacing-xl: 2rem;      // 32px

// Typography
$font-size-sm: 0.875rem;   // 14px
$font-size-base: 1rem;     // 16px
$font-size-lg: 1.125rem;   // 18px
$font-size-xl: 1.5rem;     // 24px
$font-size-2xl: 2rem;      // 32px

$font-weight-normal: 400;
$font-weight-medium: 500;
$font-weight-semibold: 600;
$font-weight-bold: 700;

// Border Radius
$border-radius-sm: 4px;
$border-radius-md: 8px;
$border-radius-lg: 12px;
$border-radius-xl: 16px;
$border-radius-circle: 50%;

// Shadows
$shadow-sm: 0 1px 2px rgba(0, 0, 0, 0.05);
$shadow-md: 0 4px 6px rgba(0, 0, 0, 0.1);
$shadow-lg: 0 10px 15px rgba(0, 0, 0, 0.1);

// Transitions
$transition-fast: 0.15s ease;
$transition-base: 0.2s ease;
$transition-slow: 0.3s ease;
```

### Utilities Mixins

```scss
// src/styles/utilities.scss
@use './tokens.scss' as *;

// Flexbox
@mixin flex-center {
  display: flex;
  align-items: center;
  justify-content: center;
}

@mixin flex-between {
  display: flex;
  align-items: center;
  justify-content: space-between;
}

@mixin flex-column {
  display: flex;
  flex-direction: column;
}

// Button Base
@mixin button-base {
  padding: $spacing-md $spacing-lg;
  font-size: $font-size-base;
  font-weight: $font-weight-semibold;
  border: none;
  border-radius: $border-radius-md;
  cursor: pointer;
  transition: all $transition-base;
}

// Responsive
@mixin mobile {
  @media (max-width: 768px) {
    @content;
  }
}

@mixin tablet {
  @media (min-width: 769px) and (max-width: 1024px) {
    @content;
  }
}

@mixin desktop {
  @media (min-width: 1025px) {
    @content;
  }
}
```

### Component Example

```scss
// Component.module.scss
@use '@/styles/tokens.scss' as *;
@use '@/styles/utilities.scss' as *;

.container {
  @include flex-column;
  gap: $spacing-lg;
  padding: $spacing-xl;
  background: $color-background;
  border-radius: $border-radius-lg;
  box-shadow: $shadow-md;

  @include mobile {
    padding: $spacing-md;
  }
}

.button {
  @include button-base;
  background: $color-primary-gradient;
  color: white;

  &:hover {
    transform: translateY(-2px);
    box-shadow: $shadow-lg;
  }

  &:disabled {
    opacity: 0.5;
    cursor: not-allowed;
  }
}
```

---

## ğŸ”Œ API Routes

### REST API Conventions

```
GET    /api/tests           # ĞŸĞ¾Ğ»ÑƒÑ‡Ğ¸Ñ‚ÑŒ ÑĞ¿Ğ¸ÑĞ¾Ğº Ñ‚ĞµÑÑ‚Ğ¾Ğ²
GET    /api/tests/[id]      # ĞŸĞ¾Ğ»ÑƒÑ‡Ğ¸Ñ‚ÑŒ Ñ‚ĞµÑÑ‚ Ğ¿Ğ¾ ID
POST   /api/tests/[id]/submit  # ĞÑ‚Ğ¿Ñ€Ğ°Ğ²Ğ¸Ñ‚ÑŒ Ñ€ĞµĞ·ÑƒĞ»ÑŒÑ‚Ğ°Ñ‚ Ñ‚ĞµÑÑ‚Ğ°
GET    /api/results         # ĞŸĞ¾Ğ»ÑƒÑ‡Ğ¸Ñ‚ÑŒ Ğ¸ÑÑ‚Ğ¾Ñ€Ğ¸Ñ Ñ€ĞµĞ·ÑƒĞ»ÑŒÑ‚Ğ°Ñ‚Ğ¾Ğ²
POST   /api/register        # Ğ ĞµĞ³Ğ¸ÑÑ‚Ñ€Ğ°Ñ†Ğ¸Ñ Ğ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»Ñ
GET    /api/lectures        # ĞŸĞ¾Ğ»ÑƒÑ‡Ğ¸Ñ‚ÑŒ ÑĞ¿Ğ¸ÑĞ¾Ğº Ğ»ĞµĞºÑ†Ğ¸Ğ¹
```

### Example: GET /api/tests/[id]

```typescript
// app/api/tests/[id]/route.ts
import { NextResponse } from 'next/server';
import { getServerSession } from 'next-auth';
import { authOptions } from '@/lib/auth';
import { prisma } from '@/lib/prisma';
import { shuffleArray, shuffleOptions } from '@/lib/utils';

export async function GET(
  request: Request,
  { params }: { params: { id: string } }
) {
  try {
    // 1. ĞŸÑ€Ğ¾Ğ²ĞµÑ€ĞºĞ° Ğ°ÑƒÑ‚ĞµĞ½Ñ‚Ğ¸Ñ„Ğ¸ĞºĞ°Ñ†Ğ¸Ğ¸
    const session = await getServerSession(authOptions);
    if (!session?.user) {
      return NextResponse.json({ error: 'Unauthorized' }, { status: 401 });
    }

    // 2. ĞŸĞ¾Ğ»ÑƒÑ‡ĞµĞ½Ğ¸Ğµ Ñ‚ĞµÑÑ‚Ğ° Ğ¸Ğ· Ğ‘Ğ”
    const test = await prisma.test.findUnique({
      where: { id: params.id },
      include: {
        questions: {
          include: { question: true },
          orderBy: { order: 'asc' }
        },
        categories: {
          include: { category: true }
        }
      }
    });

    if (!test) {
      return NextResponse.json({ error: 'Test not found' }, { status: 404 });
    }

    // 3. ĞŸĞµÑ€ĞµĞ¼ĞµÑˆĞ¸Ğ²Ğ°Ğ½Ğ¸Ğµ Ğ²Ğ¾Ğ¿Ñ€Ğ¾ÑĞ¾Ğ² Ğ¸ Ğ¾Ñ‚Ğ²ĞµÑ‚Ğ¾Ğ²
    const questions = test.questions.map((tq) => {
      const { question } = tq;
      const { options, correctAnswer } = shuffleOptions(
        question.options as string[],
        question.correctAnswer
      );
      return {
        id: question.id,
        question: question.question,
        options,
        correctAnswer,
        explanation: question.explanation,
      };
    });

    const shuffledQuestions = shuffleArray(questions);

    // 4. Ğ¤Ğ¾Ñ€Ğ¼Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ Ğ¾Ñ‚Ğ²ĞµÑ‚Ğ°
    return NextResponse.json({
      id: test.id,
      title: test.title,
      description: test.description,
      difficulty: test.difficulty,
      questions: shuffledQuestions,
      categories: test.categories.map((ct) => ({
        id: ct.category.id,
        name: ct.category.name,
        slug: ct.category.slug,
      })),
    });

  } catch (error) {
    console.error('Error fetching test:', error);
    return NextResponse.json(
      { error: 'Internal server error' },
      { status: 500 }
    );
  }
}
```

### Example: POST /api/tests/[id]/submit

```typescript
// app/api/tests/[id]/submit/route.ts
export async function POST(
  request: Request,
  { params }: { params: { id: string } }
) {
  try {
    // 1. ĞÑƒÑ‚ĞµĞ½Ñ‚Ğ¸Ñ„Ğ¸ĞºĞ°Ñ†Ğ¸Ñ
    const session = await getServerSession(authOptions);
    if (!session?.user?.email) {
      return NextResponse.json({ error: 'Unauthorized' }, { status: 401 });
    }

    const user = await prisma.user.findUnique({
      where: { email: session.user.email }
    });

    if (!user) {
      return NextResponse.json({ error: 'User not found' }, { status: 404 });
    }

    // 2. ĞŸĞ°Ñ€ÑĞ¸Ğ½Ğ³ body
    const { answers, mode } = await request.json();

    if (!answers || !Array.isArray(answers)) {
      return NextResponse.json(
        { error: 'Invalid answers format' },
        { status: 400 }
      );
    }

    // 3. ĞŸĞ¾Ğ»ÑƒÑ‡ĞµĞ½Ğ¸Ğµ Ñ‚ĞµÑÑ‚Ğ° Ğ´Ğ»Ñ Ğ¿Ñ€Ğ¾Ğ²ĞµÑ€ĞºĞ¸
    const test = await prisma.test.findUnique({
      where: { id: params.id },
      include: {
        questions: {
          include: { question: true },
          orderBy: { order: 'asc' }
        }
      }
    });

    if (!test) {
      return NextResponse.json({ error: 'Test not found' }, { status: 404 });
    }

    // 4. ĞŸĞ¾Ğ´ÑÑ‡ĞµÑ‚ Ğ¿Ñ€Ğ°Ğ²Ğ¸Ğ»ÑŒĞ½Ñ‹Ñ… Ğ¾Ñ‚Ğ²ĞµÑ‚Ğ¾Ğ²
    let correctCount = 0;
    test.questions.forEach((tq, index) => {
      if (answers[index] === tq.question.correctAnswer) {
        correctCount++;
      }
    });

    const score = Math.round((correctCount / test.questions.length) * 100);

    // 5. Ğ¡Ğ¾Ñ…Ñ€Ğ°Ğ½ĞµĞ½Ğ¸Ğµ Ñ€ĞµĞ·ÑƒĞ»ÑŒÑ‚Ğ°Ñ‚Ğ° (Ñ‚Ğ¾Ğ»ÑŒĞºĞ¾ Ğ´Ğ»Ñ exam mode)
    if (mode === 'exam') {
      await prisma.testResult.create({
        data: {
          userId: user.id,
          testId: test.id,
          answers,
          score,
          mode,
        }
      });
    }

    // 6. Ğ’Ğ¾Ğ·Ğ²Ñ€Ğ°Ñ‚ Ñ€ĞµĞ·ÑƒĞ»ÑŒÑ‚Ğ°Ñ‚Ğ°
    return NextResponse.json({
      score,
      correctCount,
      totalQuestions: test.questions.length,
    });

  } catch (error) {
    console.error('Error submitting test:', error);
    return NextResponse.json(
      { error: 'Internal server error' },
      { status: 500 }
    );
  }
}
```

---

## ğŸ§ª Ğ¡Ğ¸ÑÑ‚ĞµĞ¼Ğ° Ñ‚ĞµÑÑ‚Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ñ

### Ğ”Ğ²Ğ° Ñ€ĞµĞ¶Ğ¸Ğ¼Ğ° Ğ¿Ñ€Ğ¾Ñ…Ğ¾Ğ¶Ğ´ĞµĞ½Ğ¸Ñ

**Learning Mode (Ğ ĞµĞ¶Ğ¸Ğ¼ Ğ¾Ğ±ÑƒÑ‡ĞµĞ½Ğ¸Ñ):**
- â±ï¸ Ğ‘ĞµĞ· Ğ¾Ğ³Ñ€Ğ°Ğ½Ğ¸Ñ‡ĞµĞ½Ğ¸Ñ Ğ¿Ğ¾ Ğ²Ñ€ĞµĞ¼ĞµĞ½Ğ¸
- ğŸ“š Ğ”Ğ¾ÑÑ‚ÑƒĞ¿ Ğº Ğ»ĞµĞºÑ†Ğ¸ÑĞ¼ Ğ²Ğ¾ Ğ²Ñ€ĞµĞ¼Ñ Ñ‚ĞµÑÑ‚Ğ°
- âŒ Ğ ĞµĞ·ÑƒĞ»ÑŒÑ‚Ğ°Ñ‚Ñ‹ ĞĞ• ÑĞ¾Ñ…Ñ€Ğ°Ğ½ÑÑÑ‚ÑÑ Ğ² Ğ‘Ğ”
- âœ… ĞĞ²Ñ‚Ğ¾ÑĞ¾Ñ…Ñ€Ğ°Ğ½ĞµĞ½Ğ¸Ğµ Ğ¿Ñ€Ğ¾Ğ³Ñ€ĞµÑÑĞ° (sessionStorage)
- âœ… ĞœĞ¾Ğ¶Ğ½Ğ¾ Ğ¿Ñ€Ğ¾Ğ´Ğ¾Ğ»Ğ¶Ğ¸Ñ‚ÑŒ Ğ¿Ğ¾ÑĞ»Ğµ Ğ¿ĞµÑ€ĞµĞ·Ğ°Ğ³Ñ€ÑƒĞ·ĞºĞ¸ (Ñ Ğ´Ğ¸Ğ°Ğ»Ğ¾Ğ³Ğ¾Ğ¼)

**Exam Mode (Ğ ĞµĞ¶Ğ¸Ğ¼ ÑĞºĞ·Ğ°Ğ¼ĞµĞ½Ğ°):**
- â±ï¸ **20 ÑĞµĞºÑƒĞ½Ğ´ Ğ½Ğ° ĞºĞ°Ğ¶Ğ´Ñ‹Ğ¹ Ğ²Ğ¾Ğ¿Ñ€Ğ¾Ñ**
- âŒ ĞĞµÑ‚ Ğ´Ğ¾ÑÑ‚ÑƒĞ¿Ğ° Ğº Ğ»ĞµĞºÑ†Ğ¸ÑĞ¼
- âœ… Ğ ĞµĞ·ÑƒĞ»ÑŒÑ‚Ğ°Ñ‚Ñ‹ ÑĞ¾Ñ…Ñ€Ğ°Ğ½ÑÑÑ‚ÑÑ Ğ² Ğ‘Ğ”
- âœ… ĞĞ²Ñ‚Ğ¾ÑĞ¾Ñ…Ñ€Ğ°Ğ½ĞµĞ½Ğ¸Ğµ Ğ¿Ñ€Ğ¾Ğ³Ñ€ĞµÑÑĞ° (sessionStorage)
- âœ… ĞĞ²Ñ‚Ğ¾Ğ¼Ğ°Ñ‚Ğ¸Ñ‡ĞµÑĞºĞ¾Ğµ Ğ¿Ñ€Ğ¾Ğ´Ğ¾Ğ»Ğ¶ĞµĞ½Ğ¸Ğµ Ğ¿Ñ€Ğ¸ Ğ¿ĞµÑ€ĞµĞ·Ğ°Ğ³Ñ€ÑƒĞ·ĞºĞµ (Ğ±ĞµĞ· Ğ´Ğ¸Ğ°Ğ»Ğ¾Ğ³Ğ°)
- âš ï¸ ĞœĞ¾Ğ´Ğ°Ğ» Ğ¿Ğ¾Ğ´Ñ‚Ğ²ĞµÑ€Ğ¶Ğ´ĞµĞ½Ğ¸Ñ Ğ¿Ñ€Ğ¸ Ğ¿Ğ¾Ğ¿Ñ‹Ñ‚ĞºĞµ Ğ²Ñ‹Ñ…Ğ¾Ğ´Ğ°

### Timer Pattern (endTime approach)

```typescript
// ĞŸÑ€Ğ¸ ÑÑ‚Ğ°Ñ€Ñ‚Ğµ Ñ‚Ğ°Ğ¹Ğ¼ĞµÑ€Ğ°
const examDuration = test.questions.length * 20; // ÑĞµĞºÑƒĞ½Ğ´Ñ‹
const endTime = Date.now() + examDuration * 1000;
setEndTime(endTime);

// ĞŸÑ€Ğ¸ ĞºĞ°Ğ¶Ğ´Ğ¾Ğ¼ tick
useEffect(() => {
  if (testMode === 'exam' && testStarted && !showResults) {
    const interval = setInterval(() => {
      const now = Date.now();
      const remaining = endTime
        ? Math.max(0, Math.ceil((endTime - now) / 1000))
        : 0;

      setTimeLeft(remaining);

      if (remaining === 0) {
        // Ğ’Ñ€ĞµĞ¼Ñ Ğ¸ÑÑ‚ĞµĞºĞ»Ğ¾ - Ğ°Ğ²Ñ‚Ğ¾ÑĞ°Ğ±Ğ¼Ğ¸Ñ‚
        submitTest(userAnswers);
      }
    }, 1000);

    return () => clearInterval(interval);
  }
}, [testMode, testStarted, showResults, endTime]);
```

**ĞŸÑ€ĞµĞ¸Ğ¼ÑƒÑ‰ĞµÑÑ‚Ğ²Ğ° endTime:**
- âœ… ĞĞµÑ‚ drift (Ñ‚Ğ¾Ñ‡Ğ½Ğ¾ÑÑ‚ÑŒ)
- âœ… Ğ Ğ°Ğ±Ğ¾Ñ‚Ğ°ĞµÑ‚ Ğ¿Ñ€Ğ¸ Ğ¿ĞµÑ€ĞµĞ·Ğ°Ğ³Ñ€ÑƒĞ·ĞºĞµ ÑÑ‚Ñ€Ğ°Ğ½Ğ¸Ñ†Ñ‹
- âœ… Ğ¡Ğ¸Ğ½Ñ…Ñ€Ğ¾Ğ½Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ Ğ¼ĞµĞ¶Ğ´Ñƒ Ğ²ĞºĞ»Ğ°Ğ´ĞºĞ°Ğ¼Ğ¸

### Progress Auto-save

```typescript
// ĞĞ²Ñ‚Ğ¾ÑĞ¾Ñ…Ñ€Ğ°Ğ½ĞµĞ½Ğ¸Ğµ
useEffect(() => {
  if (testStarted && testId && !showResults) {
    const testState = {
      userAnswers,
      currentQuestionIndex,
      selectedAnswer,
      testMode,
      timeLeft,
      endTime
    };
    sessionStorage.setItem(`test_${testId}_state`, JSON.stringify(testState));
  }
}, [testStarted, userAnswers, currentQuestionIndex, testMode, timeLeft]);

// Ğ’Ğ¾ÑÑÑ‚Ğ°Ğ½Ğ¾Ğ²Ğ»ĞµĞ½Ğ¸Ğµ (learning mode - Ğ¿Ğ¾ĞºĞ°Ğ·Ğ°Ñ‚ÑŒ Ğ´Ğ¸Ğ°Ğ»Ğ¾Ğ³)
useEffect(() => {
  if (testId && !testStarted && !showRestoreDialog) {
    const savedStateStr = sessionStorage.getItem(`test_${testId}_state`);

    if (savedStateStr) {
      const state = JSON.parse(savedStateStr);

      if (state.testMode === 'learning') {
        setSavedState(state);
        setShowRestoreDialog(true);  // ĞŸĞ¾ĞºĞ°Ğ·Ğ°Ñ‚ÑŒ Ğ´Ğ¸Ğ°Ğ»Ğ¾Ğ³
      } else if (state.testMode === 'exam') {
        // ĞŸÑ€Ğ¾Ğ²ĞµÑ€ĞºĞ° Ğ²Ñ€ĞµĞ¼ĞµĞ½Ğ¸
        const remaining = state.endTime
          ? Math.max(0, Math.ceil((state.endTime - Date.now()) / 1000))
          : 0;

        if (remaining > 0) {
          setSavedState(state);
          // ĞĞ• Ğ¿Ğ¾ĞºĞ°Ğ·Ñ‹Ğ²Ğ°ĞµĞ¼ Ğ´Ğ¸Ğ°Ğ»Ğ¾Ğ³ - Ğ°Ğ²Ñ‚Ğ¾-Ğ²Ğ¾ÑÑÑ‚Ğ°Ğ½Ğ¾Ğ²Ğ»ĞµĞ½Ğ¸Ğµ
        } else {
          sessionStorage.removeItem(`test_${testId}_state`);
        }
      }
    }
  }
}, [testId, testStarted, showRestoreDialog]);

// ĞĞ²Ñ‚Ğ¾Ğ²Ğ¾ÑÑÑ‚Ğ°Ğ½Ğ¾Ğ²Ğ»ĞµĞ½Ğ¸Ğµ exam mode
useEffect(() => {
  if (savedState && savedState.testMode === 'exam' && !testStarted) {
    restoreProgress();
    setTestMode(savedState.testMode);
    setTestStarted(true);
    if (savedState.endTime) {
      setEndTime(savedState.endTime);
    }
  }
}, [savedState, testStarted]);
```

### Question and Options Shuffling

```typescript
// src/lib/utils.ts

// Fisher-Yates Shuffle
export function shuffleArray<T>(array: T[]): T[] {
  const result = [...array];
  for (let i = result.length - 1; i > 0; i--) {
    const j = Math.floor(Math.random() * (i + 1));
    [result[i], result[j]] = [result[j], result[i]];
  }
  return result;
}

// Shuffle options + adjust correctAnswer index
export function shuffleOptions(
  options: string[],
  correctAnswer: number
): { options: string[]; correctAnswer: number } {
  const correctOption = options[correctAnswer];
  const shuffled = shuffleArray(options);
  const newCorrectIndex = shuffled.indexOf(correctOption);

  return {
    options: shuffled,
    correctAnswer: newCorrectIndex,
  };
}
```

---

## ğŸ“ Ğ—Ğ°ĞºĞ»ÑÑ‡ĞµĞ½Ğ¸Ğµ

Ğ­Ñ‚Ğ° Ğ°Ñ€Ñ…Ğ¸Ñ‚ĞµĞºÑ‚ÑƒÑ€Ğ° Ğ¾Ğ±ĞµÑĞ¿ĞµÑ‡Ğ¸Ğ²Ğ°ĞµÑ‚:

âœ… **ĞœĞ°ÑÑˆÑ‚Ğ°Ğ±Ğ¸Ñ€ÑƒĞµĞ¼Ğ¾ÑÑ‚ÑŒ** - Feature-based ÑÑ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ğ°
âœ… **ĞŸÑ€Ğ¾Ğ¸Ğ·Ğ²Ğ¾Ğ´Ğ¸Ñ‚ĞµĞ»ÑŒĞ½Ğ¾ÑÑ‚ÑŒ** - Server Components + Client Components Ñ€Ğ°Ğ·Ğ´ĞµĞ»ĞµĞ½Ğ¸Ğµ
âœ… **Ğ‘ĞµĞ·Ğ¾Ğ¿Ğ°ÑĞ½Ğ¾ÑÑ‚ÑŒ** - NextAuth + Middleware protection
âœ… **Ğ“Ğ¸Ğ±ĞºĞ¾ÑÑ‚ÑŒ** - Many-to-Many relations
âœ… **ĞŸĞ¾Ğ´Ğ´ĞµÑ€Ğ¶Ğ¸Ğ²Ğ°ĞµĞ¼Ğ¾ÑÑ‚ÑŒ** - TypeScript + Ñ‡ĞµÑ‚ĞºĞ¸Ğµ Ğ¿Ğ°Ñ‚Ñ‚ĞµÑ€Ğ½Ñ‹

**Ğ¡Ğ»ĞµĞ´ÑƒÑÑ‰Ğ¸Ğ¹ ÑˆĞ°Ğ³:** [FEATURE_DEVELOPMENT_GUIDE.md](./FEATURE_DEVELOPMENT_GUIDE.md) - ĞºĞ°Ğº Ğ´Ğ¾Ğ±Ğ°Ğ²Ğ»ÑÑ‚ÑŒ Ğ½Ğ¾Ğ²Ñ‹Ğµ Ñ„Ğ¸Ñ‡Ğ¸

---

**Ğ”Ğ¾ĞºÑƒĞ¼ĞµĞ½Ñ‚ Ğ¾Ğ±Ğ½Ğ¾Ğ²Ğ»ĞµĞ½:** 2026-01-28
**Ğ’ĞµÑ€ÑĞ¸Ñ:** 1.0
